(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.slice");require("@marcom/ac-polyfills/Element/prototype.classList");var classNameAdd=require("./className/add");module.exports=function add(){var tokens=Array.prototype.slice.call(arguments);var el=tokens.shift(tokens);var i;if(el.classList&&el.classList.add){el.classList.add.apply(el.classList,tokens);return}for(i=0;i<tokens.length;i++){classNameAdd(el,tokens[i])}}},{"./className/add":3,"@marcom/ac-polyfills/Array/prototype.slice":48,"@marcom/ac-polyfills/Element/prototype.classList":49}],2:[function(require,module,exports){"use strict";module.exports={add:require("./className/add"),contains:require("./className/contains"),remove:require("./className/remove")}},{"./className/add":3,"./className/contains":4,"./className/remove":6}],3:[function(require,module,exports){"use strict";var classNameContains=require("./contains");module.exports=function add(el,token){if(!classNameContains(el,token)){el.className+=" "+token}}},{"./contains":4}],4:[function(require,module,exports){"use strict";var getTokenRegExp=require("./getTokenRegExp");module.exports=function classNameAdd(el,token){return getTokenRegExp(token).test(el.className)}},{"./getTokenRegExp":5}],5:[function(require,module,exports){"use strict";module.exports=function getTokenRegExp(token){return new RegExp("(\\s|^)"+token+"(\\s|$)")}},{}],6:[function(require,module,exports){"use strict";var classNameContains=require("./contains");var getTokenRegExp=require("./getTokenRegExp");module.exports=function remove(el,token){if(classNameContains(el,token)){el.className=el.className.replace(getTokenRegExp(token),"$1").trim()}}},{"./contains":4,"./getTokenRegExp":5}],7:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Element/prototype.classList");var classNameContains=require("./className/contains");module.exports=function contains(el,token){if(el.classList&&el.classList.contains){return el.classList.contains(token)}return classNameContains(el,token)}},{"./className/contains":4,"@marcom/ac-polyfills/Element/prototype.classList":49}],8:[function(require,module,exports){"use strict";module.exports={add:require("./add"),contains:require("./contains"),remove:require("./remove"),toggle:require("./toggle")}},{"./add":1,"./contains":7,"./remove":9,"./toggle":10}],9:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.slice");require("@marcom/ac-polyfills/Element/prototype.classList");var classNameRemove=require("./className/remove");module.exports=function remove(){var tokens=Array.prototype.slice.call(arguments);var el=tokens.shift(tokens);var i;if(el.classList&&el.classList.remove){el.classList.remove.apply(el.classList,tokens);return}for(i=0;i<tokens.length;i++){classNameRemove(el,tokens[i])}}},{"./className/remove":6,"@marcom/ac-polyfills/Array/prototype.slice":48,"@marcom/ac-polyfills/Element/prototype.classList":49}],10:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Element/prototype.classList");var className=require("./className");module.exports=function toggle(el,token,force){var hasForce=typeof force!=="undefined";var addToken;if(el.classList&&el.classList.toggle){if(hasForce){return el.classList.toggle(token,force)}return el.classList.toggle(token)}if(hasForce){addToken=!!force}else{addToken=!className.contains(el,token)}if(addToken){className.add(el,token)}else{className.remove(el,token)}return addToken}},{"./className":2,"@marcom/ac-polyfills/Element/prototype.classList":49}],11:[function(require,module,exports){"use strict";module.exports=function addEventListener(target,type,listener,useCapture){if(target.addEventListener){target.addEventListener(type,listener,!!useCapture)}else{target.attachEvent("on"+type,listener)}return target}},{}],12:[function(require,module,exports){"use strict";module.exports=function getScrollY(el){var offset;el=el||window;if(el===window){offset=window.pageYOffset;if(!offset){el=document.documentElement||document.body.parentNode||document.body}else{return offset}}return el.scrollTop}},{}],13:[function(require,module,exports){"use strict";module.exports=8},{}],14:[function(require,module,exports){"use strict";module.exports=11},{}],15:[function(require,module,exports){"use strict";module.exports=9},{}],16:[function(require,module,exports){"use strict";module.exports=1},{}],17:[function(require,module,exports){"use strict";module.exports=3},{}],18:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function insertBefore(node,target){validate.insertNode(node,true,"insertBefore");validate.childNode(target,true,"insertBefore");validate.hasParentNode(target,"insertBefore");return target.parentNode.insertBefore(node,target)}},{"./internal/validate":20}],19:[function(require,module,exports){"use strict";var isNode=require("../isNode");module.exports=function isNodeType(node,nodeType){if(!isNode(node)){return false}if(typeof nodeType==="number"){return node.nodeType===nodeType}return nodeType.indexOf(node.nodeType)!==-1}},{"../isNode":23}],20:[function(require,module,exports){"use strict";var isNodeType=require("./isNodeType");var COMMENT_NODE=require("../COMMENT_NODE");var DOCUMENT_FRAGMENT_NODE=require("../DOCUMENT_FRAGMENT_NODE");var ELEMENT_NODE=require("../ELEMENT_NODE");var TEXT_NODE=require("../TEXT_NODE");var VALID_INSERT_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_INSERT_NODE=" must be an Element, TextNode, Comment, or Document Fragment";var VALID_CHILD_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE];var ERR_INVALID_CHILD_NODE=" must be an Element, TextNode, or Comment";var VALID_PARENT_NODE=[ELEMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_PARENT_NODE=" must be an Element, or Document Fragment";var ERR_NO_PARENT_NODE=" must have a parentNode";module.exports={parentNode:function(node,required,funcName,paramName){paramName=paramName||"target";if((node||required)&&!isNodeType(node,VALID_PARENT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_PARENT_NODE)}},childNode:function(node,required,funcName,paramName){paramName=paramName||"target";if(!node&&!required){return}if(!isNodeType(node,VALID_CHILD_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_CHILD_NODE)}},insertNode:function(node,required,funcName,paramName){paramName=paramName||"node";if(!node&&!required){return}if(!isNodeType(node,VALID_INSERT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_INSERT_NODE)}},hasParentNode:function(node,funcName,paramName){paramName=paramName||"target";if(!node.parentNode){throw new TypeError(funcName+": "+paramName+ERR_NO_PARENT_NODE)}}}},{"../COMMENT_NODE":13,"../DOCUMENT_FRAGMENT_NODE":14,"../ELEMENT_NODE":16,"../TEXT_NODE":17,"./isNodeType":19}],21:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var DOCUMENT_FRAGMENT_NODE=require("./DOCUMENT_FRAGMENT_NODE");module.exports=function isDocumentFragment(obj){return isNodeType(obj,DOCUMENT_FRAGMENT_NODE)}},{"./DOCUMENT_FRAGMENT_NODE":14,"./internal/isNodeType":19}],22:[function(require,module,exports){"use strict";var isNodeType=require("./internal/isNodeType");var ELEMENT_NODE=require("./ELEMENT_NODE");module.exports=function isElement(obj){return isNodeType(obj,ELEMENT_NODE)}},{"./ELEMENT_NODE":16,"./internal/isNodeType":19}],23:[function(require,module,exports){"use strict";module.exports=function isNode(obj){return!!(obj&&obj.nodeType)}},{}],24:[function(require,module,exports){"use strict";var validate=require("./internal/validate");module.exports=function remove(node){validate.childNode(node,true,"remove");if(!node.parentNode){return node}return node.parentNode.removeChild(node)}},{"./internal/validate":20}],25:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function ancestor(node,selector,inclusive,context){validate.childNode(node,true,"ancestors");validate.selector(selector,false,"ancestors");if(inclusive&&isElement(node)&&(!selector||matchesSelector(node,selector))){return node}context=context||document.body;if(node!==context){while((node=node.parentNode)&&isElement(node)){if(!selector||matchesSelector(node,selector)){return node}if(node===context){break}}}return null}},{"./internal/validate":28,"./matchesSelector":29,"@marcom/ac-dom-nodes/isElement":22}],26:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var matchesSelector=require("./matchesSelector");var validate=require("./internal/validate");module.exports=function ancestors(node,selector,inclusive,context){var els=[];validate.childNode(node,true,"ancestors");validate.selector(selector,false,"ancestors");if(inclusive&&isElement(node)&&(!selector||matchesSelector(node,selector))){els.push(node)}context=context||document.body;if(node!==context){while((node=node.parentNode)&&isElement(node)){if(!selector||matchesSelector(node,selector)){els.push(node)}if(node===context){break}}}return els}},{"./internal/validate":28,"./matchesSelector":29,"@marcom/ac-dom-nodes/isElement":22}],27:[function(require,module,exports){"use strict";module.exports=window.Element?function(proto){return proto.matches||proto.matchesSelector||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector}(Element.prototype):null},{}],28:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");var isNode=require("@marcom/ac-dom-nodes/isNode");var COMMENT_NODE=require("@marcom/ac-dom-nodes/COMMENT_NODE");var DOCUMENT_FRAGMENT_NODE=require("@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE");var DOCUMENT_NODE=require("@marcom/ac-dom-nodes/DOCUMENT_NODE");var ELEMENT_NODE=require("@marcom/ac-dom-nodes/ELEMENT_NODE");var TEXT_NODE=require("@marcom/ac-dom-nodes/TEXT_NODE");var isNodeType=function(node,nodeType){if(!isNode(node)){return false}if(typeof nodeType==="number"){return node.nodeType===nodeType}return nodeType.indexOf(node.nodeType)!==-1};var VALID_PARENT_NODE=[ELEMENT_NODE,DOCUMENT_NODE,DOCUMENT_FRAGMENT_NODE];var ERR_INVALID_PARENT_NODE=" must be an Element, Document, or Document Fragment";var VALID_CHILD_NODE=[ELEMENT_NODE,TEXT_NODE,COMMENT_NODE];var ERR_INVALID_CHILD_NODE=" must be an Element, TextNode, or Comment";var ERR_INVALID_SELECTOR=" must be a string";module.exports={parentNode:function(node,required,funcName,paramName){paramName=paramName||"node";if((node||required)&&!isNodeType(node,VALID_PARENT_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_PARENT_NODE)}},childNode:function(node,required,funcName,paramName){paramName=paramName||"node";if(!node&&!required){return}if(!isNodeType(node,VALID_CHILD_NODE)){throw new TypeError(funcName+": "+paramName+ERR_INVALID_CHILD_NODE)}},selector:function(selector,required,funcName,paramName){paramName=paramName||"selector";if((selector||required)&&typeof selector!=="string"){throw new TypeError(funcName+": "+paramName+ERR_INVALID_SELECTOR)}}}},{"@marcom/ac-dom-nodes/COMMENT_NODE":13,"@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE":14,"@marcom/ac-dom-nodes/DOCUMENT_NODE":15,"@marcom/ac-dom-nodes/ELEMENT_NODE":16,"@marcom/ac-dom-nodes/TEXT_NODE":17,"@marcom/ac-dom-nodes/isNode":23,"@marcom/ac-polyfills/Array/prototype.indexOf":47}],29:[function(require,module,exports){"use strict";var isElement=require("@marcom/ac-dom-nodes/isElement");var validate=require("./internal/validate");var nativeMatches=require("./internal/nativeMatches");var matchesSelectorShim=require("./shims/matchesSelector");module.exports=function matchesSelector(node,selector){validate.selector(selector,true,"matchesSelector");if(!isElement(node)){return false}if(!nativeMatches){return matchesSelectorShim(node,selector)}return nativeMatches.call(node,selector)}},{"./internal/nativeMatches":27,"./internal/validate":28,"./shims/matchesSelector":31,"@marcom/ac-dom-nodes/isElement":22}],30:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.slice");var validate=require("./internal/validate");var querySelectorAllShim=require("./shims/querySelectorAll");var querySelectorAllAvailable="querySelectorAll"in document;module.exports=function querySelectorAll(selector,context){context=context||document;validate.parentNode(context,true,"querySelectorAll","context");validate.selector(selector,true,"querySelectorAll");if(!querySelectorAllAvailable){return querySelectorAllShim(selector,context)}return Array.prototype.slice.call(context.querySelectorAll(selector))}},{"./internal/validate":28,"./shims/querySelectorAll":32,"@marcom/ac-polyfills/Array/prototype.slice":48}],31:[function(require,module,exports){"use strict";var querySelectorAll=require("../querySelectorAll");module.exports=function matchesSelector(node,selector){var context=node.parentNode||document;var nodes=querySelectorAll(selector,context);var i;for(i=0;i<nodes.length;i++){if(nodes[i]===node){return true}}return false}},{"../querySelectorAll":30}],32:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.indexOf");var isElement=require("@marcom/ac-dom-nodes/isElement");var isDocumentFragment=require("@marcom/ac-dom-nodes/isDocumentFragment");var removeElement=require("@marcom/ac-dom-nodes/remove");var COLLECTION_PREFIX="_ac_qsa_";var isElementInContext=function(el,context){var parent;if(context===document){return true}parent=el;while((parent=parent.parentNode)&&isElement(parent)){if(parent===context){return true}}return false};var recalcStyles=function(context){if("recalc"in context){context.recalc(false)}else{document.recalc(false)}window.scrollBy(0,0)};module.exports=function querySelectorAll(selector,context){var style=document.createElement("style");var id=COLLECTION_PREFIX+(Math.random()+"").slice(-6);var els=[];var el;context=context||document;document[id]=[];if(isDocumentFragment(context)){context.appendChild(style)}else{document.documentElement.firstChild.appendChild(style)}style.styleSheet.cssText="*{display:recalc;}"+selector+'{ac-qsa:expression(document["'+id+'"] && document["'+id+'"].push(this));}';recalcStyles(context);while(document[id].length){el=document[id].shift();el.style.removeAttribute("ac-qsa");if(els.indexOf(el)===-1&&isElementInContext(el,context)){els.push(el)}}document[id]=null;removeElement(style);recalcStyles(context);return els}},{"@marcom/ac-dom-nodes/isDocumentFragment":21,"@marcom/ac-dom-nodes/isElement":22,"@marcom/ac-dom-nodes/remove":24,"@marcom/ac-polyfills/Array/prototype.indexOf":47}],33:[function(require,module,exports){"use strict";module.exports={EventEmitterMicro:require("./ac-event-emitter-micro/EventEmitterMicro")}},{"./ac-event-emitter-micro/EventEmitterMicro":34}],34:[function(require,module,exports){"use strict";function EventEmitterMicro(){this._events={}}var proto=EventEmitterMicro.prototype;proto.on=function(eventName,callback){this._events[eventName]=this._events[eventName]||[];this._events[eventName].unshift(callback)};proto.once=function(eventName,callback){var that=this;function fn(data){that.off(eventName,fn);if(data!==undefined)callback(data);else callback()}this.on(eventName,fn)};proto.off=function(eventName,callback){if(!this.has(eventName))return;var index=this._events[eventName].indexOf(callback);if(index===-1)return;this._events[eventName].splice(index,1)};proto.trigger=function(eventName,data){if(!this.has(eventName))return;for(var i=this._events[eventName].length-1;i>=0;i--){if(data!==undefined)this._events[eventName][i](data);else this._events[eventName][i]()}};proto.has=function(eventName){if(eventName in this._events===false||this._events[eventName].length===0){return false}return true};proto.destroy=function(){for(var eventName in this._events){this._events[eventName]=null}this._events=null};module.exports=EventEmitterMicro},{}],35:[function(require,module,exports){"use strict";var getStyleValue=require("@marcom/ac-prefixer/getStyleValue");var getStyleProperty=require("@marcom/ac-prefixer/getStyleProperty");var memoize=require("@marcom/ac-function/memoize");function cssPropertyAvailable(property,value){if(typeof value!=="undefined"){return!!getStyleValue(property,value)}else{return!!getStyleProperty(property)}}module.exports=memoize(cssPropertyAvailable);module.exports.original=cssPropertyAvailable},{"@marcom/ac-function/memoize":38,"@marcom/ac-prefixer/getStyleProperty":54,"@marcom/ac-prefixer/getStyleValue":55}],36:[function(require,module,exports){"use strict";module.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],37:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/matchMedia");var globalsHelper=require("./helpers/globals");var once=require("@marcom/ac-function/once");function mediaQueriesAvailable(){var windowObj=globalsHelper.getWindow();var mql=windowObj.matchMedia("only all");return!!(mql&&mql.matches)}module.exports=once(mediaQueriesAvailable);module.exports.original=mediaQueriesAvailable},{"./helpers/globals":36,"@marcom/ac-function/once":39,"@marcom/ac-polyfills/matchMedia":53}],38:[function(require,module,exports){"use strict";var defaultHashFunction=function(){var key="";var i;for(i=0;i<arguments.length;i++){if(i>0){key+=","}key+=arguments[i]}return key};module.exports=function memoize(func,hashFunction){hashFunction=hashFunction||defaultHashFunction;var memoized=function(){var args=arguments;var key=hashFunction.apply(this,args);if(!(key in memoized.cache)){memoized.cache[key]=func.apply(this,args)}return memoized.cache[key]};memoized.cache={};return memoized}},{}],39:[function(require,module,exports){"use strict";module.exports=function once(func){var result;return function(){if(typeof result==="undefined"){result=func.apply(this,arguments)}return result}}},{}],40:[function(require,module,exports){"use strict";var ancestor=require("@marcom/ac-dom-traversal/ancestor");var ac_classList=require("@marcom/ac-classlist");var isElement=require("@marcom/ac-dom-nodes/isElement");var cssPropertyAvailable=require("@marcom/ac-feature/cssPropertyAvailable");var ViewportEmitter=require("@marcom/ac-viewport-emitter/ViewportEmitter");var defaults=require("@marcom/ac-object/defaults");var CheckboxMenu=require("./internal/CheckboxMenu");var SimpleSticky=require("./internal/SimpleSticky");var ClickAway=require("./internal/ClickAway");var DEFAULT_OPTIONS={className:"localnav"};var Localnav=function(el,options){var selector;options=defaults(DEFAULT_OPTIONS,options||{});this.el=el;selector=options.selector||"."+options.className;this._selectors={traySelector:options.traySelector||"."+options.className+"-menu-tray",viewportEmitterID:options.viewportEmitterID||options.className+"-viewport-emitter",curtainID:options.curtainID||options.className+"-curtain",menuStateID:options.menuStateID||options.className+"-menustate",menuOpeningClassName:options.menuOpeningClassName||options.className+"-opening"};this._selectors.clickAwaySelector=selector+", #"+this._selectors.curtainID+", #"+this._selectors.menuStateID;this.tray=this.el.querySelector(this._selectors.traySelector);this.stickyEnabled=this._getStickyEnabled();this._transitionsAvailable=cssPropertyAvailable("transition");this._viewports=new ViewportEmitter(this._selectors.viewportEmitterID);if(this.stickyEnabled){this._sticky=new SimpleSticky(this.el,options)}this._initializeMenu()};Localnav.create=function(el,options){return new Localnav(el,options)};var proto=Localnav.prototype;proto._getStickyEnabled=function(){return this.el.hasAttribute("data-sticky")};proto._initializeMenu=function(){var checkbox=document.getElementById(this._selectors.menuStateID);var anchorOpen=document.getElementById(this._selectors.menuStateID+"-open");var anchorClose=document.getElementById(this._selectors.menuStateID+"-close");var historyEvent="onpopstate"in window?"popstate":"beforeunload";var clickAway;if(checkbox&&anchorOpen&&anchorClose){this.menu=new CheckboxMenu(checkbox,anchorOpen,anchorClose);this.menu.on("open",this._onMenuOpen.bind(this));this._viewports.on("change",this._onViewportChange.bind(this));window.addEventListener("scroll",this._onScroll.bind(this));window.addEventListener("touchmove",this._onScroll.bind(this));this.tray.addEventListener("click",this._onTrayClick.bind(this));this._closeMenu=this._closeMenu.bind(this);window.addEventListener(historyEvent,this._closeMenu);window.addEventListener("orientationchange",this._closeMenu);clickAway=new ClickAway(this._selectors.clickAwaySelector);clickAway.on("click",this._closeMenu);if(this._transitionsAvailable){this.tray.addEventListener("transitionend",this._enableMenuScroll.bind(this))}}};proto._onMenuOpen=function(){this._menuCollapseOnScroll=null;if(this._transitionsAvailable){this._disableMenuScrollbar()}};proto._onScroll=function(evt){var target;if(this.menu.isOpen()){if(this._menuCollapseOnScroll===null){this._menuCollapseOnScroll=this.tray.offsetHeight>=this.tray.scrollHeight}if(this._menuCollapseOnScroll){this.menu.close()}else{target=evt.target;if(!isElement(target)||!ancestor(target,this._selectors.traySelector,true)){evt.preventDefault()}}}};proto._onTrayClick=function(evt){var target=evt.target;if("href"in target){this._closeMenu()}};proto._onViewportChange=function(data){if(data.to==="medium"||data.to==="large"){this._closeMenu()}};proto._disableMenuScrollbar=function(){ac_classList.add(this.el,this._selectors.menuOpeningClassName)};proto._enableMenuScroll=function(){ac_classList.remove(this.el,this._selectors.menuOpeningClassName)};proto._closeMenu=function(){this.menu.close()};proto.destroy=function(){};module.exports=Localnav},{"./internal/CheckboxMenu":41,"./internal/ClickAway":42,"./internal/SimpleSticky":43,"@marcom/ac-classlist":8,"@marcom/ac-dom-nodes/isElement":22,"@marcom/ac-dom-traversal/ancestor":25,"@marcom/ac-feature/cssPropertyAvailable":35,"@marcom/ac-object/defaults":44,"@marcom/ac-viewport-emitter/ViewportEmitter":62}],41:[function(require,module,exports){"use strict";var EventEmitter=require("@marcom/ac-event-emitter-micro").EventEmitterMicro;function CheckboxMenu(el,anchorOpen,anchorClose){EventEmitter.call(this);this.el=el;this.anchorOpen=anchorOpen;this.anchorClose=anchorClose;this._lastOpen=this.el.checked;this.el.addEventListener("change",this.update.bind(this));this.anchorOpen.addEventListener("click",this._anchorOpenClick.bind(this));this.anchorClose.addEventListener("click",this._anchorCloseClick.bind(this));if(window.location.hash==="#"+el.id){window.location.hash=""}}CheckboxMenu.create=function(el,anchorOpen,anchorClose){return new CheckboxMenu(el,anchorOpen,anchorClose)};var superProto=EventEmitter.prototype;var proto=CheckboxMenu.prototype=Object.create(superProto);CheckboxMenu.prototype.constructor=CheckboxMenu;proto.update=function(){var open=this.isOpen();if(open!==this._lastOpen){this.trigger(open?"open":"close");this._lastOpen=open}};proto.isOpen=function(){return this.el.checked};proto.toggle=function(){if(this.isOpen()){this.close()}else{this.open()}};proto.open=function(){if(!this.el.checked){this.el.checked=true;this.update()}};proto.close=function(){if(this.el.checked){this.el.checked=false;this.update()}};proto._anchorOpenClick=function(evt){evt.preventDefault();this.open();this.anchorClose.focus()};proto._anchorCloseClick=function(evt){evt.preventDefault();this.close();this.anchorOpen.focus()};module.exports=CheckboxMenu},{"@marcom/ac-event-emitter-micro":33}],42:[function(require,module,exports){"use strict";var EventEmitter=require("@marcom/ac-event-emitter-micro").EventEmitterMicro;var ancestors=require("@marcom/ac-dom-traversal/ancestors");function ClickAway(selector){EventEmitter.call(this);this._selector=selector;this._touching=false;document.addEventListener("click",this._onClick.bind(this));document.addEventListener("touchstart",this._onTouchStart.bind(this));document.addEventListener("touchend",this._onTouchEnd.bind(this))}var superProto=EventEmitter.prototype;var proto=ClickAway.prototype=Object.create(superProto);ClickAway.prototype.constructor=ClickAway;proto._checkTarget=function(evt){var target=evt.target;if(!ancestors(target,this._selector,true).length){this.trigger("click",evt)}};proto._onClick=function(evt){if(!this._touching){this._checkTarget(evt)}};proto._onTouchStart=function(evt){this._touching=true;this._checkTarget(evt)};proto._onTouchEnd=function(){this._touching=false};module.exports=ClickAway},{"@marcom/ac-dom-traversal/ancestors":26,"@marcom/ac-event-emitter-micro":33}],43:[function(require,module,exports){"use strict";var EventEmitter=require("@marcom/ac-event-emitter-micro").EventEmitterMicro;var cssPropertyAvailable=require("@marcom/ac-feature/cssPropertyAvailable");var insertBefore=require("@marcom/ac-dom-nodes/insertBefore");var getScrollY=require("@marcom/ac-dom-metrics/getScrollY");var addClass=require("@marcom/ac-classlist/add");var removeClass=require("@marcom/ac-classlist/remove");var NATIVE_CLASS="css-sticky";var SimpleSticky=function(el,options){EventEmitter.call(this);this.el=el;this.stuck=false;this._selectors={placeholderID:options.placeholderID||options.className+"-sticky-placeholder",stuckClassName:options.stuckClassName||options.className+"-sticking"};this._createPlaceholder();this._featureDetection();this._updatePosition=this._updatePosition.bind(this);this._updatePlaceholderOffset=this._updatePlaceholderOffset.bind(this);window.addEventListener("scroll",this._updatePosition);document.addEventListener("touchmove",this._updatePosition);window.addEventListener("resize",this._updatePlaceholderOffset);window.addEventListener("orientationchange",this._updatePlaceholderOffset);if("acStore"in window){window.acStore.getStorefront().then(this._updatePlaceholderOffset);window.acStore.on("storefrontChange",this._updatePlaceholderOffset)}};SimpleSticky.create=function(el,options){return new SimpleSticky(el,options)};var superProto=EventEmitter.prototype;var proto=SimpleSticky.prototype=Object.create(superProto);SimpleSticky.prototype.constructor=SimpleSticky;proto._featureDetection=function(){var available=cssPropertyAvailable("position","sticky");var className=NATIVE_CLASS;if(!available){className="no-"+className}addClass(this.el,className);addClass(this.placeholder,className)};proto._createPlaceholder=function(){this.placeholder=document.createElement("div");this.placeholder.id=this._selectors.placeholderID;insertBefore(this.placeholder,this.el);this._updatePlaceholderOffset()};proto._updatePlaceholderOffset=function(){var offset=this.placeholder.offsetTop;offset+=document.documentElement.offsetTop+document.body.offsetTop;if(offset!==this._placeholderOffset){this._placeholderOffset=offset;this._updatePosition()}};proto._updatePosition=function(){var scrollY=getScrollY();if(scrollY>this._placeholderOffset){if(!this.stuck){addClass(this.el,this._selectors.stuckClassName);addClass(this.placeholder,this._selectors.stuckClassName);this.stuck=true;this.trigger("stuck")}}else{if(this.stuck){removeClass(this.el,this._selectors.stuckClassName);removeClass(this.placeholder,this._selectors.stuckClassName);this.stuck=false;this.trigger("unstuck")}}};module.exports=SimpleSticky},{"@marcom/ac-classlist/add":1,"@marcom/ac-classlist/remove":9,"@marcom/ac-dom-metrics/getScrollY":12,"@marcom/ac-dom-nodes/insertBefore":18,"@marcom/ac-event-emitter-micro":33,"@marcom/ac-feature/cssPropertyAvailable":35}],44:[function(require,module,exports){"use strict";var extend=require("./extend");module.exports=function defaults(defaultsObj,options){if(typeof defaultsObj!=="object"){throw new TypeError("defaults: must provide a defaults object")}options=options||{};if(typeof options!=="object"){throw new TypeError("defaults: options must be a typeof object")}return extend({},defaultsObj,options)}},{"./extend":45}],45:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Array/prototype.forEach");var hasOwnProp=Object.prototype.hasOwnProperty;module.exports=function extend(){var args;var dest;if(arguments.length<2){args=[{},arguments[0]]}else{args=[].slice.call(arguments)}dest=args.shift();args.forEach(function(source){if(source!=null){for(var property in source){if(hasOwnProp.call(source,property)){dest[property]=source[property]}}}});return dest}},{"@marcom/ac-polyfills/Array/prototype.forEach":46}],46:[function(require,module,exports){if(!Array.prototype.forEach){Array.prototype.forEach=function forEach(callback,thisObj){var arrayObject=Object(this);var i;var currentValue;if(typeof callback!=="function"){throw new TypeError("No function object passed to forEach.")}var length=this.length;for(i=0;i<length;i+=1){currentValue=arrayObject[i];callback.call(thisObj,currentValue,i,arrayObject)}}}},{}],47:[function(require,module,exports){if(!Array.prototype.indexOf){Array.prototype.indexOf=function indexOf(searchElement,fromIndex){var startIndex=fromIndex||0;var currentIndex=0;if(startIndex<0){startIndex=this.length+fromIndex-1;if(startIndex<0){throw"Wrapped past beginning of array while looking up a negative start index."}}for(currentIndex=0;currentIndex<this.length;currentIndex++){if(this[currentIndex]===searchElement){return currentIndex}}return-1}}},{}],48:[function(require,module,exports){(function(){"use strict";var _slice=Array.prototype.slice;try{_slice.call(document.documentElement)}catch(e){Array.prototype.slice=function(begin,end){end=typeof end!=="undefined"?end:this.length;if(Object.prototype.toString.call(this)==="[object Array]"){return _slice.call(this,begin,end)}var i,cloned=[],size,len=this.length;var start=begin||0;start=start>=0?start:len+start;var upTo=end?end:len;if(end<0){upTo=len+end}size=upTo-start;if(size>0){cloned=new Array(size);if(this.charAt){for(i=0;i<size;i++){cloned[i]=this.charAt(start+i)}}else{for(i=0;i<size;i++){cloned[i]=this[start+i]}}}return cloned}}})()},{}],49:[function(require,module,exports){if("document"in self){if(!("classList"in document.createElement("_"))){(function(view){"use strict";if(!("Element"in view))return;var classListProp="classList",protoProp="prototype",elemCtrProto=view.Element[protoProp],objCtr=Object,strTrim=String[protoProp].trim||function(){return this.replace(/^\s+|\s+$/g,"")},arrIndexOf=Array[protoProp].indexOf||function(item){var i=0,len=this.length;for(;i<len;i++){if(i in this&&this[i]===item){return i}}return-1},DOMEx=function(type,message){this.name=type;this.code=DOMException[type];this.message=message},checkTokenAndGetIndex=function(classList,token){if(token===""){throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(token)){throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character")}return arrIndexOf.call(classList,token)},ClassList=function(elem){var trimmedClasses=strTrim.call(elem.getAttribute("class")||""),classes=trimmedClasses?trimmedClasses.split(/\s+/):[],i=0,len=classes.length;for(;i<len;i++){this.push(classes[i])}this._updateClassName=function(){elem.setAttribute("class",this.toString())}},classListProto=ClassList[protoProp]=[],classListGetter=function(){return new ClassList(this)};DOMEx[protoProp]=Error[protoProp];classListProto.item=function(i){return this[i]||null};classListProto.contains=function(token){token+="";return checkTokenAndGetIndex(this,token)!==-1};classListProto.add=function(){var tokens=arguments,i=0,l=tokens.length,token,updated=false;do{token=tokens[i]+"";if(checkTokenAndGetIndex(this,token)===-1){this.push(token);updated=true}}while(++i<l);if(updated){this._updateClassName()}};classListProto.remove=function(){var tokens=arguments,i=0,l=tokens.length,token,updated=false,index;do{token=tokens[i]+"";index=checkTokenAndGetIndex(this,token);while(index!==-1){this.splice(index,1);updated=true;index=checkTokenAndGetIndex(this,token)}}while(++i<l);if(updated){this._updateClassName()}};classListProto.toggle=function(token,force){token+="";var result=this.contains(token),method=result?force!==true&&"remove":force!==false&&"add";if(method){this[method](token)}if(force===true||force===false){return force}else{return!result}};classListProto.toString=function(){return this.join(" ")};if(objCtr.defineProperty){var classListPropDesc={get:classListGetter,enumerable:true,configurable:true};try{objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc)}catch(ex){if(ex.number===-2146823252){classListPropDesc.enumerable=false;objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc)}}}else if(objCtr[protoProp].__defineGetter__){elemCtrProto.__defineGetter__(classListProp,classListGetter)}})(self)}else{(function(){"use strict";var testElement=document.createElement("_");testElement.classList.add("c1","c2");if(!testElement.classList.contains("c2")){var createMethod=function(method){var original=DOMTokenList.prototype[method];DOMTokenList.prototype[method]=function(token){var i,len=arguments.length;for(i=0;i<len;i++){token=arguments[i];original.call(this,token)}}};createMethod("add");createMethod("remove")}testElement.classList.toggle("c3",false);if(testElement.classList.contains("c3")){var _toggle=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(token,force){if(1 in arguments&&!this.contains(token)===!force){return force}else{return _toggle.call(this,token)}}}testElement=null})()}}},{}],50:[function(require,module,exports){if(!Function.prototype.bind){Function.prototype.bind=function(originalContext){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var applicableArgs=Array.prototype.slice.call(arguments,1);var functionToBind=this;var fnOriginalPrototype=function(){};var fnBound=function(){return functionToBind.apply(this instanceof fnOriginalPrototype&&originalContext?this:originalContext,applicableArgs.concat(Array.prototype.slice.call(arguments)))};fnOriginalPrototype.prototype=this.prototype;fnBound.prototype=new fnOriginalPrototype;return fnBound}}},{}],51:[function(require,module,exports){if(!Object.create){var F=function(){};Object.create=function(proto){if(arguments.length>1){throw new Error("Second argument not supported")}if(proto===null||typeof proto!=="object"){throw new TypeError("Object prototype may only be an Object.")}F.prototype=proto;return new F}}},{}],52:[function(require,module,exports){if(!Object.keys){Object.keys=function keys(obj){var keysArray=[];var currentKey;if(!obj||typeof obj.hasOwnProperty!=="function"){throw"Object.keys called on non-object."}for(currentKey in obj){if(obj.hasOwnProperty(currentKey)){keysArray.push(currentKey)}}return keysArray}}},{}],53:[function(require,module,exports){require("matchmedia-polyfill");require("matchmedia-polyfill/matchMedia.addListener")},{"matchmedia-polyfill":64,"matchmedia-polyfill/matchMedia.addListener":63}],54:[function(require,module,exports){"use strict";var cache=require("./shared/stylePropertyCache");var getStyleTestElement=require("./shared/getStyleTestElement");var toCSS=require("./utils/toCSS");var toDOM=require("./utils/toDOM");var prefixHelper=require("./shared/prefixHelper");var memoizeStyleProperty=function(property,prefixed){var cssProperty=toCSS(property);var cssPrefixed=prefixed===false?false:toCSS(prefixed);cache[property]=cache[prefixed]=cache[cssProperty]=cache[cssPrefixed]={dom:prefixed,css:cssPrefixed};return prefixed};module.exports=function getStyleProperty(property){var properties;var ucProperty;var el;var i;property+="";if(property in cache){return cache[property].dom}el=getStyleTestElement();property=toDOM(property);ucProperty=property.charAt(0).toUpperCase()+property.substring(1);if(property==="filter"){properties=["WebkitFilter","filter"]}else{properties=(property+" "+prefixHelper.dom.join(ucProperty+" ")+ucProperty).split(" ")}for(i=0;i<properties.length;i++){if(typeof el.style[properties[i]]!=="undefined"){if(i!==0){prefixHelper.reduce(i-1)}return memoizeStyleProperty(property,properties[i])}}return memoizeStyleProperty(property,false)}},{"./shared/getStyleTestElement":56,"./shared/prefixHelper":57,"./shared/stylePropertyCache":58,"./utils/toCSS":60,"./utils/toDOM":61}],55:[function(require,module,exports){"use strict";var getStyleProperty=require("./getStyleProperty");var styleValueAvailable=require("./shared/styleValueAvailable");var prefixHelper=require("./shared/prefixHelper");var stylePropertyCache=require("./shared/stylePropertyCache");var styleValueCache={};var RE_CSS_FUNCTION_PARAMS=/(\([^\)]+\))/gi;var RE_CSS_VALUES=/([^ ,;\(]+(\([^\)]+\))?)/gi;module.exports=function getStyleValue(property,value){var cssProperty;value+="";property=getStyleProperty(property);if(!property){return false}if(styleValueAvailable(property,value)){return value}cssProperty=stylePropertyCache[property].css;value=value.replace(RE_CSS_VALUES,function(match){var values;var valueKey;var key;var i;if(match[0]==="#"||!isNaN(match[0])){return match}valueKey=match.replace(RE_CSS_FUNCTION_PARAMS,"");key=cssProperty+":"+valueKey;if(key in styleValueCache){if(styleValueCache[key]===false){return""}return match.replace(valueKey,styleValueCache[key])}values=prefixHelper.css.map(function(prefix){return prefix+match});values=[match].concat(values);for(i=0;i<values.length;i++){if(styleValueAvailable(property,values[i])){if(i!==0){prefixHelper.reduce(i-1)}styleValueCache[key]=values[i].replace(RE_CSS_FUNCTION_PARAMS,"");return values[i]}}styleValueCache[key]=false;return""});value=value.trim();return value===""?false:value}},{"./getStyleProperty":54,"./shared/prefixHelper":57,"./shared/stylePropertyCache":58,"./shared/styleValueAvailable":59}],56:[function(require,module,exports){"use strict";var el;module.exports=function getStyleTestElement(){if(!el){el=document.createElement("_")}else{el.style.cssText="";el.removeAttribute("style")}return el};module.exports.resetElement=function(){el=null}},{}],57:[function(require,module,exports){"use strict";var CSS_PREFIXES=["-webkit-","-moz-","-ms-"];var DOM_PREFIXES=["Webkit","Moz","ms"];var EVT_PREFIXES=["webkit","moz","ms"];var PrefixeHelper=function(){this.initialize()};var proto=PrefixeHelper.prototype;proto.initialize=function(){this.reduced=false;this.css=CSS_PREFIXES;this.dom=DOM_PREFIXES;this.evt=EVT_PREFIXES};proto.reduce=function(index){if(!this.reduced){this.reduced=true;this.css=[this.css[index]];this.dom=[this.dom[index]];this.evt=[this.evt[index]]}};module.exports=new PrefixeHelper},{}],58:[function(require,module,exports){"use strict";module.exports={}},{}],59:[function(require,module,exports){"use strict";var cache=require("./stylePropertyCache");var getStyleTestElement=require("./getStyleTestElement");var flagsSet=false;var supportsAvailable;var invalidStyleThrowsError;var prepareFlags=function(){var el;if(!flagsSet){flagsSet=true;supportsAvailable="CSS"in window&&"supports"in window.CSS;invalidStyleThrowsError=false;el=getStyleTestElement();try{el.style.width="invalid"}catch(e){invalidStyleThrowsError=true}}};module.exports=function styleValueAvailable(property,value){var before;var el;prepareFlags();if(supportsAvailable){property=cache[property].css;return CSS.supports(property,value)}el=getStyleTestElement();before=el.style[property];if(invalidStyleThrowsError){try{el.style[property]=value}catch(e){return false}}else{el.style[property]=value}return el.style[property]&&el.style[property]!==before};module.exports.resetFlags=function(){flagsSet=false}},{"./getStyleTestElement":56,"./stylePropertyCache":58}],60:[function(require,module,exports){"use strict";var RE_DOM_PREFIXES=/^(webkit|moz|ms)/gi;module.exports=function toCSS(str){var i;if(str.toLowerCase()==="cssfloat"){return"float"}if(RE_DOM_PREFIXES.test(str)){str="-"+str}return str.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}},{}],61:[function(require,module,exports){"use strict";var RE_CSS_WORD=/-([a-z])/g;module.exports=function toDOM(str){var i;if(str.toLowerCase()==="float"){return"cssFloat"}str=str.replace(RE_CSS_WORD,function(str,m1){return m1.toUpperCase()});if(str.substr(0,2)==="Ms"){str="ms"+str.substring(2)}return str}},{}],62:[function(require,module,exports){"use strict";require("@marcom/ac-polyfills/Function/prototype.bind");require("@marcom/ac-polyfills/Object/keys");require("@marcom/ac-polyfills/Object/create");var EventEmitter=require("@marcom/ac-event-emitter-micro").EventEmitterMicro;var ac_addEventListener=require("@marcom/ac-dom-events/utils/addEventListener");var mediaQueriesAvailable=require("@marcom/ac-feature/mediaQueriesAvailable");var DEFAULT_ID="viewport-emitter";var PSEUDO_SELECTOR="::before";var RETINA_QUERY="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)";function ViewportEmitter(id){EventEmitter.call(this);this._initializeElement(id);if(mediaQueriesAvailable()){this._updateViewport=this._updateViewport.bind(this);ac_addEventListener(window,"resize",this._updateViewport);ac_addEventListener(window,"orientationchange",this._updateViewport);this._retinaQuery=window.matchMedia(RETINA_QUERY);this._updateRetina();if(this._retinaQuery.addListener){this._updateRetina=this._updateRetina.bind(this);this._retinaQuery.addListener(this._updateRetina)}}this._updateViewport()}var proto=ViewportEmitter.prototype=Object.create(EventEmitter.prototype);proto.viewport=false;proto.retina=false;proto._initializeElement=function(id){var el;id=id||DEFAULT_ID;el=document.getElementById(id);if(!el){el=document.createElement("div");el.id=id;el=document.body.appendChild(el)}this._el=el};proto._getElementContent=function(){var content;if("currentStyle"in this._el){content=this._el.currentStyle["x-content"]}else{this._invalidateStyles();content=window.getComputedStyle(this._el,PSEUDO_SELECTOR).content}if(content){content=content.replace(/["']/g,"")}if(content){return content}return false};proto._updateViewport=function(){var lastViewport=this.viewport;var style;var eventData;this.viewport=this._getElementContent();if(this.viewport){this.viewport=this.viewport.split(":").pop()}if(lastViewport&&this.viewport!==lastViewport){eventData={from:lastViewport,to:this.viewport};this.trigger("change",eventData);this.trigger("from:"+lastViewport,eventData);this.trigger("to:"+this.viewport,eventData)}};proto._updateRetina=function(query){var lastRetina=this.retina;this.retina=this._retinaQuery.matches;if(lastRetina!==this.retina){this.trigger("retinachange",{from:lastRetina,to:this.retina})}};proto._invalidateStyles=function(){document.documentElement.clientWidth;this._el.innerHTML=this._el.innerHTML===" "?"Â ":" ";document.documentElement.clientWidth};module.exports=ViewportEmitter},{"@marcom/ac-dom-events/utils/addEventListener":11,"@marcom/ac-event-emitter-micro":33,"@marcom/ac-feature/mediaQueriesAvailable":37,"@marcom/ac-polyfills/Function/prototype.bind":50,"@marcom/ac-polyfills/Object/create":51,"@marcom/ac-polyfills/Object/keys":52}],63:[function(require,module,exports){(function(){if(window.matchMedia&&window.matchMedia("all").addListener){return false}var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,isListening=false,timeoutID=0,queries=[],handleChange=function(evt){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++){listeners[j].call(window,mql)}}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries){return}if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0){index=queries.push({mql:mql,listeners:listeners})}listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++){if(listeners[i]===listener){listeners.splice(i,1)}}};return mql}})()},{}],64:[function(require,module,exports){window.matchMedia||(window.matchMedia=function(){"use strict";var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet){style.styleSheet.cssText=text}else{style.textContent=text}return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}())},{}],65:[function(require,module,exports){"use strict";var Localnav=require("@marcom/ac-localnav/Localnav")},{"@marcom/ac-localnav/Localnav":40}]},{},[65]);