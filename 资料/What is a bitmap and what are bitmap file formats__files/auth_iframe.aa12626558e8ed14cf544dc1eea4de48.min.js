(function(e,n){var r={},t=function(){return this}();function o(n,u){if(u)return t.__figbuildCommonChunkRequire(n);var i=r[n];return i?i.exports:(i=r[n]={exports:{},id:n,loaded:!1},e[n].call(t,i,i.exports,o),i.exports instanceof Function&&(i.exports.default=i.exports),i.loaded=!0,i.exports)}return n&&(t.__figbuildCommonChunkRequire=o),o(e.length-1)})([
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(2,1    );class n extends a.Component{constructor(){super(...arguments),this.traverseChildren=(()=>{this.firstTabbableEl=null,this.lastTabbableEl=null;const t=e=>{i(e)&&((!this.firstTabbableEl||e.tabIndex<this.firstTabbableEl.tabIndex)&&(this.firstTabbableEl=e),(!this.lastTabbableEl||e.tabIndex>=this.lastTabbableEl.tabIndex)&&(this.lastTabbableEl=e));for(let s of Array.from(e.children))t(s)};t(this.container)}),this.containerRef=(t=>{this.container=t}),this.onFrontGuardFocus=(()=>{this.traverseChildren();const t=this.lastTabbableEl;t&&setTimeout(()=>{t.focus()},0)}),this.onBackGuardFocus=(()=>{this.traverseChildren();const t=this.firstTabbableEl;t&&setTimeout(()=>{t.focus()},0)})}render(){return a.createElement("span",null,a.createElement("span",{tabIndex:this.props.startTabIndex||0,onFocus:this.onFrontGuardFocus}),a.createElement("span",{ref:this.containerRef},this.props.children),a.createElement("span",{tabIndex:this.props.endTabIndex||0,onFocus:this.onBackGuardFocus}))}}e.TabLoop=n,n.displayName="TabLoop";const i=t=>{let e;const s=t.nodeName.toLowerCase(),a=null!=t.getAttribute("tabindex");return"-1"!==t.getAttribute("tabindex")&&!(!(e=/^(input|select|textarea|button)$/.test(s)?!t.disabled:"a"===s&&t.href||a)||!r(t))},r=t=>{if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;for(var e=getComputedStyle(t).visibility;"inherit"===e;)t=t.parentElement,e=getComputedStyle(t).visibility;return"hidden"!==e}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.emptyUserState={file_browser_preferences:{},disable_personal:!0,files:[],recent_files:[],folders:[],teams:[],roles:[],orgs:[],org_drafts_owners:[],user_favorite_fonts:[],user_flags:[],repos:[]};const r=JSON.parse(JSON.stringify(i().feature_flags||{}));function i(){return window.INITIAL_OPTIONS||{}}Object.freeze(r),s.getFeatureFlags=function(){return r},s.setEditingFile=(e=>{window.INITIAL_OPTIONS=Object.assign(Object.assign({},window.INITIAL_OPTIONS),{editing_file:e})}),s.initialOptions=i,s.default=i}),
(function(e,i,s){var o,r;o=this,r=function(){var e=!0;function i(i){function s(e){var s=i.match(e);return s&&s.length>1&&s[1]||""}function o(e){var s=i.match(e);return s&&s.length>1&&s[2]||""}var r,n=s(/(ipod|iphone|ipad)/i).toLowerCase(),t=!/like android/i.test(i)&&/android/i.test(i),a=/nexus\s*[0-6]\s*/i.test(i),d=!a&&/nexus\s*[0-9]+/i.test(i),m=/CrOS/.test(i),v=/silk/i.test(i),p=/sailfish/i.test(i),c=/tizen/i.test(i),l=/(web|hpw)os/i.test(i),u=/windows phone/i.test(i),f=(/SamsungBrowser/i.test(i),!u&&/windows/i.test(i)),h=!n&&!v&&/macintosh/i.test(i),w=!t&&!p&&!c&&!l&&/linux/i.test(i),b=o(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=s(/version\/(\d+(\.\d+)?)/i),k=/tablet/i.test(i)&&!/tablet pc/i.test(i),x=!k&&/[^-]mobi/i.test(i),y=/xbox/i.test(i);/opera/i.test(i)?r={name:"Opera",opera:e,version:g||s(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(i)?r={name:"Opera",opera:e,version:s(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(i)?r={name:"Samsung Internet for Android",samsungBrowser:e,version:g||s(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(i)?r={name:"Opera Coast",coast:e,version:g||s(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(i)?r={name:"Yandex Browser",yandexbrowser:e,version:g||s(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(i)?r={name:"UC Browser",ucbrowser:e,version:s(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(i)?r={name:"Maxthon",maxthon:e,version:s(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(i)?r={name:"Epiphany",epiphany:e,version:s(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(i)?r={name:"Puffin",puffin:e,version:s(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(i)?r={name:"Sleipnir",sleipnir:e,version:s(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(i)?r={name:"K-Meleon",kMeleon:e,version:s(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:u?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(r.msedge=e,r.version=b):(r.msie=e,r.version=s(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(i)?r={name:"Internet Explorer",msie:e,version:s(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:m?r={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(i)?r={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(i)?r={name:"Vivaldi",vivaldi:e,version:s(/vivaldi\/(\d+(\.\d+)?)/i)||g}:p?r={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:s(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(i)?r={name:"SeaMonkey",seamonkey:e,version:s(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(i)?(r={name:"Firefox",firefox:e,version:s(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)&&(r.firefoxos=e,r.osname="Firefox OS")):v?r={name:"Amazon Silk",silk:e,version:s(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(i)?r={name:"PhantomJS",phantom:e,version:s(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(i)?r={name:"SlimerJS",slimer:e,version:s(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:g||s(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:l?(r={name:"WebOS",osname:"WebOS",webos:e,version:g||s(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(i)&&(r.touchpad=e)):/bada/i.test(i)?r={name:"Bada",osname:"Bada",bada:e,version:s(/dolfin\/(\d+(\.\d+)?)/i)}:c?r={name:"Tizen",osname:"Tizen",tizen:e,version:s(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(i)?r={name:"QupZilla",qupzilla:e,version:s(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(i)?r={name:"Chromium",chromium:e,version:s(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(i)?r={name:"Chrome",chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:t?r={name:"Android",version:g}:/safari|applewebkit/i.test(i)?(r={name:"Safari",safari:e},g&&(r.version=g)):n?(r={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},g&&(r.version=g)):r=/googlebot/i.test(i)?{name:"Googlebot",googlebot:e,version:s(/googlebot\/(\d+(\.\d+))/i)||g}:{name:s(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(i)?(/(apple)?webkit\/537\.36/i.test(i)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&g&&(r.version=g)):!r.opera&&/gecko\//i.test(i)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||s(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!t&&!r.silk?!r.windowsphone&&n?(r[n]=e,r.ios=e,r.osname="iOS"):h?(r.mac=e,r.osname="macOS"):y?(r.xbox=e,r.osname="Xbox"):f?(r.windows=e,r.osname="Windows"):w&&(r.linux=e,r.osname="Linux"):(r.android=e,r.osname="Android");var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(s(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=s(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?S=(S=s(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):n?S=(S=s(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):t?S=s(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=s(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=s(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=s(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=s(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var B=!r.windows&&S.split(".")[0];return k||d||"ipad"==n||t&&(3==B||B>=4&&!x)||r.silk?r.tablet=e:(x||"iphone"==n||"ipod"==n||t||a||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=e:r.x=e,r}var s=i("undefined"!=typeof navigator&&navigator.userAgent||"");function o(e){return e.split(".").length}function r(e,i){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(s=0;s<e.length;s++)o.push(i(e[s]));return o}function n(e){for(var i=Math.max(o(e[0]),o(e[1])),s=r(e,function(e){var s=i-o(e);return r((e+=new Array(s+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(s[0][i]>s[1][i])return 1;if(s[0][i]!==s[1][i])return-1;if(0===i)return 0}}function t(e,o,r){var t=s;"string"==typeof o&&(r=o,o=void 0),void 0===o&&(o=!1),r&&(t=i(r));var a=""+t.version;for(var d in e)if(e.hasOwnProperty(d)&&t[d]){if("string"!=typeof e[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(e));return n([a,e[d]])<0}return o}return s.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if("string"==typeof o&&o in s)return!0}return!1},s.isUnsupportedBrowser=t,s.compareVersions=n,s.check=function(e,i,s){return!t(e,i,s)},s._detect=i,s.detect=i,s},void 0!==e&&e.exports?e.exports=r():"function"==typeof define&&define.amd?define("bowser",r):o.bowser=r()}),
(function(_,E,T){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.PREVENT_EVENT_CAPTURE="js-fullscreen-prevent-event-capture",E.NUM_SECTIONS_INFINITE=2147483647,E.BG_PANEL_COLOR_PICKER_ID="background-panel-color-picker",E.PROTOTYPE_BG_PANEL_COLOR_PICKER_ID="prototype-background-panel-color-picker",E.TYPE_PANEL_ID="type-settings",E.FONT_PICKER_ID="font-picker",E.EXPORT_PICKER_ID="export-picker",E.SELECTION_PAINT_PICKER_ID="selection-paint-item",E.SELECTION_STYLE_PICKER_ID="selection-style-item",E.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU="DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU",E.DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU="DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU",E.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU="DROPDOWN_TYPE_SELECTION_CONTEXT_MENU",E.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU="DROPDOWN_TYPE_CANVAS_CONTEXT_MENU",E.DROPDOWN_TYPE_PAGE_CONTEXT_MENU="DROPDOWN_TYPE_PAGE_CONTEXT_MENU",E.DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU="DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU"}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(2       ),r=o(3                               );t.loadScript=function(e,t){const o=null==t?void 0:t.id,n=!t||!1!==t.cors,r=!t||!1!==t.retry,c=()=>{const e=document.createElement("script");return o&&o.length>0&&(e.id=o),e.type="text/javascript",e.async=!0,n&&(e.crossOrigin="anonymous"),e},s=new Promise((t,o)=>{const n=c();n.onload=t,n.onerror=(s=>{if(!r)return o(s);document.head.removeChild(n);const a=c();a.onload=t,a.onerror=o;const i=-1===e.indexOf("?")?"?":"&";a.src=e+i+"lsRetry="+Math.random(),document.head.appendChild(a)}),n.src=e,document.head.appendChild(n)});return s.catch(t=>console.error(`Fetching ${e} failed`,t)),s},t.copyText=function(e){return new Promise((t,o)=>{e.length>104857.6&&console.warn("string too long for copyText usage watchdog timer of 1s.  formatting will take too long");let c=document.createElement("input");c.setAttribute("style","position: fixed; top: -100px"),c.classList.add(r.PREVENT_EVENT_CAPTURE),document.body.appendChild(c),c.value=e,c.focus(),c.select();let s=document.execCommand("copy");!s&&n.msedge&&(s=!0),c.remove(),s?t():o()})},t.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.scrollToY=function(e,t,o){var n=window.scrollY||document.documentElement.scrollTop,r=(e=e||0,t=t||2e3,o=o||"easeOutSine",0),c=Math.max(.1,Math.min(Math.abs(n-e)/t,.8)),s={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function t(){var a=(r+=1/60)/c,i=s[o](a);a<1?(requestAnimationFrame(t),window.scrollTo(0,n+(e-n)*i)):window.scrollTo(0,e)}()}}),
(function(e,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.sessionStorageOrNull=null,o.localStorageOrNull=null;try{o.sessionStorageOrNull=window.sessionStorage}catch(s){}try{o.localStorageOrNull=window.localStorage}catch(s){}function t(e,o){o+="=";for(let l of e.split(";")){const e=/^\s*(.*)$/.exec(l);if(e&&(l=e[1]).slice(0,o.length)===o)return decodeURIComponent(l.slice(o.length))}return null}o.getLocalStorageOrNull=function(){return o.localStorageOrNull},o.getSessionStorageOrNull=function(){return o.sessionStorageOrNull},o.parseCookieForKey=t;class r{get(e){const o=t(document.cookie,e);return null===o?null:JSON.parse(o)}set(e,o){let l=`${e}=${encodeURI(JSON.stringify(o))}; expires=${new Date(Date.now()+2592e6).toUTCString()}; path=/; samesite=lax;`;"https:"===location.protocol&&(l+=" secure;"),document.cookie=l}}class n{get(e){if(null==o.localStorageOrNull)return null;const l=window.localStorage.getItem(e);return null===l?null:JSON.parse(l)}set(e,l){null!=o.localStorageOrNull&&window.localStorage.setItem(e,JSON.stringify(l))}}const a=new Map;function c(){return o.localStorageOrNull?new n:a}o.getLocalOrMemoryStorage=c,o.getCookieOrLocalOrMemoryStorage=function(){return navigator.cookieEnabled?new r:c()}}),
(function(t,n,e){"use strict";
// The MIT License (MIT)
// Copyright (c) 2010-2016 Robert Kieffer and other contributors
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
Object.defineProperty(n,"__esModule",{value:!0});const o=[];for(var r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);const i=new Uint8Array(16);n.uuidv4=function(){if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(i);else{let t=0;for(let n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),i[n]=t>>>((3&n)<<3)&255}return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(t){let n=0;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}(i)}}),
(function(e,n,o){"use strict";
/**
 * FIGMA MODIFIED FROM:

  Copyright Joyent, Inc. and other Node contributors.

  Permission is hereby granted, free of charge, to any person obtaining a
  copy of this software and associated documentation files (the
  "Software"), to deal in the Software without restriction, including
  without limitation the rights to use, copy, modify, merge, publish,
  distribute, sublicense, and/or sell copies of the Software, and to permit
  persons to whom the Software is furnished to do so, subject to the
  following conditions:

  The above copyright notice and this permission notice shall be included
  in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
  NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
  DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
  OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
  USE OR OTHER DEALINGS IN THE SOFTWARE.
*/function t(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e.toString():"";default:return""}}Object.defineProperty(n,"__esModule",{value:!0}),n.encode=function(e,n,o,r){return n=n||"&",o=o||"=",e&&"object"==typeof e?Object.keys(e).map(function(r){var c=encodeURIComponent(t(r))+o;return Array.isArray(e[r])?e[r].map(function(e){return c+encodeURIComponent(t(e))}).join(n):c+encodeURIComponent(t(e[r]))}).join(n):r?encodeURIComponent(t(r))+o+encodeURIComponent(t(e)):""},n.parse=function(e){let n={};for(let o of e.slice(1).split("&")){let e=null,t=null,r=o.indexOf("=");-1!=r?(e=o.slice(0,r),t=o.slice(r+1)):(e=o,t=""),t=t.replace(/\+/g,"%20"),n[decodeURIComponent(e)]=decodeURIComponent(t)}return n}}),
(function(t,e,n){"use strict";function r(t,e,n=!1){const r=n?-1:1,o=t=>{let n=e(t);return n&&n.toLowerCase?n.toLowerCase():""};t.sort((t,e)=>o(t)<o(e)?-r:r)}function o(t,e,n=!1){return t.sort((t,r)=>{const o=new Date(e(t)).getTime()<new Date(e(r)).getTime()?1:-1;return n?-o:o})}Object.defineProperty(e,"__esModule",{value:!0}),e.withElementMovedToFront=function(t,e){if(!(t&&e>=0&&e<t.length))return t;const n=(t=Array.from(t))[e];return t.splice(e,1),t.unshift(n),t},e.moveItem=function(t,e,n,r){const o=t.indexOf(e,0);if(o<0)return t;let u=null==n?-1:t.indexOf(n);u<0?u=r?0:t.length:r&&o<u?u-=1:!r&&o>u&&(u+=1);let i=t.slice();return o>-1&&u!==o&&(i.splice(o,1),i.splice(u,0,e)),i},e.pushIfAbsent=function(t,e){-1===t.indexOf(e)&&t.push(e)},e.removeByValue=function(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.valuesEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},e.joinListsWithoutDuplicates=function(t,e){const n=Object.create(null),r=[];for(const o of t)n[o]||(n[o]=!0,r.push(o));for(const o of e)n[o]||(n[o]=!0,r.push(o));return r},e.shuffle=function(t){let e,n,r=t.length;for(;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},e.sortNumericallyByProperty=function(t,e,n=!1){t.sort((t,r)=>{const o=t[e]-r[e];return n?-o:o})},e.sortAlphabeticallyByProperty=function(t,e,n=!1){r(t,t=>t[e],n)},e.sortAlphabeticallyByFn=r,e.sortByDateFn=o,e.sortByDate=function(t,e,n=!1){return o(t,t=>t[e],n)},e.sortByCreatedAt=function(t){return o(t,t=>t.created_at)},e.filterNull=function(t){return t.filter(t=>null!=t)}}),
(function(i,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(1                    );let e="";t.trackingSessionId=function(){return""===e&&(e=s.initialOptions().tracking_session_id||Math.random().toString(36).substring(2)),e}}),
(function(t,i,n){"use strict";var e=this&&this.__awaiter||function(t,i,n,e){return new(n||(n=Promise))(function(o,r){function u(t){try{s(e.next(t))}catch(i){r(i)}}function c(t){try{s(e.throw(t))}catch(i){r(i)}}function s(t){var i;t.done?o(t.value):(i=t.value,i instanceof n?i:new n(function(t){t(i)})).then(u,c)}s((e=e.apply(t,i||[])).next())})};function o(t){return Promise.resolve(t)==t}Object.defineProperty(i,"__esModule",{value:!0}),i.waitFor=function(t){return e(this,void 0,void 0,function*(){yield new Promise((i,n)=>setTimeout(i,t))})},i.failAfter=function(t){return e(this,void 0,void 0,function*(){yield new Promise((i,n)=>setTimeout(n,t))})},i.isPromise=o,i.waitForTaskUntil=function(t,i,n){return e(this,void 0,void 0,function*(){return new Promise(r=>e(this,void 0,void 0,function*(){const e=setTimeout(()=>{i(),r()},n);o(t)?yield t:yield t(),clearTimeout(e),r()}))})}}),
(function(e,t,s){"use strict";
/**
 * FIGMA MODIFIED FROM:
 *
 * xr (c) James Cleveland 2015
 * URL: https://github.com/radiosilence/xr
 * License: BSD
 */var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(r,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function i(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(o,i)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=s(7                ),a=s(8          ),o=s(9                     ),i=s(10          );function u(e,t){return{status:e.status,response:e.response,data:t}}let d=null;class l{constructor(e){this.settings=e,this._response=void 0}parsedURL(){const e=document.createElement("a");return e.href=this.settings.url||"",{host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search}}hostname(){return this.parsedURL().hostname}pathname(){return this.parsedURL().pathname}pathnameMatches(e){return!!new RegExp(e).exec(this.pathname())}sendRealRequest(){this._response="SEND_REAL_REQUEST"}respond(e){this._response=Promise.resolve(e)}failResponse(){this._response=Promise.reject(null)}neverRespond(){this._response=new Promise(()=>{})}response(){return this._response}}t.MockRequest=l;class c{constructor(){this._handlers=[]}static install(){return d||(d=new c),d}addHandler(e){a.pushIfAbsent(this._handlers,e)}removeHandler(e){a.removeByValue(this._handlers,e)}handleRequest(e){for(let t of this._handlers){const s=new l(e);t(s);const n=s.response();if(n)return n}return e.url&&!e.url.endsWith("realtime_token")&&"https://api.segment.io/v1/track"!==e.url&&console.log(`[xr.MockServer]: Ignoring ${e.method} request to ${e.url}`,e),new Promise((e,t)=>{})}}function h(e){return n(this,void 0,void 0,function*(){function t(){return n(this,void 0,void 0,function*(){try{return yield function(e){if(d){const t=d.handleRequest(e);if(t!==c.SEND_REAL_REQUEST)return t}return new Promise((t,s)=>{const n=Object.assign(Object.assign({},h.defaults),e),a=new XMLHttpRequest,o=e=>{e.toString=(()=>{let t=n.url;return`XHR for "${t=(t=(t=(t=(t=t.replace(/\?.*$/,"")).replace(/^(\/api\/multiplayer\/)\w+(\/create_savepoint)$/,"$1XXX$2")).replace(/^(\/component\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(\/style\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(https:\/\/s3-alpha\.figma\.com\/checkpoints\/)\w+\/\w+\/\w+\/\w+(\.fig)$/,"$1XXX$2")}" failed with status ${e.status}`}),s(e)};a.withCredentials=!!n.withCredentials;try{a.timeout=n.timeout,a.responseType=n.responseType}catch(d){}a.open(n.method,n.params?`${n.url.split("?")[0]}?${r.encode(n.params)}`:n.url,!0),a.addEventListener(h.Events.LOAD,()=>{try{let e=null;"arraybuffer"===a.responseType?e=new Uint8Array(a.response):a.responseText&&(e=!0===n.raw?a.responseText:n.load(a.responseText)),h.shouldTreatStatusCodeAsFailure(a.status)?o(u(a,e)):t(u(a,e))}catch(d){s(d)}}),a.addEventListener(h.Events.ABORT,()=>o(u(a))),a.addEventListener(h.Events.ERROR,()=>o(u(a))),a.addEventListener(h.Events.TIMEOUT,()=>o(u(a)));for(const e in n.headers)({}).hasOwnProperty.call(n.headers,e)&&a.setRequestHeader(e,n.headers[e]);if(n.uploadEvents)for(const e in n.uploadEvents)({}).hasOwnProperty.call(n.uploadEvents,e)&&a.upload.addEventListener(e,n.uploadEvents[e].bind(null,a),!1);if(n.downloadEvents)for(const e in n.downloadEvents)({}).hasOwnProperty.call(n.downloadEvents,e)&&a.addEventListener(e,n.downloadEvents[e].bind(null,a),!1);const i="object"!=typeof n.data||n.raw?n.data:n.dump(n.data);void 0!==i?a.send(i):a.send()})}(e)}catch(t){return t}})}let s,a=0;do{if(s=yield t(),!h.shouldRetryOnStatusCode(s.status)){if(h.shouldTreatStatusCodeAsFailure(s.status))throw s;return s}yield i.waitFor(500*a),a++}while(a<1+e.retryCount);if(h.shouldTreatStatusCodeAsFailure(s.status))throw s;return s})}t.MockServer=c,c.SEND_REAL_REQUEST="SEND_REAL_REQUEST",function(e){e.Methods={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS"},e.Events={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},e.defaults={method:e.Methods.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json","X-Csrf-Bypass":"yes",tsid:o.trackingSessionId()},responseType:"",dump:JSON.stringify,load:JSON.parse,withCredentials:!1,timeout:0},e.get=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.GET,params:s},n))},e.put=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PUT,data:s},n))},e.post=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.POST,data:s},n))},e.patch=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PATCH,data:s},n))},e.del=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.DELETE,data:s},n))},e.options=function(t,s){return e(Object.assign({url:t,method:e.Methods.OPTIONS},s))},e.shouldTreatStatusCodeAsFailure=function(e){return!(e>=200&&e<300)},e.shouldRetryOnStatusCode=function(e){return!(0!==e&&(e>0&&e<200||200<=e&&e<400||400<=e&&e<500||500!==e))}}(h||(h={})),t.default=h}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(1                    );const s=new class{constructor(){this.queue=[]}actionCompleted(e,n){}handle(e){this.queue.push(e)}reset(e){}};let i=s;function u(){return i}n.setGlobalResponsiveContentHandler=function(e){if(i===s)for(let n of s.queue)e.handle(n);s.queue=[],i=e},n.getResponsiveContentHandler=u,n.sendEventToResponsiveContentHandler=function(e){var n,t;u().handle(Object.assign({userId:null===(t=null===(n=o.default())||void 0===n?void 0:n.user_data)||void 0===t?void 0:t.id},e))}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1                    ),n=s(4                ),a=s(5            ),r=s(6         ),o=s(11      ),l=s(2       ),c=s(12                                                            ),u=s(9                     );let d=document.referrer,_=document.location.href;const h=t=>t.split(/[?#]/)[0];e.updateReferrer=(()=>{h(_)!==h(document.location.href)&&(d=_,_=document.location.href)}),window.addEventListener("popstate",e.updateReferrer),e.extraProps={browser_name:l.name,browser_version:+l.version,os_name:l.osname,os_version:l.osversion,release:i.initialOptions().release_git_commit,release_tag:i.initialOptions().release_git_tag};const g="https://api.segment.io/v1",p="ajs_anonymous_id";class m{constructor(t){this._userId=t,this._writeKey=null,this._storage=a.getCookieOrLocalOrMemoryStorage(),this._userIP=i.initialOptions().user_ip||null,this._isCloudfront=!0===i.initialOptions().is_cloudfront,this._anonymousId=r.uuidv4(),this._disableTracking=null;const e=this._storage.get(p);null==e?this._storage.set(p,this._anonymousId):this._anonymousId=e}user(){return{id:()=>this._userId,anonymousId:()=>this._anonymousId,reset:()=>{this._anonymousId=r.uuidv4(),this._storage.set(p,this._anonymousId),this._userId=null}}}ready(t){t()}_getPage(){return{path:window.location.pathname,referrer:d,document_referrer:document.referrer,search:window.location.search,title:document.title,url:window.location.href}}_makeRequest(t,e){if(this._disableTracking)return;const s=(new Date).toISOString();o.default.post(`${g}/${t}`,Object.assign(Object.assign({},e),{anonymousId:this._anonymousId,context:{page:this._getPage(),ip:this._userIP,userAgent:navigator.userAgent,isCloudfront:this._isCloudfront},sentAt:s,timestamp:s,userId:this._userId,writeKey:this._writeKey}),{headers:{"content-type":"text/plain"}}).then(()=>{null===this._disableTracking&&(this._disableTracking=!1)},t=>{0===(null==t?void 0:t.status)?null===this._disableTracking&&(this._disableTracking=!0,console.log("[Segment] Request failed with status 0, disabling further tracking")):console.log(`[Segment] Error: ${t}`)})}identify(t,e){this._makeRequest("identify",{type:"identify",traits:e})}page(){this._makeRequest("page",{type:"page",properties:this._getPage()})}load(t){this._writeKey=t}track(t,e){this._makeRequest("track",{type:"track",properties:e,event:t})}}class y{constructor(t,e){if(this._analytics=t,this._PREFIX="segment:",this._USER_ID_KEY=this._PREFIX+"userId",this._storage=a.sessionStorageOrNull,this.identifyUser=(t=>{if(!this._storage)return;if(!t||!t.id)return void this.logoutUser();let e={email:t.email,name:t.name,username:t.handle||t.name,handle:t.handle,utcOffset:(new Date).getTimezoneOffset(),trackTags:t.track_tags,createdAt:t.created_at},s=JSON.stringify(e),i=this._PREFIX+"traits:"+t.id;this._storage[i]!==s&&(this._analytics.identify(t.id,e),this._storage[this._USER_ID_KEY]=t.id,this._storage[i]=s)}),this.logoutUser=(()=>{if(!this._storage)return;let t=this._storage[this._USER_ID_KEY];t&&(delete this._storage[this._USER_ID_KEY],delete this._storage[this._PREFIX+"traits:"+t],this._analytics.ready(()=>{this._analytics.user().reset()}))}),e){if(!this._analytics)throw new Error('Unable to use Segment, "analytics" is undefined.');this._analytics.load(e),this.identifyUser(i.initialOptions().user_data),this._analytics.page()}else console.warn("Segment tracking is disabled.")}get userId(){if(this._analytics.user)return this._analytics.user().id()||void 0}get anonymousId(){if(this._analytics.user)return this._analytics.user().anonymousId()}track(t,s={}){null==s&&(s={}),Object.keys(s).forEach(t=>{if("[object Object]"===Object.prototype.toString.call(s[t]))throw new Error("Analytics payloads CANNOT have object values")});let i=Object.assign(Object.assign(Object.assign({},s||{}),e.extraProps),{tracking_session_id:u.trackingSessionId()});this._analytics.track(t,i)}}class f{constructor(t){this.delegateSegment=t}get anonymousId(){return this.delegateSegment.anonymousId}get userId(){return this.delegateSegment.userId}track(t,e){i.initialOptions().user_data&&c.getResponsiveContentHandler().handle({id:t,userId:i.initialOptions().user_data.id,properties:e||{}}),this.delegateSegment.track(t,e)}}e.segmentTrackEvent=((t,s)=>{e.segment&&e.segment.track(t,s)});const k=t=>{const e=i.initialOptions().user_data,s=e?e.id:null;let n={track(t,e={}){}};return t&&(n=new y(new m(s),t)),new f(n)};e.segment=k(i.initialOptions().segment_web_key);const w=k(i.initialOptions().segment_fullscreen_key);{const t=window.location.pathname.startsWith("/files"),e=i.initialOptions().created_file_count;window.wootricSettings&&t&&e&&e>=5&&n.loadScript("https://cdn.wootric.com/wootric-sdk.js",{cors:!1,retry:!1}).then(()=>{window.wootric&&window.wootric("run")}).catch(()=>{})}function I(t,s={}){for(const e in s)e.match("_")&&console.error(`WARNING! snake_case not allowed as analytics keys. You're passing "${e}" as a key in params for event "${t}". Use camelCase instead.`);e.segmentTrackEvent(t,s)}e.trackFullscreenEvent=function(t,e){w.track(t,e)},e.trackEvent=I,e.trackContextCtaClicked=function(t){I("CTA Clicked",t)},function(t){t.NOT_POPULATED="not_populated",t.POPULATED_INCOMPLETE="populated_incomplete",t.POPULATED_COMPLETE="populated_complete"}(e.InputPopulationLevel||(e.InputPopulationLevel={})),e.trackContextInputBlurred=function(t){I("Input Blurred",t)},e.trackContextView=function(t){I("Context Viewed",t)}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=function(e,n=200,t=!1){let u=0,l=null;const o=function(){if(clearTimeout(u),u=0,!l)return;const n=l;l=null,e.apply(void 0,n)},c=function(...c){t&&!u?(t=!1,e.apply(void 0,c),t=!0):l=c,clearTimeout(u),u=setTimeout(o,n)};return c.cancel=(()=>{clearTimeout(u),l=null,u=0}),c.flush=o,c}}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(13         ),r=t(5            ),i=t(14            ),l=t(2       );function c(e,n){let t=document.createElement("a");t.href=e,t.rel="noreferrer noopener",n&&(t.target=n),document.body.appendChild(t),t.click(),t.remove()}function u(e,n){let t=document.createElement("a");t.href=e;let o=t.hostname;if(o!==window.location.hostname)throw new Error("Attempting to redirect to another domain.");window.self===window.top||n?c(e,n):window.top.location.href=t.href}n.unsafeRedirect=c,n.redirect=u;let s=null;function a(){if(null==r.sessionStorageOrNull)return!1;const e=JSON.parse(r.sessionStorageOrNull.getItem("reload_times")||JSON.stringify([])),n=Date.now()-3e5;for(;e&&e[0]<n;)e.shift();let t;return e.length>15?t=!0:(e.push(Date.now()),t=!1),r.sessionStorageOrNull.setItem("reload_times",JSON.stringify(e)),t}function m(e){return{top:e?e.top:0,right:e?e.right:0,bottom:e?e.bottom:0,left:e?e.left:0,width:e?e.width:0,height:e?e.height:0}}n.setOpenUrlInPrototypeListenerForTests=function(e){s=e},n.openUrlInPrototype=function(e){var n=e.url;null!=n&&(n.startsWith("mailto:")?c(n,e.openInNewWindow?"_blank":""):(n.startsWith("http://")||n.startsWith("https://")||(n="http://"+n),s?s(n):u("/exit?url="+encodeURIComponent(n),e.openInNewWindow?"_blank":"")))},n.unsafeWindowOpen=function(e,n,t){return window.open(e,n,t)},n.isLocationReloadExcessive=a,n.locationReload=function(e,n={}){const t=Object.assign(Object.assign({},n),{reason:e});a()?o.trackEvent("Location Reload Excessive",t):(o.trackEvent("Page Reloaded",t),console.log("Reloading the page... reason:",e,n),window.self!==window.top&&window.top.location.reload(),location.reload())},n.figmaClientRect=m,n.clientRectsEqual=function(e,n){return e&&n?JSON.stringify(m(e))===JSON.stringify(m(n)):e===n},n.isVisibleTab=function(){const e=document.__figmaTabHidden;return void 0!==e?!0!==e:!0!==document.hidden},n.isInIframe=function(){return self!==top},n.capabilities={};const d=document&&document.documentElement;function f(e,t){Object.defineProperty(n.capabilities,e,{enumerable:!0,configurable:!0,get(){const o=t();return Object.defineProperty(n.capabilities,e,{enumerable:!0,value:o}),o}})}f("pointerEvents",()=>"PointerEvent"in window),f("pointerCapture",()=>d&&"setPointerCapture"in d),f("exitPointerLockFunc",()=>document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||null),f("requestPointerLockFunc",()=>d&&(d.requestPointerLock||d.mozRequestPointerLock||d.webkitRequestPointerLock||d.msRequestPointerLock||null)),f("pointerLockChangeEventName",()=>"onpointerlockchange"in document?"pointerlockchange":"onmozpointerlockchange"in document?"mozpointerlockchange":"onwebkitpointerlockchange"in document?"webkitpointerlockchange":"onmspointerlockchange"in document?"mspointerlockchange":null),f("pointerLockErrorEventName",()=>"onpointerlockerror"in document?"pointerlockerror":"onmozpointerlockerror"in document?"mozpointerlockerror":"onwebkitpointerlockerror"in document?"webkitpointerlockerror":"onmspointerlockerror"in document?"mspointerlockerror":null),f("pointerLock",()=>!!n.capabilities.requestPointerLockFunc),f("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),f("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),f("requestFullscreenFunc",()=>d&&(d.requestFullscreen||d.mozRequestFullScreen||d.webkitRequestFullscreen||d.msRequestFullscreen||null)),f("exitFullscreenFunc",()=>{const e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),f("getFullscreenElement",()=>{return document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null}),f("fullscreen",()=>null!=n.capabilities.requestFullscreenFunc&&null!=n.capabilities.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled)),n.debouncedHistoryPushState=i.debounce((e,n,t)=>{try{history.pushState(e,n||"",t),o.updateReferrer()}catch(r){console.warn(r)}},300,!0),n.debouncedHistoryReplaceState=i.debounce((e,n,t)=>{try{history.replaceState(e,n||"",t),o.updateReferrer()}catch(r){console.warn(r)}},300,!0),n.promiseTabVisibility=function(){return null==document.visibilityState||"visible"===document.visibilityState?Promise.resolve():new Promise(e=>{document.addEventListener("visibilitychange",function n(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",n),e())})})},n.browserVersion=function(){const e=new RegExp(`${l.name}\\/${l.version}[0-9.]*`),n=navigator.userAgent.match(e);if(n)return n[0]}}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=window.__figmaDesktop;!function(e){e[e.FOCAL_TAB=0]="FOCAL_TAB",e[e.BACKGROUND_TAB=1]="BACKGROUND_TAB",e[e.NEW_WINDOW=2]="NEW_WINDOW"}(s.OpenTarget||(s.OpenTarget={}));class o{constructor(e){this.api=e}getVersion(){return this.api.version}getInformationalVersion(){const e=navigator.userAgent.match(/Figma\/([^\s]+)/);return e&&2===e.length?e[1]:"dev"}isFileBrowserTab(){return this.api.fileBrowser}isFileTab(){return!this.api.fileBrowser}setMessageHandler(e){this.api.setMessageHandler(e)}getFonts(){return this.api.promiseMessage("getFonts")}getFontFile(e,s){return this.api.promiseMessage("getFontFile",{path:e,postscript:s}).then(e=>new Uint8Array(e))}getClipboardData(e){return this.api.promiseMessage("getClipboardData",{formats:e})}setClipboardData(e,s){this.api.postMessage("setClipboardData",{format:e,data:s})}newFile(e){this.api.postMessage("newFile",{info:e})}openFile(e,s,t){this.api.postMessage("openFile",{fileKey:e,title:s,target:t})}openPrototype(e,s,t,i){this.getVersion()>=21?this.api.postMessage("openPrototype",{fileKey:e,pageId:s,title:t,target:i}):location.href="/proto/"+e+"?node-id="+s}close(e){this.api.postMessage("close",{suppressReopening:e})}setTitle(e){this.api.postMessage("setTitle",{title:e})}setFileKey(e){this.api.postMessage("setFileKey",{fileKey:e})}setLoading(e){this.api.postMessage("setLoading",{loading:e})}setSaved(e){this.api.postMessage("setSaved",{saved:e})}setUser(e){this.isFileBrowserTab()&&this.getVersion()>=13&&this.api.postMessage("setUser",{id:e})}updateActionState(e){this.api.postMessage("updateActionState",{state:e})}showFileBrowser(){this.api.postMessage("showFileBrowser")}setIsPreloaded(){this.api.postMessage("setIsPreloaded")}writeFiles(e){return this.api.promiseMessage("writeFiles",{files:e})}createNewLocalFileExtension(){return this.createMultipleNewLocalFileExtensions({title:"Pick Extension Manifest File",filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0).then(e=>e.added[0])}createMultipleNewLocalFileExtensions(e,s){return this.api.promiseMessage("createMultipleNewLocalFileExtensions",{options:e,depth:s})}getAllLocalFileExtensionIds(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("getAllLocalFileExtensionIds")}getLocalFileExtensionManifest(e){return this.api.promiseMessage("getLocalFileExtensionManifest",{id:e})}getLocalFileExtensionSource(e){return this.api.promiseMessage("getLocalFileExtensionSource",{id:e})}removeLocalFileExtension(e){this.api.postMessage("removeLocalFileExtension",{id:e})}openExtensionDirectory(e){this.api.postMessage("openExtensionDirectory",{id:e})}supportsLocalFileExtensionsAPIV4(){return this.getVersion()>=18}writeNewExtensionToDisk(e,s){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("writeNewExtensionToDisk",{dirName:e,files:s})}openDevTools(e){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.postMessage("openDevTools",{mode:e})}closeDevTools(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.postMessage("closeDevTools")}isDevToolsOpened(){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.promiseMessage("isDevToolsOpened")}registerManifestChangeObserver(e){if(!this.supportsLocalFileExtensionsAPIV4())throw new Error("Desktop app too old");return this.api.registerCallback("registerManifestChangeObserver",void 0,e)}supportsSettingPluginMenuData(){return this.getVersion()>=19}setPluginMenuData(e){this.supportsSettingPluginMenuData()&&this.api.postMessage("setPluginMenuData",{data:e})}}s.WrappedDesktopAppWebAPI=o,s.getWrappedDesktopAppWebAPI=function(){return i?new o(i):null}}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const p=o(2       ),n=o(15           ),r=o(1                    ),s=o(5            ),a=o(16                                      );t.OpenTarget=a.OpenTarget;const l=o(13           );t.desktopApp=a.getWrappedDesktopAppWebAPI(),t.desktopApp&&(l.extraProps.browser_name="Figma Desktop",l.extraProps.desktop_version=t.desktopApp.getInformationalVersion()),t.setFakeWrappedDesktopAppWebAPI=function(e){t.desktopApp=new a.WrappedDesktopAppWebAPI(e)},t.clearWrappedDesktopAppWebAPI=function(){t.desktopApp=null},delete window.__figmaDesktop;const i=20,u=(()=>{if(s.sessionStorageOrNull){const e="initialPathName";if(s.sessionStorageOrNull[e])return s.sessionStorageOrNull[e];s.sessionStorageOrNull[e]=location.pathname}return location.pathname})();t.isRunningOutdatedDesktopApp=function(){return!!window.__figmaContent||!!(t.desktopApp&&t.desktopApp.getVersion()<i)},t.isRunningUnsupportedDesktopAppPlatform=function(){if(t.desktopApp&&p.mac){const[e,t]=`${p.osversion}`.split(".");return+e<10||+t<10}return!1},t.canAutoOpenInDesktopApp=function(){return!(n.isInIframe()||t.desktopApp||!r.default().editing_file||!u.startsWith("/file/")||!location.pathname.startsWith("/file/"))},t.AUTO_OPEN_PREF="autoOpenInDesktopApp",t.MENU_MODAL_PREF="openInDesktopAppMenuModal",t.getAutoOpenPref=function(){return s.localStorageOrNull?s.localStorageOrNull[t.AUTO_OPEN_PREF]:void 0},t.setAutoOpenPref=function(e){s.localStorageOrNull&&(s.localStorageOrNull[t.AUTO_OPEN_PREF]=e)},t.getMenuModalPref=function(){return s.localStorageOrNull?s.localStorageOrNull[t.MENU_MODAL_PREF]:void 0},t.setMenuModalPref=function(e){s.localStorageOrNull&&(s.localStorageOrNull[t.MENU_MODAL_PREF]=e)}}),
(function(r,i,n){"use strict";function o(){return/FigmaMirror-Android/.test(navigator.userAgent)}function t(){return!!window.FigmaMobile}Object.defineProperty(i,"__esModule",{value:!0}),i.windows="Win32"===navigator.platform||"Win64"===navigator.platform,i.mac="MacIntel"===navigator.platform,i.isMobileBrowser=/Mobi/.test(navigator.userAgent),i.isMobileBrowserGetter=function(){return i.isMobileBrowser},i.isAndroidMirrorApp=o,i.isIosMirrorApp=t,i.getAndroidAppVersion=function(){if(o()){const r=navigator.userAgent.match(/FigmaMirror-Android\/(\d+)/);if(r)return parseInt(r[1])}return-1},i.getIosAppVersion=function(){return t()?window.FigmaMobile.appVersion||1:-1}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=Object.create(null);function o(e){let t=e,n=0;for(;c[t];)t=e+`_${n}`,n+=1;return c[t]=!0,t}t.generateUniqueActionType=o,t.actionCreator=function(e){const t=o(e),n=(e={})=>({type:t,payload:e});return n.matches=(e=>e.type===t),n}}),
(function(a,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(19                  );!function(a){a.init=r.actionCreator("AUTH_INIT"),a.realtimeInit=r.actionCreator("AUTH_REALTIME_INIT"),a.signIn=r.actionCreator("AUTH_SIGN_IN"),a.signUpExtraInfo=r.actionCreator("AUTH_SIGN_UP_EXTRA_INFO"),a.signUpGoBack=r.actionCreator("AUTH_SIGN_UP_GO_BACK"),a.signUp=r.actionCreator("AUTH_SIGN_UP"),a.resetPassword=r.actionCreator("AUTH_RESET_PASSWORD"),a.resendCode=r.actionCreator("AUTH_RESEND_CODE"),a.validateCode=r.actionCreator("VALIDATE_CODE"),a.sendEmailSamlStart=r.actionCreator("AUTH_SEND_EMAIL_SAML_START"),a.showForm=r.actionCreator("AUTH_SHOW_FORM"),a.sendPasswordReset=r.actionCreator("AUTH_SEND_PASSWORD_RESET"),a.showError=r.actionCreator("AUTH_SHOW_ERROR"),a.clearError=r.actionCreator("AUTH_CLEAR_ERROR"),a.showSuccess=r.actionCreator("AUTH_SHOW_SUCCESS"),a.complete=r.actionCreator("AUTH_COMPLETE"),a.changeEmail=r.actionCreator("AUTH_CHANGE_EMAIL"),a.changeName=r.actionCreator("AUTH_CHANGE_NAME"),a.changeHandle=r.actionCreator("AUTH_CHANGE_HANDLE"),a.toggleSMS=r.actionCreator("AUTH_TOGGLE_SMS"),a.requireTwoFactor=r.actionCreator("AUTH_REQUIRE_TWO_FACTOR"),a.sendSMS=r.actionCreator("AUTH_SEND_SMS"),a.changePasswordLength=r.actionCreator("AUTH_CHANGE_PASSWORD_LENGTH"),a.changeJob=r.actionCreator("AUTH_CHANGE_JOB"),a.changeOptInEmail=r.actionCreator("AUTH_CHANGE_OPT_IN_EMAIL"),a.spellcheckDomain=r.actionCreator("AUTH_SPELLCHECK_DOMAIN"),a.setDomainSuggestion=r.actionCreator("AUTH_SET_DOMAIN_SUGGESTION"),a.useDomainSuggestion=r.actionCreator("AUTH_USE_DOMAIN_SUGGESTION"),a.sendValidationEmail=r.actionCreator("AUTH_SEND_VALIDATION_EMAIL"),a.setGoogleIdToken=r.actionCreator("AUTH_SET_GOOGLE_ID_TOKEN"),a.samlStartFromSession=r.actionCreator("AUTH_SAML_START_FROM_SESSION"),a.emailOnly=r.actionCreator("AUTH_EMAIL_ONLY"),a.redeemReset=r.actionCreator("AUTH_REDEEM_RESET"),a.setRedirectUrl=r.actionCreator("AUTH_SET_REDIRECT_URL")}(o.auth||(o.auth={}))}),
(function(_,e,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthFormState={SIGN_IN:"sign_in",SAML_START:"saml_start",SIGN_UP:"sign_up",SIGN_UP_EXTRA_INFO:"sign_up_extra_info",FORGOT_PASSWORD:"forgot_password",SENT_PASSWORD_RESET:"sent_password_reset",RESET_PASSWORD:"reset_password",VALIDATE_EMAIL:"validate_email",VALIDATE_CODE:"validate_code",APP_AUTH_GRANT:"app_auth_grant",APP_AUTH_REDEEM:"app_auth_redeem",SSO_GATE:"sso_gate",EMAIL_ONLY:"email_only"},function(_){_[_.UNAUTHORIZED=0]="UNAUTHORIZED",_[_.BAD_REQUEST=1]="BAD_REQUEST",_[_.NO_SAML=2]="NO_SAML",_[_.SAML_REQUIRED=3]="SAML_REQUIRED"}(e.ErrorType||(e.ErrorType={})),e.AuthInputType={EMAIL:"email",PASSWORD:"password",VERIFICATION_CODE:"verification_code",TOTP_KEY:"totp_key",JOB_TITLE:"job_title",PROFILE_HANDLE:"profile_handle"},function(_){_.GOOGLE="google",_.SAML="saml"}(e.SSOMethod||(e.SSOMethod={})),function(_){_.DESKTOP="desktop",_.MOBILE="mobile"}(e.AppAuthAppType||(e.AppAuthAppType={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r,h=[],l=Math.min;if(!t||!e)return(e||t).length;for(n=0;n<=e.length;h[n]=[n++]);for(r=0;r<=t.length;h[0][r]=r++);for(n=1;n<=e.length;n++)for(r=1;r<=t.length;r++)h[n][r]=e.charAt(n-1)==t.charAt(r-1)?h[n-1][r-1]:h[n][r]=l(h[n-1][r-1]+1,l(h[n][r-1]+1,h[n-1][r]+1));return h[e.length][t.length]}}),
(function(o,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(1                    ),t=e(22               );a.isEmail=function(o){return/^[^<>\/\\:?*"|]*$/.test(o)&&/^[\u0000-\u007F]+$/.test(o)&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/i.test(o)},a.parseEmails=function(o){let a=[],e=o.split(/[,\n]/g);for(let i of e){let o=i.match(/^.*<(.*)>$/);o&&(i=o[1]),(i=i.trim())&&a.push(i)}return a};var m=["gmail.com","googlemail.com","hotmail.com","outlook.com","msn.com","live.com","windowslive.com","hotmail.be","hotmail.ca","hotmail.ch","hotmail.cl","hotmail.co","hotmail.co.il","hotmail.co.jp","hotmail.co.kr","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.co.za","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.hk","hotmail.com.in","hotmail.com.tw","hotmail.cz","hotmail.de","hotmail.dk","hotmail.dr","hotmail.es","hotmail.fi","hotmail.fr","hotmail.gr","hotmail.hu","hotmail.it","hotmail.lv","hotmail.my","hotmail.nl","hotmail.no","hotmail.ph","hotmail.rs","hotmail.se","hotmail.sg","hotmail.sk","live.at","live.be","live.ca","live.cl","live.cn","live.co.in","live.co.jp","live.co.kr","live.co.uk","live.co.za","live.com","live.com.ar","live.com.au","live.com.mx","live.com.my","live.com.pe","live.com.ph","live.com.pk","live.com.pt","live.com.sg","live.com.ve","live.de","live.dk","live.fi","live.fr","live.ie","live.in","live.it","live.jp","live.nl","live.no","live.ru","live.se","livemail.com.br","livemail.com.tw","yahoo.com","yahoo.com.ar","yahoo.com.au","yahoo.at","yahoo.nl","yahoo.be","yahoo.fr","yahoo.com.br","yahoo.ca","yahoo.en","yahoo.com.cn","yahoo.cn","yahoo.cz","yahoo.dk","yahoo.fi","yahoo.de","yahoo.gr","yahoo.com.hk","yahoo.hu","yahoo.co.in","yahoo.in","yahoo.co.id","yahoo.ie","yahoo.co.il","yahoo.it","yahoo.co.kr","yahoo.com.my","yahoo.com.mx","yahoo.ae","yahoo.co.nz","yahoo.no","yahoo.com.ph","yahoo.pl","yahoo.pt","yahoo.ro","yahoo.ru","yahoo.com.sg","yahoo.co.za","yahoo.es","yahoo.se","yahoo.ch","yahoo.com.tw","yahoo.co.th","yahoo.com.tr","yahoo.co.uk","yahoo.com.vn","att.yahoo.com","ameritech.net","att.net","bellsouth.net","btinternet.com","btopenworld.com","flash.net","y7mail.com","sbcyahoo.net","talk21.com","swbell.net","kimo.com","nvbell.net","prodigy.net","sbcglobal.net","ymail.com","rocketmail.com","wans.net","xtra.co.nz","pacbell.net","snet.net","worldnet.att.net","frontier.com","yahoo.co.jp","aol.com","aim.com","cs.com","netscape.com","orange.fr","wanadoo.co.uk","wanadoo.fr","freeserve.co.uk","orangehome.co.uk","mail.ru","inbox.ru","list.ru","bk.ru","optimum.net","optonline.net","comcast.com","comcast.net","rr.com","roadrunner.com","gmx.com","gmx.net","gmx.ch","gmx.de","gmx.at","icloud.com","mac.com","me.com","libero.it","web.de","seznam.cz","email.cz","o2.com","o2.pl","o2online.de","o2.co.uk","o2mail.de","free.fr","126.com","163.com","yandex.ru","narod.ru","ya.ru","yandex.com","yandex.ua","autorambler.ru","lenta.ru","myrambler.ru","rambler.ru","ro.ru","r0.ru","rediff.com","alice.it","telecomitalia.it","tim.it","virgilio.it","qq.com","freenet.de","verizon.com","verizon.net","sfr.fr","club-internet.fr","neuf.fr","9business.fr","9online.fr","cegetel.net","clearnet.co.nz","earthlink.net","peoplepc.com","cox.net","qip.ru","pochta.ru","pochta.com","fromru.com","front.ru","hotbox.ru","hotmail.ru","krovatka.su","land.ru.","mail15.com","mail333.com","newmail.ru","nightmail.ru","nm.ru","pisem.net","pochtamt.ru","pop3.ru","rbcmail.ru","smtp.ru","5ballov.ru","aeterna.ru","ziza.ru","memori.ru","photofile.ru","fotoplenka.ru","talktalk.co.uk","talktalk.net","tiscali.co.uk","telefonica.net","movistar.es","ig.com.br","ibest.com.br","naver.com","wp.pl"],l={};function c(o){return o.toLowerCase().split("@")[1]||null}m.forEach(o=>l[o]=!0),a.spellcheckDomain=function(o){if(o in l)return null;for(let a of m)if(1===t.default(o,a))return a;return null},a.getEmailDomain=c,a.isFigmaEmail=function(o){return o.endsWith(i.default().figma_email_suffix)},a.isKnownDomain=function(o){const a=c(o);return!!a&&a in l}}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(2,1    );class o extends i.Component{constructor(){super(...arguments),this.form=null,this.submitClicked=!1,this.focusFirstElement=(()=>{if(this.form&&!this.props.noAutofocus)for(let t=0;t<this.form.elements.length;t++){let s=this.form.elements[t];if(!s.value&&!s.dataset.noAutoFocus){s.focus();break}}}),this.focusOnInvalidInput=(()=>{if(this.form)for(let t=0;t<this.form.elements.length;t++){let s=this.form.elements[t];if(s.name===this.props.auth.invalidInput){s.focus(),s.selectionStart=s.selectionEnd;break}}}),this.onSubmit=(t=>{t.preventDefault(),this.submitClicked=!0,this.props.onSubmit&&this.props.onSubmit(t)})}componentDidUpdate(t){this.submitClicked&&this.props.auth.invalidInput?this.focusOnInvalidInput():this.props.auth.formState!==t.auth.formState&&this.focusFirstElement(),this.submitClicked=!1}componentDidMount(){this.focusFirstElement()}render(){return i.createElement("form",{id:this.props.id,className:this.props.className,onSubmit:this.onSubmit,ref:t=>this.form=t},this.props.children)}}s.AuthFormInner=o,o.displayName="AuthFormInner"}),
(function(r,e,o){r.exports={modal:"auth_form--modal--2C3yg",form:"auth_form--form--xKnbM auth_form--modal--2C3yg",header:"auth_form--header--21sqq",largeHeader:"auth_form--largeHeader--3FFhx text--fontPos18Whyte--2VulS text--_fontBaseWhyte--e6y38",hint:"auth_form--hint--3Bsa0",error:"auth_form--error--2I51G"}}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(2,1    ),a=t(24                                              ),o=t(25               );class h extends s.PureComponent{render(){const e=this.props.header,r=`${this.props.modal?o.modal:o.form} ${this.props.className||""}`,t=`${o.header} ${this.props.largeHeader?o.largeHeader:""}`;return s.createElement(a.AuthFormInner,{id:this.props.id,className:r,dispatch:this.props.dispatch,auth:this.props.auth,noAutofocus:this.props.noAutofocus,onSubmit:this.props.onSubmit},this.props.header&&s.createElement("div",{className:t},e),this.props.auth.hint&&s.createElement("div",{className:o.hint},this.props.auth.hint),s.createElement("div",{className:o.error},!this.props.hideError&&this.props.auth.error&&s.createElement(s.Fragment,null,this.props.auth.error)),this.props.children)}}r.AuthForm=h,h.displayName="AuthForm"}),
(function(E,A,_){"use strict";Object.defineProperty(A,"__esModule",{value:!0});const e=_(2       );var D;function P(E){return(E.altKey?D.ALT:0)|(E.metaKey?D.META:0)|(E.shiftKey?D.SHIFT:0)|(E.ctrlKey?D.CONTROL:0)}function K(E){return!!E&&(E.metaKey&&e.mac||E.ctrlKey&&!e.mac||E.shiftKey)}!function(E){E[E.ALT=256]="ALT",E[E.META=512]="META",E[E.SHIFT=1024]="SHIFT",E[E.CONTROL=2048]="CONTROL"}(D=A.ModifierKey||(A.ModifierKey={})),function(E){E[E.BACKSPACE=8]="BACKSPACE",E[E.TAB=9]="TAB",E[E.ENTER=13]="ENTER",E[E.SHIFT=16]="SHIFT",E[E.CTRL=17]="CTRL",E[E.ALT=18]="ALT",E[E.PAUSE=19]="PAUSE",E[E.CAPS_LOCK=20]="CAPS_LOCK",E[E.ESCAPE=27]="ESCAPE",E[E.SPACE=32]="SPACE",E[E.PAGE_UP=33]="PAGE_UP",E[E.PAGE_DOWN=34]="PAGE_DOWN",E[E.END=35]="END",E[E.HOME=36]="HOME",E[E.LEFT_ARROW=37]="LEFT_ARROW",E[E.UP_ARROW=38]="UP_ARROW",E[E.RIGHT_ARROW=39]="RIGHT_ARROW",E[E.DOWN_ARROW=40]="DOWN_ARROW",E[E.INSERT=45]="INSERT",E[E.DELETE=46]="DELETE",E[E.KEY_0=48]="KEY_0",E[E.KEY_1=49]="KEY_1",E[E.KEY_2=50]="KEY_2",E[E.KEY_3=51]="KEY_3",E[E.KEY_4=52]="KEY_4",E[E.KEY_5=53]="KEY_5",E[E.KEY_6=54]="KEY_6",E[E.KEY_7=55]="KEY_7",E[E.KEY_8=56]="KEY_8",E[E.KEY_9=57]="KEY_9",E[E.A=65]="A",E[E.B=66]="B",E[E.C=67]="C",E[E.D=68]="D",E[E.E=69]="E",E[E.F=70]="F",E[E.G=71]="G",E[E.H=72]="H",E[E.I=73]="I",E[E.J=74]="J",E[E.K=75]="K",E[E.L=76]="L",E[E.M=77]="M",E[E.N=78]="N",E[E.O=79]="O",E[E.P=80]="P",E[E.Q=81]="Q",E[E.R=82]="R",E[E.S=83]="S",E[E.T=84]="T",E[E.U=85]="U",E[E.V=86]="V",E[E.W=87]="W",E[E.X=88]="X",E[E.Y=89]="Y",E[E.Z=90]="Z",E[E.SELECT=93]="SELECT",E[E.NUMPAD_0=96]="NUMPAD_0",E[E.NUMPAD_1=97]="NUMPAD_1",E[E.NUMPAD_2=98]="NUMPAD_2",E[E.NUMPAD_3=99]="NUMPAD_3",E[E.NUMPAD_4=100]="NUMPAD_4",E[E.NUMPAD_5=101]="NUMPAD_5",E[E.NUMPAD_6=102]="NUMPAD_6",E[E.NUMPAD_7=103]="NUMPAD_7",E[E.NUMPAD_8=104]="NUMPAD_8",E[E.NUMPAD_9=105]="NUMPAD_9",E[E.NUMPAD_DELETE=1e3]="NUMPAD_DELETE",E[E.MULTIPLY=106]="MULTIPLY",E[E.ADD=107]="ADD",E[E.SUBTRACT=109]="SUBTRACT",E[E.DECIMAL=110]="DECIMAL",E[E.DIVIDE=111]="DIVIDE",E[E.SEMICOLON=186]="SEMICOLON",E[E.EQUALS=187]="EQUALS",E[E.COMMA=188]="COMMA",E[E.DASH=189]="DASH",E[E.PERIOD=190]="PERIOD",E[E.FORWARD_SLASH=191]="FORWARD_SLASH",E[E.GRAVE_ACCENT=192]="GRAVE_ACCENT",E[E.BACK_SLASH=220]="BACK_SLASH"}(A.Key||(A.Key={})),function(E){E[E.KEY_PRESS=1]="KEY_PRESS",E[E.KEY_RELEASE=2]="KEY_RELEASE"}(A.EventType||(A.EventType={})),A.isStandardShortcutKeyPressed=function(E){return e.mac?E.metaKey:E.ctrlKey},A.modifierKeys=P,A.isNoneOrAllowedModifiersPressed=function(E,A){const _=P(E);return 0===_||0==(_&~A)},A.isExactModifierPressed=function(E,A){return P(E)===A},A.shouldUseDefaultOpenBehavior=K,A.withDefaultOpenBehavior=(E=>A=>{K(A)||E(A)})}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=null,t=!1;function o(e,r){if(t){if(!i)throw new Error("Tried to record without a recording listener");i(e,r)}}r.enableRecording=function(){t=!0},r.disableRecording=function(){t=!1},r.isRecording=function(){return t},r.record=o,r.setRecordingListener=function(e){if(i)throw new Error("Tried to register already-registered recording listener");i=e},r.removeRecordingListener=function(){if(!i)throw new Error("Tried to unregister never-registered recording listener");i=null};const c=!1,d=Object.create(null);function l(e,r){if(-1!==(e in d?d[e].indexOf(r):-1))throw new Error(`Tried to register already registered playback handler for ${e}`);d[e]||(d[e]=[]),d[e].push(r)}function a(e,r){const n=e in d?d[e].indexOf(r):-1;if(-1===n)throw new Error(`Tried to unregister unknown playback handler for ${e}`);d[e].splice(n,1),0===d[e].length&&delete d[e]}function s(e,r){return`${e}.${r}`}function g(e){const r=e;if(r.__registeredRecordingKey){c&&console.log("[InteractionRecorder] unregister",r.__registeredRecordingKey);for(let e in r.__playbackHandlers){a(s(r.__registeredRecordingKey,e),r.__playbackHandlers[e])}r.__registeredRecordingKey=null}}r.playback=function(e,r){if(!(e in d)||0===d[e].length)throw new Error(`No playback handler registered for ${e}`);if(d[e].length>1)throw new Error(`Multiple playback handlers registered for ${e}`);d[e][0](r)},r.addPlaybackHandler=l,r.removePlaybackHandler=a,r.hasPlaybackHandler=function(e){return e in d},r.registerInteractable=function e(r){const n=r,i=r.recordingKey();if(i)if(n.__registeredRecordingKey)i!==n.__registeredRecordingKey&&(g(r),e(r));else{n.__registeredRecordingKey=i,c&&console.log("[InteractionRecorder] register",i);for(let e in n.__playbackHandlers)l(s(i,e),n.__playbackHandlers[e])}},r.unregisterInteractable=g,r.SKIP_RECORDING="SKIP_RECORDING",r.recordInteraction=function(e,r,n,i={}){const c=i.record||(e=>e),d=i.playback||(e=>e),l=e,a=l.__playbackHandlers||(l.__playbackHandlers=Object.create(null));if(r in a)throw new Error(`Tried to register duplicate playback handler for ${r}`);return a[r]=(e=>n(d(e))),function(e){0===n.length&&(e=void 0);const i=n(e);t&&"SKIP_RECORDING"!=i&&(l.__registeredRecordingKey?o(s(l.__registeredRecordingKey,r),c(e)):console.warn(`No recording key registered to handle ${r} on`,l))}}}),
(function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=new Int32Array(127);for(var o=0;o<127;o++)n[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(String.fromCharCode(o));e.decode=function(r){for(var e=0,t=r.length>>>2,o=new Uint8Array(3*t),a=0;e<t<<2;){var c=n[127&r.charCodeAt(e++)],d=n[127&r.charCodeAt(e++)],f=n[127&r.charCodeAt(e++)],i=n[127&r.charCodeAt(e++)];o[a++]=c<<2|d>>>4,f>=0&&(o[a++]=d<<4|f>>>2),i>=0&&(o[a++]=f<<6|i)}return a===o.length?o:o.subarray(0,a)},e.encode=function(r){for(var e="",t=r.length,n=0;n<t;n+=1024)e+=String.fromCharCode.apply(String,r.subarray(n,n+1024));return btoa(e)}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2,1    ),o=n(1                  ),s=n(28                       ),a=n(29        );let c="/test/interactions"===window.location.pathname;function i(){return c}t.isDevelopmentEnvironment=!1,t.setIsDevelopmentEnvironment=function(e){t.isDevelopmentEnvironment=e},t.setRunningInteractionTests=function(e){c=e},t.isRunningInteractionTests=i;const u=new Set;function l(){return!!t.isDevelopmentEnvironment||(c||o.getFeatureFlags()&&o.getFeatureFlags().interaction_recorder)}function d(e){l()&&s.registerInteractable(e)}function b(e){l()&&s.unregisterInteractable(e)}t.addTestStartListener=function(e){i()&&u.add(e)},t.removeTestStartListener=function(e){i()&&u.delete(e)},t.runTestStartCallbacks=function(){u.forEach(e=>e())},t.recordingOrPlaybackIsEnabled=l,t.register=d,t.unregister=b,t.joinKeys=function(e,...t){let n=e.recordingKey;return n?n+"."+t.join("."):n};class y extends r.PureComponent{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){d(this)}componentDidUpdate(e,t){d(this)}componentWillUnmount(){b(this)}}t.PureComponent=y;class g extends r.Component{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){d(this)}componentDidUpdate(e,t){d(this)}componentWillUnmount(){b(this)}}function f(e,t,n,r={}){return l()?s.recordInteraction(e,t,n,r):n}function p(e){const t={};return e.altKey&&(t.altKey=!0),e.shiftKey&&(t.shiftKey=!0),e.metaKey&&(t.metaKey=!0),e.ctrlKey&&(t.ctrlKey=!0),t}t.Component=g,t.SKIP_RECORDING=s.SKIP_RECORDING,t.otherEvent=f;const k={preventDefault(){},stopPropagation(){}};function m(e){const t={};return t.altKey=!!e.altKey,t.ctrlKey=!!e.ctrlKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t}function v(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=(()=>t(new Uint8Array(r.result))),r.onerror=(e=>n(e)),r.readAsArrayBuffer(e)})}t.mouseEvent=function(e,t,n,r){return f(e,t,n,{record:e=>(e||(e={}),Object.assign(Object.assign({buttons:e.buttons},p(e)),r?r.recordMetadata(e):{})),playback:e=>Object.assign(Object.assign(Object.assign({clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),r?r.playbackMetadata(e):{})})},t.dropEvent=function(e,t,n){return f(e,t,n,{record(e){const t=e.dataTransfer.files,n={};if(t){const e=[];for(const n of t){const t=e.length;e.push("(failed to read file)"),v(n).then(n=>{let r=a.encode(n);r.length>1e3&&(console.warn("Recording of drop events is only supported for small files"),r="(file too large)"),e[t]=r})}n.files=e}return Object.assign(Object.assign({buttons:e.buttons},p(e)),{dataTransfer:n})},playback(e){const t={};return e.dataTransfer.files&&(t.files=e.dataTransfer.files.map(e=>new Blob([a.decode(e)]))),Object.assign(Object.assign(Object.assign({clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),{dataTransfer:t})}})},t.wheelEvent=function(e,t,n,r){return f(e,t,n,{record:e=>(e||(e={}),Object.assign(Object.assign({buttons:e.buttons},p(e)),r?r.recordMetadata(e):{})),playback:e=>Object.assign(Object.assign(Object.assign({deltaX:0,deltaY:0,deltaMode:WheelEvent.DOM_DELTA_PIXEL,clientX:0,clientY:0,button:0,buttons:e.buttons},m(e)),k),r?r.playbackMetadata(e):{})})},t.keyboardEvent=function(e,t,n){return f(e,t,n,{record:e=>Object.assign({key:e.key,keyCode:e.keyCode},p(e)),playback:e=>Object.assign(Object.assign({key:e.key,keyCode:e.keyCode},m(e)),k)})},t.propagatingKeyboardEvent=function(e,t,n){return f(e,t,n,{record(e){const t=e.event;return Object.assign({key:t.key,keyCode:t.keyCode},p(t))},playback:e=>({event:Object.assign(Object.assign({key:e.key,keyCode:e.keyCode},m(e)),k),accept:()=>{}})})},t.changeEvent=function(e,t,n){return f(e,t,n,{record:e=>"checkbox"===e.currentTarget.type?{checked:e.currentTarget.checked}:{value:e.currentTarget.value},playback(e){const t={value:e.value,checked:e.checked};return Object.assign({target:t,currentTarget:t},k)}})},t.submitEvent=function(e,t,n){return f(e,t,n,{record:e=>({}),playback:e=>Object.assign({},k)})},t.focusEvent=function(e,t,n){return f(e,t,n,{record:e=>({}),playback:e=>({})})}}),
(function(n,t,p){n.exports={lazyInput:"lazy_input--lazyInput--2kTZE"}}),
(function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};Object.defineProperty(t,"__esModule",{value:!0});const s=r(2,1    ),i=r(13           ),a=r(12                                                            ),o=50;let c=null;t.clearCtaClickedReferrer=(()=>{c=null});const p=s.createContext({properties:{}});class l extends s.Component{constructor(){super(...arguments),this.trackedName=null,this.trackedProperties=null}trackUpdate(e,t){if(!this.trackedName||this.trackedName!==e||this.hasTrackedPropertiesChanged(t))if(this.props.disableViewTracking){let r={};for(let e of Object.keys(t))null!==t[e]&&void 0!==t[e]&&(r[e]=t[e]);a.sendEventToResponsiveContentHandler({id:e,properties:r})}else i.trackContextView(Object.assign(Object.assign({name:e},null!=c&&{ctaClickedReferrer:c}),t)),this.trackedName=e,this.trackedProperties=t||null}hasTrackedPropertiesChanged(e){const t=this.trackedProperties,r=Object.assign(Object.assign({},e),this.props.properties);if(!t||!r)return!t!=!r;const n=Object.keys(t),s=Object.keys(r);return n.length!==s.length||n.some(e=>t[e]!==r[e])}render(){return s.createElement(p.Consumer,null,e=>{const t=e.name?`${e.name} > ${this.props.name}`:this.props.name,r=Object.assign(Object.assign({},e.properties),this.props.properties);return this.trackUpdate(t,r),s.createElement(p.Provider,{value:{name:t,properties:r}},this.props.children)})}}function u(e){return class extends s.Component{render(){return s.createElement(p.Consumer,null,r=>{const a=e=>{const n=Object.assign(Object.assign({},r.properties),this.props.trackingProperties);r.name&&(n.trackingContext=r.name);const s=t.getTrackingText(this.props.children,this.props.innerText);s&&(n.text=s),i.trackContextCtaClicked(n),c=`${n.trackingContext} : ${n.text}`,this.props.onClick&&this.props.onClick(e),setTimeout(t.clearCtaClickedReferrer,o)},p=this.props,{trackingProperties:l,innerText:u}=p,d=n(p,["trackingProperties","innerText"]);return!this.props.children&&this.props.innerText,s.createElement(e,Object.assign({},d,{onClick:a}))})}}}t.TrackingContext=l,l.displayName="TrackingContext",t.asTrackedContext=function(e,t){var r;return(r=class extends s.PureComponent{render(){return s.createElement(l,{name:t||e.displayName},s.createElement(e,Object.assign({},this.props)))}}).displayName=e.displayName,r},t.asTrackedElement=function(e,t,r={}){return s.createElement(l,{name:t,properties:r},e)},t.getTrackingText=((e,t)=>t||(e&&"string"==typeof e?e:e&&Array.isArray(e)&&e.every(e=>"string"==typeof e)?e.join(""):void 0)),t.asTrackedClickable=u,t.ButtonTracked=u(e=>s.createElement("button",Object.assign({},e))),t.asTrackedInput=function(e){return class extends s.Component{render(){return s.createElement(p.Consumer,null,t=>{const r=this.props,{trackingProperties:a,trackingPopulationLevel:o,trackingFieldName:c}=r,p=n(r,["trackingProperties","trackingPopulationLevel","trackingFieldName"]);return s.createElement(e,Object.assign({},p,{onBlur:e=>{const r=Object.assign(Object.assign(Object.assign({},t.properties),this.props.trackingProperties),{fieldName:this.props.trackingFieldName,populationLevel:this.props.trackingPopulationLevel});t.name&&(r.trackingContext=t.name),i.trackContextInputBlurred(r),this.props.onBlur&&this.props.onBlur(e)}}))})}}},t.DivTrackable=u(e=>s.createElement("div",Object.assign({},e))),t.ATrackable=u(e=>s.createElement("a",Object.assign({},e)))}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(2,1    ),i=a(30               ),n=a(31                ),r=a(32                                     );class o extends i.PureComponent{constructor(t){super(t),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=(()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)}),this.onChange=i.changeEvent(this,"change",t=>{this.procrastinate(),this.setState({value:t.target.value}),this.props.onChange(t)}),this.state={value:this.props.value}}UNSAFE_componentWillReceiveProps(t){this.updateIfNotLazy(t.value)}componentWillUnmount(){super.componentWillUnmount(),this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(t){this.procrastinating?this.setState({requestedValue:t}):this.state.value!==t&&this.setState({value:t,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let t=Object.assign({},this.props);return delete t.delay,delete t.recordingKey,delete t.dataTestId,delete t.innerRef,t.value=this.state.value,t.onChange&&(t.onChange=this.onChange),null==t.value&&(t.value=void 0),t.className?t.className=`${t.className} ${n.lazyInput}`:t.className=n.lazyInput,null!=this.props.dataTestId&&(t["data-test-id"]=this.props.dataTestId),t}render(){return s.createElement("textarea"===this.props.type?"textarea":"input",Object.assign(Object.assign({},this.getProps()),{ref:this.props.innerRef}))}}o.displayName="LazyInput",o.defaultProps={type:"text",delay:1e3},e.LazyInput=s.forwardRef((t,e)=>s.createElement(o,Object.assign({},t,{innerRef:e}))),e.LazyInputTracked=r.asTrackedInput(e.LazyInput)}),
(function(i,t,s){i.exports={input:"basic_form--input--3cO2P",bigInput:"basic_form--bigInput--35JZw basic_form--input--3cO2P",textInput:"basic_form--textInput--3ZlM2 basic_form--input--3cO2P",bigTextInput:"basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P",checkboxContainer:"basic_form--checkboxContainer--2LsO1",checkbox:"basic_form--checkbox--3eCIg",checkboxShowFocus:"basic_form--checkboxShowFocus--2RbJL",label:"basic_form--label--hdhP9",btn:"basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",btnBig:"basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",primaryBtn:"basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",primaryBtnBig:"basic_form--primaryBtnBig--DLL1m basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",negativeBtn:"basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",secondaryNegativeBtn:"basic_form--secondaryNegativeBtn--FmDmU basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",negativeBtnBig:"basic_form--negativeBtnBig--2c7h3 basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",greenBtn:"basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",whiteBtn:"basic_form--whiteBtn--3Xwp5 basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0",greenBtnBig:"basic_form--greenBtnBig--1m5Oi basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",secondaryBtnBig:"basic_form--secondaryBtnBig--evjXj basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--btnBig--ft-SV ellipsis--ellipsis--1RWY6 text--fontPos11--RSei3 text--_fontBase--YWDo0 basic_form--bigInput--35JZw basic_form--input--3cO2P",link:"basic_form--link--11HI0 blue_link--blueLink--22X56",inlineLink:"basic_form--inlineLink--3sRG- blue_link--blueLink--22X56",bigSelect:"basic_form--bigSelect--2lByI basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P"}}),
(function(a,o,s){a.exports={autoscale:"svg--autoscale--11OB-"}}),
(function(e,s,t){"use strict";var r=this&&this.__rest||function(e,s){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)s.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};Object.defineProperty(s,"__esModule",{value:!0});const o=t(2,1    ),n=t(30               ),i=t(35         );s.rawSvgSrc=function(e){return{src:e}};class l extends n.PureComponent{constructor(){super(...arguments),this.onClick=n.mouseEvent(this,"click",e=>{this.props.onClick(e)}),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e=this.props.svg;if(!e)return null;let s=e.src,t=Object.assign({},this.props);delete t.svg,delete t.useOriginalSrcFills,delete t.recordingKey,this.props.onClick&&this.props.recordingKey&&(t.onClick=this.onClick),this.props.onMouseDown&&this.props.recordingKey&&(t.onMouseDown=this.onMouseDown);let n=this.props.useOriginalSrcFills?"":"svg-container";this.props.className&&(n+=` ${this.props.className}`),s=s.replace("<svg ",'<svg class="svg" ');const{autosize:l}=t,c=r(t,["autosize"]);if(!0===l){n+=` ${i.autoscale}`;const e=c.style?Object.assign({},c.style):{};e.height=t.height,e.width=t.width,c.style=e}return this.props.href?o.createElement("a",Object.assign({dangerouslySetInnerHTML:{__html:s}},c,{className:n})):o.createElement("span",Object.assign({dangerouslySetInnerHTML:{__html:s}},c,{className:n}))}}s.Svg=l,l.displayName="Svg"}),
(function(e,t,s){"use strict";var n=this&&this.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s};Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),r=s(27       ),o=s(30               ),c=s(33                                       ),i=s(34                ),l=s(32                                                 ),p=s(36                         );let d=null;t.setForwardInputKeyToFullscreenIfNecessary=function(e){d=e};class u extends o.Component{constructor(){super(...arguments),this.onKeyDown=(e=>{d&&d(e)||(this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===r.Key.ESCAPE&&e.target.blur())}),this.onClick=o.mouseEvent(this,"click",e=>{this.props.onClick&&this.props.onClick(e)})}render(){const e=Object.assign({},this.props);return e.className=`${this.props.defaultClass} ${this.props.className||""}`,delete e.defaultClass,delete e.recordingKey,this.props.onClick&&this.props.recordingKey&&(e.onClick=this.onClick),a.createElement("button",Object.assign({onKeyDown:this.onKeyDown},e),this.props.children)}}t.ButtonBase=u,u.displayName="ButtonBase";class m extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.primaryBtn},this.props))}}t.ButtonPrimary=m,m.displayName="ButtonPrimary",t.ButtonPrimaryTracked=l.asTrackedClickable(m);class g extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.primaryBtnBig},this.props))}}t.BigButtonPrimary=g,g.displayName="BigButtonPrimary",t.BigButtonPrimaryTracked=l.asTrackedClickable(g);class b extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.btn,type:"button"},this.props))}}t.ButtonSecondary=b,b.displayName="ButtonSecondary",t.ButtonSecondaryTracked=l.asTrackedClickable(b);class h extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.secondaryBtnBig,type:"button"},this.props))}}t.BigButtonSecondary=h,h.displayName="BigButtonSecondary",t.BigButtonSecondaryTracked=l.asTrackedClickable(h);class k extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.secondaryNegativeBtn,type:"button"},this.props))}}t.ButtonSecondaryNegative=k,k.displayName="ButtonSecondaryNegative",t.ButtonSecondaryNegativeTracked=l.asTrackedClickable(k);class y extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.negativeBtn,type:"button"},this.props))}}t.ButtonNegative=y,y.displayName="ButtonNegative",t.ButtonNegativeTracked=l.asTrackedClickable(y);class B extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.negativeBtnBig,type:"button"},this.props))}}t.BigButtonNegative=B,B.displayName="BigButtonNegative";class C extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.whiteBtn},this.props))}}t.ButtonWhite=C,C.displayName="ButtonWhite",t.ButtonWhiteTracked=l.asTrackedClickable(C);class N extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.greenBtn},this.props))}}t.ButtonGreen=N,N.displayName="ButtonGreen",t.ButtonGreenTracked=l.asTrackedClickable(N);class O extends a.Component{render(){return a.createElement(u,Object.assign({defaultClass:i.greenBtnBig},this.props))}}t.BigButtonGreen=O,O.displayName="BigButtonGreen",t.BigButtonGreenTracked=l.asTrackedClickable(O);class j extends a.Component{render(){const e=`${i.primaryBtn} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.ButtonLink=j,j.displayName="ButtonLink",t.ButtonLinkTracked=l.asTrackedClickable(j);class T extends a.Component{render(){const e=`${i.primaryBtnBig} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.BigButtonLink=T,T.displayName="ButtonLink",t.BigButtonLinkTracked=l.asTrackedClickable(T);class x extends a.Component{render(){const e=`${i.btn} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.ButtonSecondaryLink=x,x.displayName="ButtonSecondaryLink",t.ButtonSecondaryLinkTracked=l.asTrackedClickable(x);class E extends a.Component{render(){const e=`${i.btnBig} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.BigButtonSecondaryLink=E,E.displayName="BigButtonSecondaryLink",t.BigButtonSecondaryLinkTracked=l.asTrackedClickable(E);class v extends a.Component{render(){const e=`${i.textInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement(c.LazyInput,Object.assign({},t))}}t.TextInput=v,v.displayName="TextInput",t.TextInputTracked=l.asTrackedInput(v);class S extends a.PureComponent{render(){return a.createElement("input",Object.assign({},this.props))}}t.MockTextInput=S,S.displayName="MockTextInput";class f extends a.Component{render(){const e=`${i.bigTextInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement(c.LazyInput,Object.assign({},t))}}t.BigTextInput=f,f.displayName="BigTextInput";class w extends a.PureComponent{constructor(e){super(e),this.documentKeyDown=(e=>{e.keyCode===r.Key.TAB&&this.setState({showFocus:!0})}),this.documentMouseDown=(e=>{this.setState({showFocus:!1})}),this.onFocus=(e=>{this.state.showFocus||e.target.blur()}),this.classNameForInput=(()=>{let e=`${i.checkbox} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${i.checkboxShowFocus}`),e}),this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){const e=this.props.classOverride||this.classNameForInput(),t=Object.assign(Object.assign({},this.props),{className:e});return delete t.classOverride,a.createElement("input",Object.assign({type:"checkbox",onFocus:this.onFocus},t))}}t.Checkbox=w,w.displayName="Checkbox";class L extends a.Component{render(){const e=`${i.label} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement("label",Object.assign({},t))}}t.Label=L,L.displayName="Label";class $ extends a.Component{render(){const e=`${i.link} ${this.props.className||""}`,t=this.props,{canFocus:s}=t,r=n(t,["canFocus"]);let o=Object.assign(Object.assign({},r),{className:e,rel:"noopener"});return s&&(o=Object.assign({href:"#",tabIndex:0},o)),a.createElement("a",Object.assign({},o))}}t.Link=$,$.displayName="Link",t.LinkTracked=l.asTrackedClickable($);class I extends a.Component{render(){const e=`${i.inlineLink} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e,rel:"noopener"});return a.createElement("a",Object.assign({},t))}}t.LinkInline=I,I.displayName="Link",t.LinkInlineTracked=l.asTrackedClickable(I);class F extends a.Component{render(){const e=`${i.bigSelect} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return a.createElement("select",Object.assign({},t))}}t.BigSelect=F,F.displayName="BigSelect",t.Spacing=(e=>"x"===e.direction?a.createElement("div",{style:{width:8*e.multiple}},e.children):a.createElement("div",{style:{height:8*e.multiple}},e.children)),t.Spacing.displayName="Spacing",t.SvgTracked=l.asTrackedClickable(p.Svg),t.AnchorElementTracked=l.asTrackedClickable(e=>a.createElement("a",Object.assign({},e),e.children))}),
(function(n,i,t){n.exports={brand:"form_inputs--brand--nxF5w auth_branding--brand--3FsKf",input:"form_inputs--input--r-7Uo",invalidInput:"form_inputs--invalidInput--2tA0l"}}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(2,1    ),a=s(20                                 ),r=s(21                       ),i=s(37                                             ),u=s(38                 );class p extends n.PureComponent{render(){const t=`${u.input} ${u.brand} ${this.props.className||""}`,e=Object.assign(Object.assign({},this.props),{className:t});return n.createElement(i.TextInput,Object.assign({},e))}}e.AuthInput=p,p.displayName="AuthInput";class o extends n.PureComponent{render(){const t=`${this.props.isInvalid?u.invalidInput:""}`,e=Object.assign(Object.assign({},this.props),{className:t});return delete e.isInvalid,n.createElement(p,Object.assign({},e))}}e.AuthInvalidInput=o,o.displayName="AuthInvalidInput";class l extends n.PureComponent{constructor(){super(...arguments),this.onChange=(t=>{this.props.dispatch(a.auth.changeEmail({value:t.currentTarget.value}))}),this.onBlur=(t=>{this.props.dispatch(a.auth.spellcheckDomain()),this.props.onBlur&&this.props.onBlur(t,!0)})}render(){return n.createElement(o,{onChange:this.onChange,onBlur:this.onBlur,value:this.props.auth.email,name:r.AuthInputType.EMAIL,placeholder:"Email",autoCapitalize:"off",autoCorrect:"off",isInvalid:r.AuthInputType.EMAIL===this.props.auth.invalidInput})}}e.AuthEmailInput=l,l.displayName="AuthEmailInput"}),
(function(e,o,t){e.exports={link:"password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",leftAlign:"password_reset--leftAlign--1mUX_ modal--left--t5YdU password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",center:"password_reset--center--14KR9",buttonRow:"password_reset--buttonRow--3CoXM modal--buttonRow--23IOU",centeredLink:"password_reset--centeredLink--1z3Su auth_view--footerButtonRow--1r5Q6",button:"password_reset--button--1lVHA",modal:"password_reset--modal--1cSyJ",form:"password_reset--form--1jxmp password_reset--modal--1cSyJ",header:"password_reset--header--3N7bH"}}),
(function(n,o,r){n.exports={root:"loading_spinner--root--18y7u",svgContainer:"loading_spinner--svgContainer--20WMO",rotate:"loading_spinner--rotate--qgb8P",blueSpinner:"loading_spinner--blueSpinner--1UrbW loading_spinner--root--18y7u"}}),
(function(t,e,i){t.exports={src:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 1c-1.384 0-2.738.41-3.889 1.18-1.151.769-2.048 1.862-2.578 3.141-.53 1.28-.669 2.687-.398 4.045.27 1.357.936 2.605 1.915 3.584.98.979 2.227 1.645 3.584 1.916 1.358.27 2.766.131 4.045-.399 1.279-.53 2.372-1.427 3.141-2.578C14.59 10.738 15 9.384 15 8h1c0 1.582-.47 3.129-1.348 4.445-.88 1.315-2.129 2.34-3.59 2.946-1.462.606-3.07.764-4.623.455-1.552-.308-2.977-1.07-4.096-2.19-1.119-1.118-1.88-2.543-2.19-4.095C-.154 8.009.004 6.4.61 4.939c.605-1.462 1.63-2.712 2.946-3.59C4.871.468 6.418 0 8 0v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(l,c,t){l.exports={src:'<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15 1.438c-2.682 0-5.305.795-7.535 2.285-2.23 1.49-3.969 3.609-4.995 6.087l-.462-.191.462.19c-1.027 2.48-1.295 5.206-.772 7.837.523 2.63 1.815 5.047 3.712 6.944 1.897 1.897 4.313 3.189 6.944 3.712 2.631.523 5.358.255 7.836-.772 2.478-1.027 4.596-2.765 6.087-4.995 1.49-2.23 2.285-4.853 2.285-7.535h1c0 2.88-.854 5.696-2.454 8.09l-.416-.277.416.277c-1.6 2.395-3.874 4.262-6.535 5.364l-.192-.462.192.462c-2.661 1.102-5.59 1.39-8.414.829-2.825-.562-5.42-1.95-7.456-3.986-2.037-2.036-3.424-4.631-3.986-7.456l.49-.098-.49.098c-.562-2.825-.273-5.753.829-8.414 1.102-2.66 2.969-4.935 5.364-6.535C9.304 1.292 12.12.438 15 .438v1z" fill-rule="evenodd" fill-opacity="1" fill="#000" stroke="none"/></svg>'}}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=s(2,1    ),r=s(41                     ),t=s(36                         ),i=s(42                            ),p=s(43                                  );class l extends a.Component{render(){return a.createElement("span",{className:`${r.root} ${this.props.className||""}`},a.createElement(t.Svg,{svg:i,className:r.svgContainer}))}}n.LoadingSpinner=l,l.displayName="LoadingSpinner";class o extends a.PureComponent{render(){return a.createElement("span",{className:`${r.blueSpinner} ${this.props.className||""}`},a.createElement(t.Svg,{svg:p,className:r.svgContainer}))}}n.BlueLoadingSpinner=o,o.displayName="BlueLoadingSpinner"}),
(function(n,t,o){n.exports={input:"landing_form--input--1hsoX",button:"landing_form--button--y3eAl",textInput:"landing_form--textInput--2D81H landing_form--input--1hsoX",googleButton:"landing_form--googleButton--2VMWs auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",infoCaptureButton:"landing_form--infoCaptureButton--5J213 auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",googleButtonInner:"landing_form--googleButtonInner--3RQWE",googleIcon:"landing_form--googleIcon--3Q7rS"}}),
(function(t,e,u){t.exports={input:"auth_view--input--PalhP",fullWidth:"auth_view--fullWidth--3ydDr",wideButton:"auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",primaryWideButton:"auth_view--primaryWideButton--3NOmp auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",brandButtonBase:"auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",brandButton:"auth_view--brandButton--6mVyN auth_view--brandButtonBase--2XVjM auth_branding--brand--3FsKf",footer:"auth_view--footer--2y326",footerButtonRow:"auth_view--footerButtonRow--1r5Q6",centerText:"auth_view--centerText--21TLX",footerText:"auth_view--footerText--1PPnJ"}}),
(function(l,e,i){l.exports={src:'<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill-rule="evenodd" fill-opacity="1" fill="#4285f4" stroke="none"/><path d="M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z" fill-rule="evenodd" fill-opacity="1" fill="#34a853" stroke="none"/><path d="M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill-rule="evenodd" fill-opacity="1" fill="#fbbc05" stroke="none"/><path d="M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z" fill-rule="evenodd" fill-opacity="1" fill="#ea4335" stroke="none"/></svg>'}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(2,1    ),a=n(33                                       ),o=n(44                                         ),r=n(45                  ),l=n(46                                                  ),i=n(36                         ),c=n(32                                     ),p=n(47                                );class d extends s.Component{render(){const e=`${r.button} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return s.createElement("button",Object.assign({},t),this.props.children)}}t.Button=d,d.displayName="Button";class u extends s.Component{render(){return s.createElement(d,{type:"button",className:r.googleButton,onClick:this.props.onClick,"data-no-auto-focus":!0},s.createElement("div",{className:r.googleButtonInner},s.createElement(i.Svg,{className:r.googleIcon,svg:p,useOriginalSrcFills:!0}),this.props.text))}}t.GoogleAuthButton=u,u.displayName="GoogleAuthButton";class g extends s.Component{render(){const e=this.props.fullWidth?`${l.brandButton} ${l.fullWidth}`:l.brandButton,t=Object.assign(Object.assign({},this.props),{className:e});return delete t.loading,delete t.fullWidth,s.createElement("button",Object.assign({},t,{disabled:this.props.disabled||this.props.loading}),this.props.loading?s.createElement(o.LoadingSpinner,null):this.props.children)}}t.BrandButton=g,g.displayName="Button",g.defaultProps={fullWidth:!0},t.BrandButtonTracked=c.asTrackedClickable(g);class m extends s.Component{render(){return s.createElement(d,{type:"button",className:r.infoCaptureButton,onClick:this.props.onClick,"data-no-auto-focus":!0},this.props.children)}}t.BrandInfoCaptureButton=m,m.displayName="BrandInfoCaptureButton",t.BrandInfoCaptureButtonTracked=c.asTrackedClickable(m),t.BrandSpacer=(e=>s.createElement("div",{style:{height:8*(e.multiple||1)}},e.children));class h extends s.Component{render(){const e=`${r.textInput} ${this.props.className||""}`,t=Object.assign(Object.assign({},this.props),{className:e});return s.createElement(a.LazyInput,Object.assign({},t))}}t.TextInput=h,h.displayName="TextInput"}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(2,1    ),r=s(23         ),o=s(20                                 ),n=s(21                       ),i=s(26                                                        ),p=s(39                                                            ),l=s(37                                             ),u=s(21                       ),m=s(40                    ),h=s(48                                                 );class d extends a.PureComponent{constructor(){super(...arguments),this.onSubmit=(()=>this.props.dispatch(o.auth.sendPasswordReset())),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){return a.createElement(i.AuthForm,Object.assign({},this.props,{header:"Enter your email to reset password",onSubmit:this.onSubmit}),a.createElement(p.AuthEmailInput,Object.assign({},this.props)),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(h.BrandButton,{loading:this.props.auth.loading,disabled:!r.isEmail(this.props.auth.email)},"Reset password"),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement("div",{className:m.centeredLink},a.createElement(l.LinkInline,{onClick:this.onBack},"Cancel")))}}t.ForgotPasswordForm=d,d.displayName="ForgotPasswordForm";class c extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){const e=this.props.modal?m.modal:m.form;return a.createElement("div",{className:e},a.createElement("div",{className:m.header},"If an account exists for ",this.props.auth.email,", you will get an email with instructions on resetting your password. If it doesn't arrive, be sure to check your spam folder."),a.createElement("div",{className:m.buttonRow},a.createElement(l.Link,{onClick:this.onBack,className:m.link},"Back to Log in")))}}t.SentPasswordReset=c,c.displayName="SentPasswordReset";class f extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(o.auth.showForm({formState:n.AuthFormState.SIGN_IN})))}render(){return a.createElement(i.AuthForm,Object.assign({header:"Choose a new password",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),this.props.auth.emailToken&&a.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),a.createElement(p.AuthInvalidInput,{name:u.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",isInvalid:u.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement(h.BrandSpacer,{multiple:3}),a.createElement(p.AuthInvalidInput,{name:"password_retype",type:"password",placeholder:"Confirm password",autoCapitalize:"off",autoCorrect:"off",isInvalid:u.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(h.BrandButton,{loading:this.props.auth.loading},"Submit"),a.createElement(h.BrandSpacer,{multiple:4}),a.createElement(l.LinkInline,{onClick:this.onBack,className:m.center},"Back to Log in"))}}t.ResetPasswordForm=f,f.displayName="ResetPasswordForm";class S extends a.Component{render(){return this.props.isSignup?a.createElement(l.ButtonGreen,{className:m.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children):a.createElement(l.ButtonPrimary,{className:m.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children)}}t.AuthButton=S,S.displayName="AuthButton"}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ERROR=1]="ERROR"}(e.FlashStatus||(e.FlashStatus={}))}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=n(50               );var u=0;!function(t){t.INIT="FLASH_INIT",t.ADD="FLASH_ADD",t.REMOVE="FLASH_REMOVE",t.REMOVE_ALL="FLASH_REMOVE_ALL",t.TIMEOUT=3e3,t.TIMEOUT_SERVER_SIDE=6e3,t.init=function(){return{type:t.INIT}},t.flash=function(e,n){return{type:t.ADD,payload:{message:e,status:a.FlashStatus.DEFAULT,timeout:n,id:u++}}},t.error=function(e,n){return{type:t.ADD,payload:{message:e,status:a.FlashStatus.ERROR,timeout:n,id:u++}}},t.remove=function(e){return{type:t.REMOVE,payload:{id:e}}},t.removeAll=function(){return{type:t.REMOVE_ALL,payload:null}}}(e.flash||(e.flash={}))}),
(function(o,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=n(51                                   ),i=n(18            ),r=n(11      ),s=n(15           ),a=n(5            );function l(o){return i.isIosMirrorApp()?i.getIosAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest iOS app to authenticate with Google")}):new Promise((o,e)=>{window.FigmaMobile._sso_login_func=((n,t)=>{t?o({name:n,token:t,source:"mobile"}):e("Unable to get profile information from Google")}),window.FigmaMobile.startGoogleSSO()}):i.isAndroidMirrorApp()?i.getAndroidAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest Android app to authenticate with Google")}):new Promise((o,e)=>{window._sso_login_func=((n,t)=>{t?o({name:n,token:t,source:"mobile"}):e("Unable to get profile information from Google")}),window.location.href="/mirror-sso"}):new Promise((o,n)=>{document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let t=s.unsafeWindowOpen("/start_google_sso","","width=600,height=600");null!==t?window.setTimeout(function i(){const r=a.parseCookieForKey(document.cookie,e.COOKIE);if(null!==r){const t=JSON.parse(r);document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",t.token?(t.source="web",o(t)):n("Unable to get profile information from Google")}else t.closed?n("Unable to get profile information from Google"):window.setTimeout(i,250)},250):n("Unable to get profile information from Google")})}function g(o,e){return new Promise((n,i)=>{l().then(s=>{(function(o,e){const n={name:e.name,id_token:e.token,source:e.source};return r.default.post(o,n)})(e,s).then(({data:e})=>{o(t.flash.flash("Authenticated as "+e.meta.email)),n()},({data:o})=>{i(o.message||"Unable to authenticate")})},o=>{i(o)})})}window._sso_login_func=((o,e)=>{}),e.COOKIE="google_sso_temp",e.getGoogleUser=l,e.doGoogleLoginOrSignup=function(o){return g(o,"/api/session/google_auth/signin_or_signup")},e.doGoogleLogin=function(o){return g(o,"/api/session/google_auth/signin")}}),
(function(n,i,_){n.exports={brand:"sign_in_and_up--brand--cAvop auth_branding--brand--3FsKf",orBlock:"sign_in_and_up--orBlock--3kqvy",domainSuggestion:"sign_in_and_up--domainSuggestion--1tnLa",error:"sign_in_and_up--error--3e3qg auth_form--error--2I51G",brandError:"sign_in_and_up--brandError--38l7Z",wideButton:"sign_in_and_up--wideButton--IYcsb auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",primaryWideButton:"sign_in_and_up--primaryWideButton--15okP auth_view--primaryWideButton--3NOmp auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",footer:"sign_in_and_up--footer--sCgNV auth_view--footer--2y326",footerButtonRow:"sign_in_and_up--footerButtonRow--1L1a9 auth_view--footerButtonRow--1r5Q6",link:"sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",forgotPassword:"sign_in_and_up--forgotPassword--m0ebi sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",footerRow:"sign_in_and_up--footerRow--pB9-z auth_view--footerButtonRow--1r5Q6",signInWithSaml:"sign_in_and_up--signInWithSaml--1vztF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signUpWithSaml:"sign_in_and_up--signUpWithSaml--22Lub sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signInWithPassword:"sign_in_and_up--signInWithPassword---d3uW sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",switchFormText:"sign_in_and_up--switchFormText--aon-9 auth_view--footerText--1PPnJ",switchFormLink:"sign_in_and_up--switchFormLink--uuDAF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",centerText:"sign_in_and_up--centerText--2y7mR auth_view--centerText--21TLX",openExternallyIcon:"sign_in_and_up--openExternallyIcon--1-frt sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56"}}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(2,1    ),a=o(52              ),r=o(23         ),n=o(21                       ),i=o(20                                 ),p=o(26                                                        ),h=o(39                                                            ),l=o(48                                                 ),u=o(53                    ),m=o(37                                             );class c extends s.PureComponent{constructor(){super(...arguments),this.handleGoogleError=(t=>{this.props.dispatch(i.auth.showError({message:t}))}),this.onGoogleSignup=(()=>{a.getGoogleUser(this.props.dispatch).then(this.googleAuthSignup,t=>{this.handleGoogleError(t)})}),this.googleAuthSignup=(t=>{this.props.setAuthFormsState({password:null}),this.props.dispatch(i.auth.setGoogleIdToken({googleIdToken:t.token})),this.props.dispatch(i.auth.changeName({value:t.name})),this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_UP_EXTRA_INFO}))})}render(){return s.createElement(S,Object.assign({onGoogleAuth:this.onGoogleSignup,googleText:"Sign up with Google",submitText:"Create account",usesSignInFooter:!0},this.props))}}e.SignUpForm=c,c.displayName="SignUpForm";class g extends s.PureComponent{constructor(){super(...arguments),this.onGoogleLogin=(()=>{a.doGoogleLogin(this.props.dispatch).then(()=>{this.props.dispatch(i.auth.complete())},t=>{this.handleGoogleError(t)})}),this.handleGoogleError=(t=>{this.props.dispatch(i.auth.showError({message:t}))})}render(){return s.createElement(S,Object.assign({onGoogleAuth:this.onGoogleLogin,googleText:"Log in with Google",submitText:"Log in",usesSignInFooter:!1},this.props))}}e.SignInForm=g,g.displayName="SignInForm";class d extends s.PureComponent{render(){const t=this.props.usesSignInFooter?"Already have an account?":"No account?",e=this.props.usesSignInFooter?"Log in":"Create one",o=this.props.usesSignInFooter?"Sign up with SAML SSO":"Log in with SAML SSO";return s.createElement("div",{className:u.footer},s.createElement("div",{className:u.footerButtonRow},s.createElement(m.LinkInline,{className:this.props.usesSignInFooter?u.signInWithSaml:u.signUpWithSaml,onClick:this.props.onSwitchToSaml},o)),this.props.onForgotPassword&&s.createElement(s.Fragment,null,s.createElement(l.BrandSpacer,{multiple:2}),s.createElement("div",{className:u.footerRow},s.createElement("a",{onClick:this.props.onForgotPassword,tabIndex:-1,className:u.forgotPassword},"Forgot password?"))),s.createElement(l.BrandSpacer,{multiple:2}),s.createElement("div",{className:u.footerRow},s.createElement("div",{className:u.switchFormText},t,s.createElement("a",{tabIndex:-1,className:u.switchFormLink,onClick:this.props.onChangeFormClick},e))))}}e.EmailPasswordFooter=d,d.displayName="EmailPasswordFooter";class S extends s.PureComponent{constructor(){super(...arguments),this.state={password:""},this.onClickDomainSuggestion=(()=>this.props.dispatch(i.auth.useDomainSuggestion())),this.onChangePassword=(t=>{this.setState({password:t.currentTarget.value}),this.props.dispatch(i.auth.setGoogleIdToken({googleIdToken:null})),this.props.dispatch(i.auth.changePasswordLength({value:t.currentTarget.value.length}))}),this.onForgotPassword=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.FORGOT_PASSWORD}))}),this.onClickSignup=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_UP}))}),this.onClickSignin=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_IN}))}),this.onClickSaml=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SAML_START}))})}UNSAFE_componentWillReceiveProps(t){this.props.auth.loading&&!t.auth.loading&&t.auth.errorType===n.ErrorType.UNAUTHORIZED&&(this.setState({password:""}),this.props.dispatch(i.auth.setGoogleIdToken({googleIdToken:null})))}render(){const t=this.props.auth.invalidInput===n.AuthInputType.EMAIL||this.props.auth.invalidInput===n.AuthInputType.PASSWORD;return s.createElement(p.AuthForm,Object.assign({className:u.centerText,largeHeader:!0,hideError:t,onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(l.GoogleAuthButton,{text:this.props.googleText,onClick:this.props.onGoogleAuth}),s.createElement("span",{className:u.orBlock},"or"),s.createElement(h.AuthEmailInput,Object.assign({},this.props)),this.props.auth.invalidInput===n.AuthInputType.EMAIL&&this.props.auth.error&&s.createElement("div",{className:u.brandError},this.props.auth.error),s.createElement(l.BrandSpacer,{multiple:3}),this.props.auth.domainSuggestion&&s.createElement("div",{className:u.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:u.link},this.props.auth.domainSuggestion),"?"),s.createElement(h.AuthInvalidInput,{name:n.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",value:this.state.password,onChange:this.onChangePassword,onBlur:this.props.onBlur,isInvalid:this.props.auth.invalidInput===n.AuthInputType.PASSWORD}),this.props.auth.invalidInput===n.AuthInputType.PASSWORD&&this.props.auth.error&&s.createElement("div",{className:u.brandError},this.props.auth.error),s.createElement(l.BrandSpacer,{multiple:4}),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(l.BrandButton,{type:"submit",className:this.props.usesSignInFooter?u.wideButton:u.primaryWideButton,loading:this.props.auth.loading},this.props.submitText),s.createElement(l.BrandSpacer,{multiple:4}),this.props.usesSignInFooter?s.createElement(d,{onChangeFormClick:this.onClickSignin,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}):s.createElement(d,{onChangeFormClick:this.onClickSignup,onForgotPassword:this.onForgotPassword,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}))}}S.displayName="EmailPasswordSSOForm";class E extends s.PureComponent{constructor(){super(...arguments),this.onClickDomainSuggestion=(()=>this.props.dispatch(i.auth.useDomainSuggestion())),this.onClickUserPass=(()=>{this.props.dispatch(i.auth.showForm({formState:n.AuthFormState.SIGN_IN}))})}render(){return s.createElement(p.AuthForm,Object.assign({},this.props,{header:"Log in to Figma with SAML SSO",onSubmit:this.props.onFormSubmit(this.props.id)}),s.createElement(h.AuthEmailInput,Object.assign({},this.props)),this.props.auth.domainSuggestion&&s.createElement("div",{className:u.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:u.link},this.props.auth.domainSuggestion),"?"),s.createElement(l.BrandSpacer,{multiple:4}),s.createElement(l.BrandButton,{type:"submit",className:u.primaryWideButton,loading:this.props.auth.loading,disabled:!r.isEmail(this.props.auth.email)},"Log in"),s.createElement(l.BrandSpacer,{multiple:4}),s.createElement("div",{className:u.footer},s.createElement("div",{className:u.footerButtonRow},s.createElement(m.LinkInline,{onClick:this.onClickUserPass,className:u.signInWithPassword},"Log in with Google or a password"))))}}e.SamlStartForm=E,E.displayName="SamlStartForm"}),
(function(t,o,r){t.exports={input:"two_factor--input--XUk8H auth_view--input--PalhP",wideButton:"two_factor--wideButton--J8y48 auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",footer:"two_factor--footer--3bC83 auth_view--footer--2y326",footerButtonRow:"two_factor--footerButtonRow--qEHnV auth_view--footerButtonRow--1r5Q6",goBack:"two_factor--goBack--229Hp",twoFactorText:"two_factor--twoFactorText--1TmP8",brand:"two_factor--brand--1-eiO"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),n=a(20                                 ),r=a(21                       ),o=a(39                                                            ),i=a(26                                                        ),h=a(48                                                 ),p=a(55                );class u extends s.PureComponent{constructor(){super(...arguments),this.state={smsSent:!1,twoFactorCode:null},this.sendSMS=(()=>{this.props.dispatch(n.auth.sendSMS({formId:this.props.id})),this.setState({smsSent:!0})}),this.goBack=(()=>{this.props.dispatch(n.auth.requireTwoFactor({required:!1}))}),this.onChange=(e=>{const t=e.target.value;this.setState({twoFactorCode:t})})}render(){return s.createElement(i.AuthForm,Object.assign({header:this.props.header||"Please enter your authentication code or recovery code",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(o.AuthInvalidInput,{onBlur:this.props.onBlur,onChange:this.onChange,value:this.state.twoFactorCode||"",name:r.AuthInputType.TOTP_KEY,autoComplete:"off",placeholder:"Authentication Code",isInvalid:this.props.auth.invalidInput===r.AuthInputType.TOTP_KEY}),s.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email}),s.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),s.createElement("input",{type:"hidden",name:"password_retype",value:this.props.password||""}),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(h.BrandButton,{type:"submit",loading:this.props.auth.loading,className:p.wideButton},"Log in"),s.createElement(h.BrandSpacer,{multiple:4}),this.props.auth.smsOkay&&!this.state.smsSent&&s.createElement(s.Fragment,null,s.createElement("a",{className:`${p.twoFactorText} ${p.brand}`,onClick:this.sendSMS},`${this.props.auth.hint?"Resend":"Send"} SMS code`),s.createElement(h.BrandSpacer,{multiple:2})),s.createElement("a",{onClick:this.goBack,className:`${p.goBack} ${p.brand}`},"Back"))}}t.TwoFactorForm=u,u.displayName="TwoFactorForm"}),
(function(E,e,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceType={FILE:"file",FOLDER:"folder",TEAM:"team"},function(E){E[E.NONE=-1]="NONE",E[E.VIEW_PROTOTYPES=30]="VIEW_PROTOTYPES",E[E.VIEW_METADATA=50]="VIEW_METADATA",E[E.VIEWER=100]="VIEWER",E[E.EDITOR=300]="EDITOR",E[E.ADMIN=900]="ADMIN",E[E.OWNER=999]="OWNER"}(e.PermissionLevel||(e.PermissionLevel={}))}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTeamParentOrgId=function(e,t){const r=t.teams[e];if(r&&r.org_id)return r.org_id}}),
(function(E,T,e){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(E){E[E.NAME=0]="NAME",E[E.CREATED_AT=1]="CREATED_AT",E[E.TOUCHED_AT=2]="TOUCHED_AT",E[E.TRASHED_AT=3]="TRASHED_AT",E[E.SEARCH_RELEVANCE=4]="SEARCH_RELEVANCE",E[E.PROJECT_NAME=5]="PROJECT_NAME",E[E.ACCESSED_AT=6]="ACCESSED_AT"}(T.TileSortKey||(T.TileSortKey={})),function(E){E[E.ASC=0]="ASC",E[E.DESC=1]="DESC"}(T.TileSortDir||(T.TileSortDir={})),function(E){E[E.ANY=0]="ANY",E[E.SELF=1]="SELF",E[E.OTHER=2]="OTHER"}(T.TileFilterCreator||(T.TileFilterCreator={})),function(E){E[E.LIST=0]="LIST",E[E.GRID=1]="GRID"}(T.TileViewMode||(T.TileViewMode={}))}),
(function(e,i,n){"use strict";var t;Object.defineProperty(i,"__esModule",{value:!0}),i.SignInMethod={ANY:"any",GOOGLE:"google",SAML:"saml"},i.OrgStanding={AUTO:"AUTO",GOOD:"GOOD",DELINQUENT:"DELINQUENT",SUSPENDED:"SUSPENDED"},function(e){e.DISABLED="disabled",e.QUARTERLY="quarterly",e.CHARGE_IMMEDIATELY="quarterly_auto_charge"}(t=i.OrgBillingType||(i.OrgBillingType={})),i.OrgBillingTypeName={[t.DISABLED]:"Invoiced - Paused",[t.QUARTERLY]:"Invoiced",[t.CHARGE_IMMEDIATELY]:"Charge Immediately"},function(e){e.Initial="Initial",e.TeamSelect="TeamSelect",e.Details="Details",e.Payment="Payment",e.Review="Review",e.Confirmation="Confirmation",e.Error="Error"}(i.SelfServeSteps||(i.SelfServeSteps={}))}),
(function(e,_,t){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.Restrictions={LOCKED:"locked",EDITORS_LIMITED:"editors_limited",PROJECTS_LIMITED:"projects_limited",EDITORS_AND_PROJECTS_LIMITED:"editors_limited,projects_limited"},_.Subscription={OK:"ok",PAST_DUE:"past_due",CHARGE_FAILED:"grace_period",NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED:"no_monthly_sub_editor_count_exceeded"},_.OrgAccess={PUBLIC:"public",PRIVATE:"private",SECRET:"secret"}}),
(function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStudent=(e=>!!e.student_validated_at)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrgUserAccountType={FULL:"full",RESTRICTED:"restricted",STARTER:"starter"},r.OrgUserAccountTypeDisplayText={[r.OrgUserAccountType.FULL]:"Editor",[r.OrgUserAccountType.STARTER]:"Viewer",[r.OrgUserAccountType.RESTRICTED]:"Viewer"},r.OrgUserAccountTypeExtendedText={[r.OrgUserAccountType.FULL]:"Editor",[r.OrgUserAccountType.STARTER]:"Viewer",[r.OrgUserAccountType.RESTRICTED]:"Viewer - Restricted"},r.OrgPermissionType={GUEST:"guest",MEMBER:"member",ADMIN:"admin"},r.OrgPermissionTypeDisplayText={guest:"Guest",member:"Member",admin:"Admin"},function(e){e[e.GUEST=0]="GUEST",e[e.MEMBER=2]="MEMBER",e[e.ADMIN=3]="ADMIN"}(r.OrgUserPermissionLevel||(r.OrgUserPermissionLevel={}))}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ExperimentToTreatments=class{constructor(){this.exp_welcome_sequence_02=["control","variant"],this.exp_cart=["control","variant"],this.exp_new_team_create_01=["control","pointer","inline"],this.exp_pro_trials_v2=["control","variant"],this.exp_comments_default_viewers_v2=["control_1","control_2","variant"],this.exp_remote_work_templates_v1=["control","variant"],this.exp_email_domain_aa_v1=["control1","control2"]}}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2,1    ),i=r(5            ),s=r(13           ),a=r(1                          ),o=r(64                                    ),l=r(18            );class c{constructor(e){this.trackedSeedsByExperiment={},this.trackExperimentSeedForSession=((e,t,r)=>{const n=this.trackedSeedsByExperiment[e]||[];n.indexOf(r)>-1||(this.reportingHandler(e,t,r),n.push(r),this.trackedSeedsByExperiment[e]=n)}),this.reportingHandler=e}}t.ExperimentTracker=c;const m=new c((e,r,n)=>{const i=t.checkExperimentOverrides();i&&i[e]||s.segmentTrackEvent("set_experiment_treatment",{experimentId:e,treatmentId:r,seed:n.toString()})});class d{constructor(e,t,r,n,i){this.treatmentToValue=new Map,this.trackingEnabled=!1,this.mobileEnabled=!1,this.reportOnce=((e,t)=>{t&&void 0!==e&&this.report(this.experimentId,t,e)}),this.experimentId=e,this.defaultValue=t,this.report=r,this.seed=n,this.allExperiments=i}}class p{constructor(e,t,r,n,i){this.state=new d(e,t,r,n,i)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}build(){const e=this.state.reportOnce,t=this.state.experimentId,r=this.state.defaultValue,i=this.state.seed,s=this.state.allExperiments,a=this.state.treatmentToValue,o=this.state.mobileEnabled;return class extends n.Component{experimentSeed(){return this.props.experimentSeed||i}treatment(){return x(t,this.experimentSeed(),s,o)}componentDidMount(){e(this.experimentSeed(),this.treatment())}render(){let e=r;const t=this.treatment();if(t){const r=a.get(t);r&&(e=r)}return n.createElement(e,Object.assign({},this.props))}}}}class u{constructor(e,t,r,n,i){this.state=new d(e,t,r,n,i),this.state.trackingEnabled=!1}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}get(){const e=x(this.state.experimentId,this.state.seed,this.state.allExperiments,this.state.mobileEnabled);return e&&(this.state.reportOnce(this.state.seed,e),this.state.treatmentToValue.has(e))?this.state.treatmentToValue.get(e):this.state.defaultValue}}t.experiment=function(e,t=_(),r=m.trackExperimentSeedForSession,n=new o.ExperimentToTreatments){return{defaultComponentClass:function(i){return new p(e,i,r,t,n)},defaultValue:function(i){return new u(e,i,r,t,n)}}},t.LOCAL_EXPERIMENTS_SEED="experiment_seed",t.LOCAL_EXPERIMENTS_OVERRIDE="local_experiments";const h=["gmail.com","mail.ru","hotmail.com","yandex.ru","qq.com"];t.getUserSeedFromEmailDomainIfPresent=function(){var e;const t=a.initialOptions().user_data,r=null===(e=null==t?void 0:t.email)||void 0===e?void 0:e.split("@")[1];return h.indexOf(r)>-1?null==t?void 0:t.experiment_seed:r?I(r):void 0};const E=[13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163];function x(e,r=_(),n=new o.ExperimentToTreatments,i=!1){const s=t.checkExperimentOverrides();if(s&&s[e])return s[e];if(!a.getFeatureFlags()[e])return;if(!i&&l.isMobileBrowserGetter())return;if(void 0===r)return;const c=n[e];if(!c)return;let m="string"==typeof r?parseInt(r,10):r;if(isNaN(m))return;var d;m>1e8&&(m=Math.floor(m/1e5));return c[67*(m%=(d=e.length,E[d%E.length]))%12345%c.length]}t.pickTreatment=x;const f=e=>btoa(JSON.stringify(e)),O=e=>JSON.parse(atob(e));function g(e){const r=i.getCookieOrLocalOrMemoryStorage();if(r)try{let i={};const s=r.get(t.LOCAL_EXPERIMENTS_OVERRIDE);return s&&(i=O(s)),i=e(i),r.set(t.LOCAL_EXPERIMENTS_OVERRIDE,f(i)),i}catch(n){return void console.error(`Failed to perform action ${e.name}`,n)}}const S=(e,t)=>g(r=>(r[e]=t,s.trackEvent("Set Experiment Override",{experimentId:e,treatmentId:t}),r)),b=e=>g(t=>(delete t[e],t)),v=()=>g(e=>({}));function _(e=function(){const e=a.initialOptions().user_data;if(e)return e.experiment_seed}()){if(e)return e;const r=encodeURIComponent(t.LOCAL_EXPERIMENTS_SEED),n=i.getCookieOrLocalOrMemoryStorage();try{const e=n.get(r);if(e){const t=parseInt(e,10);if(!isNaN(t))return t}}catch(o){return void console.error("Failed to read local experiment seed.",o)}const s=Math.floor(1e6*Math.random());try{n.set(r,s)}catch(o){return void console.error("Failed to write local experiment seed",o)}return s}function I(e){const t=e.toUpperCase().match(/[A-Z0-9]+/g),r=null==t?void 0:t.join("").match(/.{1,5}/g);if(r)return r.map(e=>parseInt(e,36)).reduce((e,t)=>e^t)}t.checkExperimentOverrides=(()=>g(e=>e)),window&&(window.experimentTools={checkExperimentOverrides:t.checkExperimentOverrides,setExperimentOverride:S,clearExperimentOverride:b,clearAllExperimentOverrides:v}),t.getLocalExperimentSeed=_,window.localSeed=_,t.asExperimentSeed=I}),
(function(e,r,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=i(43,1         ),a=i(70                         ),o=i(57                      ),s=i(67                     ),n=i(60                     ),d=i(61                      ),l=i(62           ),c=i(46,1    ),_=i(51                                   ),u=i(63                         ),m=i(65                                );function p(e,i){const t=Object.assign(Object.assign({},a.mapReduxStateToTeamPermissionsProps(e,i)),{selectedView:e.selectedView,isProTrialAvailableToStart:!1,isProTrialActive:!1,isProTrialExpired:!1,proTrialEndMoment:null,proTrialDuration:null});if(!t.team||t.team.org_id)return t;const s=t.teamPermissionLevel>=o.PermissionLevel.EDITOR&&!t.team.trial_period_end&&!t.team.subscription;return t.isProTrialAvailableToStart=s&&m.experiment("exp_pro_trials_v2",t.team.id).defaultValue(!1).treatment("variant",!0).get(),t.team.trial_period_end&&(t.team.trial_period_end===r.TRIAL_DOWNGRADED_CANARY?(t.isProTrialActive=!1,t.isProTrialExpired=!1):(t.proTrialEndMoment=c.utc(t.team.trial_period_end),t.proTrialDuration=c.duration(t.proTrialEndMoment.diff(c.utc())),t.isProTrialActive=t.proTrialDuration.asMilliseconds()>0,t.isProTrialExpired=!t.isProTrialActive)),t}r.MAX_FREE_EDITORS=2,r.MAX_FREE_FOLDERS=3,r.FREE_VERSION_HISTORY_MAX_DAYS=30,r.MAX_ANNUAL_SUBSCRIPTIONS=500,r.MAX_DISABLED_VERSIONS=5,r.MONTHLY_EDITOR_COST=1500,r.ANNUAL_EDITOR_COST=1200,r.ANNUAL_ORGANIZATION_MEMBER_COST=4500,r.TRIAL_DOWNGRADED_CANARY="2012-10-01T00:00:00.000Z",r.isProTrialAvailableToStart=(e=>{return e&&!e.org_id&&!e.trial_period_end&&!e.subscription&&m.experiment("exp_pro_trials_v2",e.id).defaultValue(!1).treatment("variant",!0).get()}),r.isProTrialActive=(e=>{if(e&&e.trial_period_end&&!e.org_id){return c.utc(e.trial_period_end).valueOf()>Date.now()}return!1}),r.isProTrialExpired=(e=>{if(e&&e.trial_period_end&&e.trial_period_end!==r.TRIAL_DOWNGRADED_CANARY&&!e.org_id){return c.utc(e.trial_period_end).valueOf()<=Date.now()}return!1}),r.earliestTrialTeam=(e=>{let r=void 0,i=void 0,t=c.utc();for(let a of e){const e=a.trial_period_end;e&&c.utc(e)>t&&(void 0===r||c.utc(e)<r)&&(i=a,r=c.utc(e))}return i}),r.isMemberOfDomainCaptureOrg=(e=>{const{user:r,orgById:i,orgUsersByOrgId:t}=e;if(!r)return!1;for(const a of Object.values(i)){const e=t.orgUsers[a.id][r.id];if(a.domain_capture&&e&&e.permission!==u.OrgPermissionType.GUEST)return!0}return!1}),r.isTeamPro=(e=>null!=e.subscription),r.canShowUpgradeLinkFromStarter=((e,i)=>e&&(!r.isTeamPro(e)||r.isProTrialActive(e)||r.isProTrialExpired(e))&&e.restrictions!==d.Restrictions.LOCKED&&a.canEditTeam(e.id,i)),r.isFileEditingLockedForUser=((e,i)=>{if(e.team_id&&r.isTeamLockedForUser(e.team_id,i))return!0;const t=e.folder_id&&i.folders[e.folder_id];return!!t&&r.isFolderEditingLockedForUser(t,i)}),r.isFolderEditingLockedForUser=((e,i)=>{if(!e.team_id&&!s.isADraftsFolder(i.folders,e.id))return!0;if(e.team_id){if(r.isTeamLockedForUser(e.team_id,i))return!0;if(!r.canAccessProFeature(i.teams[e.team_id])&&(e.is_invite_only||e.is_view_only))return!0}return!1}),r.isTeamLockedForUser=((e,r)=>{const i=r.teams[e],t=r.user;return!!i&&(!!t&&(i.student_team?!l.isStudent(t):i.restrictions===d.Restrictions.LOCKED))}),r.isTeamAtFolderLimit=((e,r)=>{const i=r.teams[e];return i&&(i.restrictions===d.Restrictions.PROJECTS_LIMITED||i.restrictions===d.Restrictions.EDITORS_AND_PROJECTS_LIMITED)}),r.isOrgDelinquent=((e,r)=>{const i=r.orgById[e];return i&&i.standing===n.OrgStanding.DELINQUENT}),r.isOrgSuspended=((e,r)=>{const i=r.orgById[e];return i&&i.standing===n.OrgStanding.SUSPENDED}),r.shouldRestrictProFeature=(e=>!r.canAccessProFeature(e)),r.canAccessProFeature=(e=>!!e&&(r.isTeamPro(e)||e.student_team)),r.getLocale=(()=>{if(navigator){const e=navigator.languages;if(e&&e[0])return e[0];const r=navigator.language;if(r)return r}return"en-US"}),r.formatMoney=((e,i,t,a)=>{t=t||r.getLocale();const o={currency:a=a||"USD",style:"currency"};return i&&(o.minimumFractionDigits=0),(.01*Number(e)).toLocaleString(t,o)}),r.mapReduxStateToHasProTrialProps=p,r.connectToProTeamTrials=t.connect(p),r.contactSupportFlash=((e,r)=>{let i="An unknown error occurred. Please contact support for assistance.";e&&e.data&&e.data.message&&(i=e.data.message),r(_.flash.error(i))})}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(57                      ),i=r(70                         ),o=r(58                   ),l=r(59                                 ),a=r(66                      );function d(e){return!!e.team_id}function s(e){return e&&e.name||"Drafts"}function m(e,t,r){const i=r.byFolderId[e.id],o=(i?Object.keys(i).map(e=>i[e]):[]).find(e=>e.level===n.PermissionLevel.OWNER);return{folderId:e.id,folderName:s(e),teamName:e.team_id&&t[e.team_id]?t[e.team_id].name:"",ownerHandle:o&&!1===o.pending?o.user.handle:""}}function u(e){return e.settings&&e.settings.webhooks&&e.settings.webhooks[Object.keys(e.settings.webhooks)[0]]}t.isTeamFolder=d,t.getFolderTeamId=function(e){return e.team_id},t.isADraftsFolder=function(e,t){let r=e[t];return r&&""===r.path&&!d(r)},t.getUserDraftsFolderOrNull=function(e,t,r,i,o){if(null==i)return null;const l=i&&t&&o[t]&&o[t][i.id];if(l)return e[l.drafts_folder_id]||null;for(let a in e){let t=e[a],o=r.byFolderId[a],l=o?o[i.id]:null;if(!d(t)&&""===t.path&&null==t.org_id&&l&&l.level===n.PermissionLevel.OWNER)return t}return null},t.isOrphanedOrgFolder=function(e,t){let r=e[t];return!d(r)&&""!==r.path&&!!r.org_id},t.getFolderName=s,t.getFolderNameDisambiguator=function(e,t,r,n){t=t.filter(t=>t.id!==e.id);const i=m(e,r,n),o=t.map(e=>m(e,r,n)).filter(e=>e.folderName===i.folderName);if(0===o.length)return;const l=o.filter(e=>e.teamName===i.teamName);if(i.teamName&&0===l.length)return i.teamName;const a=l.filter(e=>e.ownerHandle===i.ownerHandle);return i.ownerHandle&&0===a.length?i.ownerHandle:void 0},t.getWebhookUrl=function(e){return`/slack/folder_webhook/${e.id}`},t.getSlackChannelName=function(e){let t=u(e);return t&&t.incoming_webhook&&t.incoming_webhook.channel},t.getSlackTeamName=function(e){let t=u(e);return t&&t.team_name},t.getLastUpdatedTime=function(e,t,r){return t[e.id].filter(e=>e in r).map(e=>new Date(r[e].touched_at)).reduce((e,t)=>e>t?e:t,new Date(e.updated_at))},t.canAccessFolder=function(e,t){return null!=t&&t in e},t.isFolderEmpty=function(e,t){return t.fileKeysByFolderId[e]&&0===t.fileKeysByFolderId[e].length},t.getFolderParentOrgId=function(e,t){const r=t.folders[e];return r&&r.org_id?r.org_id:r&&r.team_id?o.getTeamParentOrgId(r.team_id,t):void 0},t.folderProps=function(e,t,r,n,o,l){const d=t[e],s=n[e]||[],m=o[e]||{},u=!!d.team_id&&i.canAdminTeam(d.team_id,l)&&!i.isFolderOwned(e,l);return Object.assign(Object.assign({},d),{files:s.map(e=>r[e]).filter(Boolean).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime()),pinnedFiles:Object.keys(m).map(e=>Object.assign(Object.assign({},r[e]),{pinned_by_user_name:m[e]})),canEdit:i.canEditFolder(d.id,l),canClaim:u,canView:i.canViewFolder(d.id,l),isEditingLocked:a.isFolderEditingLockedForUser(d,l),team:d.team_id&&l.teams[d.team_id]||null})};const c={filters:{creator:l.TileFilterCreator.ANY},sort:{key:l.TileSortKey.TOUCHED_AT,dir:l.TileSortDir.DESC}};t.folderSortFilterOptions=function(e,t){return{srcTileSortFilterConfig:{filters:{creator:l.TileFilterCreator.ANY},sort:{key:l.TileSortKey.TOUCHED_AT,dir:l.TileSortDir.DESC}},tileSortFilterConfig:t.folders.byId[e]||c,sortKeys:[l.TileSortKey.NAME,l.TileSortKey.CREATED_AT,l.TileSortKey.TOUCHED_AT]}}}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.LinkAccess={EDIT:"edit",VIEW:"view",ORG_EDIT:"org_edit",ORG_VIEW:"org_view",INHERIT:"inherit"},i.ProtoLinkAccess={VIEW:"view",ORG_VIEW:"org_view",INHERIT:"inherit",NULL:null}}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoizeLast=function(e){let t=null;return function(...r){if(null!=t&&t.args.length===r.length){let e=!0;for(let l=0,n=r.length;l<n;l++)if(r[l]!=t.args[l]){e=!1;break}if(e)return t.result}return(t={args:r,result:e(...r)}).result}}}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(67                     ),n=s(58                   ),t=s(68                     ),o=s(66                      ),l=s(61                      ),c=s(63                         ),u=s(57                      );function d(e,r,s,i,n,t,o,l,c){return{currentOrgId:e,user:r,fileByKey:s,folders:i,teams:n,roles:t,orgById:o,orgDraftsOwners:l,orgUsersByOrgId:c}}const a=s(69           ).memoizeLast(d);function m(e,r){switch(e.resource_type){case u.ResourceType.FILE:return r.fileByKey[e.resource_id_or_key];case u.ResourceType.FOLDER:return r.folders[e.resource_id_or_key];case u.ResourceType.TEAM:return r.teams[e.resource_id_or_key]}}function f(e,r){for(let s of e)if(s.level>=r)return!0;return!1}function y(e,r){const s=r.user&&r.user.id;let i=r.roles;return e in i.byTeamId&&s&&s in i.byTeamId[e]?[i.byTeamId[e][s]]:[]}function _(e,r){const s=r.user&&r.user.id;let i=[],n=r.roles;e in n.byFolderId&&s&&s in n.byFolderId[e]&&i.push(n.byFolderId[e][s]);let t=r.folders[e];return t&&t.team_id&&!t.is_invite_only&&(i=i.concat(y(t.team_id,r))),i}function E(e,r){const s=r.user&&r.user.id;let i=[],n=r.roles;e in n.byFileKey&&s&&s in n.byFileKey[e]&&i.push(n.byFileKey[e][s]);let t=r.fileByKey[e];return t&&t.folder_id&&(i=i.concat(_(t.folder_id,r))),i}function T(e,r,s){const i=s.teams[e];if(!i)return!1;const t=f(y(i.id,s),r),o=n.getTeamParentOrgId(i.id,s),l=o&&s.user&&s.orgUsersByOrgId.orgUsers[o]&&s.orgUsersByOrgId.orgUsers[o][s.user.id];return!(l&&V(l)&&r>u.PermissionLevel.VIEWER)&&(o?t&&w(o,s):t)}function I(e,r,s){let n;const t=s.user&&s.user.id,o=s.folders[e];if(!t||!o)return!1;const l=i.getFolderParentOrgId(o.id,s);if(l&&!w(l,s))return!1;const c=l&&s.orgUsersByOrgId.orgUsers[l]&&s.orgUsersByOrgId.orgUsers[l][t];if(c&&V(c)&&c.drafts_folder_id!==o.id&&r>u.PermissionLevel.VIEWER)return!1;const d=_(e,s);return d.forEach(e=>{e.resource_type===u.ResourceType.FOLDER&&(n=e)}),o.team_id?o.is_invite_only?!!n&&n.level>=r:o.is_view_only&&r>=u.PermissionLevel.EDITOR?!!n&&n.level>=r:f(d,r):!!n&&n.level>=r}function g(e,r,s,i){const n=s.user&&s.user.id;let o,l,c;const d=s.fileByKey[e];return!!d&&(!b(d,s,r)&&(!d.deleted_at&&(!(d.trashed_at&&r<=u.PermissionLevel.VIEW_PROTOTYPES)&&(!i&&d.proto_link_access===t.LinkAccess.VIEW&&r<=u.PermissionLevel.VIEW_PROTOTYPES||(!i&&(d.link_access===t.LinkAccess.EDIT||d.link_access===t.LinkAccess.VIEW)&&r<=u.PermissionLevel.VIEWER||!!n&&(!i&&d.link_access===t.LinkAccess.EDIT&&r<=u.PermissionLevel.EDITOR||!(s.currentOrgId&&!w(s.currentOrgId,s))&&(!(i||!s.currentOrgId||!(d.link_access===t.LinkAccess.ORG_EDIT&&r<=u.PermissionLevel.EDITOR||d.link_access===t.LinkAccess.ORG_VIEW&&r<=u.PermissionLevel.VIEWER||d.proto_link_access===t.LinkAccess.ORG_VIEW&&r<=u.PermissionLevel.VIEW_PROTOTYPES)||!A(s.currentOrgId,s))||(E(e,s).forEach(e=>{switch(e.resource_type){case u.ResourceType.FILE:e.level>=r&&(o=e);break;case u.ResourceType.FOLDER:e.level>=r&&(l=e);break;case u.ResourceType.TEAM:e.level>=r&&(c=e)}}),!(!o&&!l)||!!c&&(!d.folder_id||I(d.folder_id,r,s))))))))))}function O(e,r,s){return g(e,u.PermissionLevel.VIEWER,r,s)}function v(e,r,s){if(!e)return!1;const i=r.fileByKey[e];return!!i&&(!(!s&&o.isFileEditingLockedForUser(i,r))&&g(e,u.PermissionLevel.EDITOR,r))}function R(e,r){return I(e,u.PermissionLevel.VIEWER,r)}function p(e,r){return I(e,u.PermissionLevel.EDITOR,r)}function P(e,r){return T(e,u.PermissionLevel.VIEWER,r)}function L(e,r){return T(e,u.PermissionLevel.EDITOR,r)}function h(e,r){return T(e,u.PermissionLevel.ADMIN,r)}function b(e,r,s){const i=r.currentOrgId,n=i&&r.user&&r.orgUsersByOrgId.orgUsers[i]&&r.orgUsersByOrgId.orgUsers[i][r.user.id];return!!n&&(n.drafts_folder_id!==e.folder_id&&(!!(e.folder_id&&V(r.orgDraftsOwners[e.folder_id])&&(s>=u.PermissionLevel.VIEWER||s==u.PermissionLevel.VIEW_PROTOTYPES))||!!(V(n)&&s>u.PermissionLevel.VIEWER)))}function F(e,r,s){switch(e){case u.ResourceType.FILE:return v(r,s);case u.ResourceType.FOLDER:return p(r,s);case u.ResourceType.TEAM:return L(r,s)}}function k(e,r,s){return e===u.ResourceType.TEAM&&h(r,s)}function w(e,r){return W(e,c.OrgUserPermissionLevel.GUEST,r)}function A(e,r){return W(e,c.OrgUserPermissionLevel.MEMBER,r)}function W(e,r,s){if(!e)return!1;const i=s.user&&s.user.id,n=s.orgById[e],t=i&&s.orgUsersByOrgId.orgUsers[e]&&s.orgUsersByOrgId.orgUsers[e][i];return!!(n&&i&&t)&&function(e){switch(e){case c.OrgPermissionType.GUEST:return c.OrgUserPermissionLevel.GUEST;case c.OrgPermissionType.MEMBER:return c.OrgUserPermissionLevel.MEMBER;case c.OrgPermissionType.ADMIN:return c.OrgUserPermissionLevel.ADMIN}}(t.permission)>=r}function V(e){return e&&e.account_type===c.OrgUserAccountType.RESTRICTED}r.getPermissionsState=function(e){return d(e.currentOrgId,e.user,e.fileByKey,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId)},r.getPermissionsStateMemoized=function(e){return a(e.currentOrgId,e.user,e.fileByKey,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId)},r.getResource=m,r.getResourceTeamId=function(e,r){switch(e.resource_type){case u.ResourceType.FILE:const s=r.fileByKey[e.resource_id_or_key];return s&&s.team_id;case u.ResourceType.FOLDER:const i=r.folders[e.resource_id_or_key];return i&&i.team_id;case u.ResourceType.TEAM:return e.resource_id_or_key}},r.getResourceName=function(e,r){let s=m(e,r);if(s)return s.name},r.isOwnerOfResource=function(e,r,s){let i=function(e,r){switch(r){case u.ResourceType.FILE:return e.byFileKey;case u.ResourceType.FOLDER:return e.byFolderId;case u.ResourceType.TEAM:return e.byTeamId}}(s.roles,r.resource_type)[r.resource_id_or_key];return!!(i&&e in i)&&i[e].level===u.PermissionLevel.OWNER},r.hasMinRole=f,r.getRolesForUserAndFolder=_,r.getRolesForUserAndFile=E,r.getRolesForResource=function(e,r,s){switch(e){case u.ResourceType.FILE:return E(r,s);case u.ResourceType.FOLDER:return _(r,s);case u.ResourceType.TEAM:return y(r,s)}},r.hasImplicitOrExplicitRoleForFile=function(e,r,s){return g(e,r,s,!0)},r.canViewFileMetadata=function(e,r,s){return g(e,u.PermissionLevel.VIEW_METADATA,r,s)},r.canViewFile=O,r.canEditFile=v,r.canViewPrototypes=function(e,r,s){return g(e,u.PermissionLevel.VIEW_PROTOTYPES,r,s)},r.isFileTemplate=function(e,r){return!!e&&!!r.fileByKey[e]&&r.fileByKey[e].is_template},r.isCopyExportRestricted=function(e,r){if(!e)return!1;const s=r.fileByKey[e];return!!s&&!v(e,r)&&!!s.viewer_export_restricted},r.canManageFile=function(e,r,s){const i=r.user&&r.user.id;let n=!1,t=!1;const l=r.fileByKey[e];if(!i||!l)return!1;if(b(l,r,u.PermissionLevel.EDITOR))return!1;if(r.currentOrgId&&!w(r.currentOrgId,r))return!1;if(null===l.folder_id)return!0;if(!s&&o.isFileEditingLockedForUser(l,r))return!1;const c=r.roles.byFileKey[e];c&&i&&i in c&&(n=c[i].level>=u.PermissionLevel.OWNER);const d=r.roles.byFolderId[l.folder_id];return d&&i&&i in d&&(t=d[i].level>=u.PermissionLevel.EDITOR),!!t||(l.team_id?!!L(l.team_id,r)&&p(l.folder_id,r):!(l.team_id||!n))},r.canViewFolder=R,r.canEditFolder=p,r.canOwnFolder=function(e,r){return I(e,u.PermissionLevel.OWNER,r)},r.canViewTeam=P,r.canEditTeam=L,r.canAdminTeam=h,r.canOwnTeam=function(e,r){return T(e,u.PermissionLevel.OWNER,r)},r.canEditResource=F,r.canViewResource=function(e,r,s){switch(e){case u.ResourceType.FILE:return O(r,s);case u.ResourceType.FOLDER:return R(r,s);case u.ResourceType.TEAM:return P(r,s)}},r.canEditRole=function(e,r){return e.level!==u.PermissionLevel.OWNER&&(e.level===u.PermissionLevel.ADMIN?k(e.resource_type,e.resource_id_or_key,r):F(e.resource_type,e.resource_id_or_key,r))},r.canMakeAdmin=k,r.canGuestOrg=w,r.canMemberOrg=A,r.canAdminOrg=function(e,r){return W(e,c.OrgUserPermissionLevel.ADMIN,r)},r.orgPermissionName=function(e){switch(e){case c.OrgPermissionType.GUEST:return"Guest";case c.OrgPermissionType.MEMBER:return"Member";case c.OrgPermissionType.ADMIN:return"Admin"}},r.getOrgAccountTypeString=function(e){return c.OrgUserAccountTypeExtendedText[e]},r.isOrgUserRestricted=V,r.orgAccessStrings={[l.OrgAccess.PUBLIC]:"Open",[l.OrgAccess.PRIVATE]:"Closed",[l.OrgAccess.SECRET]:"Secret"},r.levelName=function(e){switch(e){case u.PermissionLevel.OWNER:return"owner";case u.PermissionLevel.ADMIN:return"admin";case u.PermissionLevel.EDITOR:return"can edit";case u.PermissionLevel.VIEWER:return"can view";case u.PermissionLevel.VIEW_PROTOTYPES:return"can view prototypes only";default:return"none"}},r.levelRoleName=function(e){switch(e){case u.PermissionLevel.OWNER:return"owner";case u.PermissionLevel.ADMIN:return"admin";case u.PermissionLevel.EDITOR:return"editor";case u.PermissionLevel.VIEWER:return"viewer";case u.PermissionLevel.VIEW_PROTOTYPES:return"prototype viewer";default:return""}},r.isFolderShared=function(e,r){let s=r.folders[e];return s&&s.team_id||Object.keys(r.roles.byFolderId[e]||{}).length>1},r.isFolderOwned=function(e,r){const s=r.roles.byFolderId[e];return!!s&&Object.values(s).filter(e=>e.level>=u.PermissionLevel.OWNER).length>0},r.getTeamAdmins=function(e,r){const s=r.roles.byTeamId[e];if(!s)return[];const i=[];for(let n in s){const e=s[n];!1===e.pending&&e.level>=u.PermissionLevel.ADMIN&&i.push(e.user)}return i},r.getReadOnlyOverrideMessage=function(e,r){if(e.level!==u.PermissionLevel.VIEWER&&e.level!==u.PermissionLevel.VIEW_PROTOTYPES)return null;if(e.resource_type===u.ResourceType.FILE){const s=r.fileByKey[e.resource_id_or_key],i=s&&s.folder_id&&r.folders[s.folder_id];if(!s)return null;switch(e.level){case u.PermissionLevel.VIEWER:{if(s.link_access===t.LinkAccess.EDIT)return"This person can still edit, because the file is set to allow editing by anybody with the link.";if(s.link_access===t.LinkAccess.ORG_EDIT&&e.org_user&&e.org_user.permission!==c.OrgPermissionType.GUEST)return"This person can still edit, because the file is set to allow editing by org members with the link.";const n=e.user_id&&s.team_id&&r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id],o=i&&!i.is_invite_only&&!i.is_view_only;if(n&&n.level>u.PermissionLevel.VIEWER&&(!i||o))return"This person can still edit, because they have edit permissions on the team the file is in.";const l=e.user_id&&s.folder_id&&r.roles.byFolderId[s.folder_id]&&r.roles.byFolderId[s.folder_id][e.user_id];if(l&&l.level>u.PermissionLevel.VIEWER)return"This person can still edit, because they have edit permissions on the project the file is in.";break}case u.PermissionLevel.VIEW_PROTOTYPES:{if(s.link_access===t.LinkAccess.EDIT)return"This person can still see and edit the file, because the file is set to allow editing by anybody with the link.";if(s.link_access===t.LinkAccess.ORG_EDIT&&e.org_user&&e.org_user.permission!==c.OrgPermissionType.GUEST)return"This person can still see and edit the file, because the file is set to allow editing by org members with the link.";const n=e.user_id&&s.team_id&&r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id],o=i&&!i.is_invite_only&&!i.is_view_only;if(n&&n.level>u.PermissionLevel.VIEWER&&(!i||o))return"This person can still see and edit the file, because they have edit permissions on the team the file is in.";const l=e.user_id&&s.folder_id&&r.roles.byFolderId[s.folder_id]&&r.roles.byFolderId[s.folder_id][e.user_id];if(l&&l.level>u.PermissionLevel.VIEWER)return"This person can still see and edit the file, because they have edit permissions on the project the file is in.";if(s.link_access===t.LinkAccess.VIEW)return"This person can still see the file, because the file is set to allow viewing by anybody with the link.";if(s.link_access===t.LinkAccess.ORG_VIEW&&e.org_user&&e.org_user.permission!==c.OrgPermissionType.GUEST)return"This person can still see the file, because the file is set to allow editing by org members with the link.";if(n&&n.level>=u.PermissionLevel.VIEWER&&(!i||o))return"This person can still see the file, because they have permissions on the team the file is in.";if(l&&l.level>=u.PermissionLevel.VIEWER)return"This person can still see the file, because they have permissions on the project the file is in.";break}}}else if(e.resource_type===u.ResourceType.FOLDER){const s=r.folders[e.resource_id_or_key];if(!s)return null;const i=e.user_id&&s.team_id&&r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id],n=!s.is_invite_only&&!s.is_view_only;if(i&&i.level>u.PermissionLevel.VIEWER&&n)return"This person can still edit, because they have edit permissions on the team the project is in."}return null},r.mapReduxStateToTeamPermissionsProps=function(e,r){const{user:s,teams:i,roles:n}=e,t={user:s,team:null,role:null,teamPermissionLevel:u.PermissionLevel.NONE};return s&&r&&r.teamId?(t.team=r.teamId&&i[r.teamId]||null,t.team?(t.role=n.byTeamId[t.team.id]&&n.byTeamId[t.team.id][s.id]||null,t.role?(t.teamPermissionLevel=t.role.level,t):t):(console.error("Unable to connect Redux PermissionsState to component class. Redux state not have Team",r.teamId,e,t),t)):t}}),
(function(u,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(u){u[u.EDIT=0]="EDIT",u[u.PREVIEW=1]="PREVIEW",u[u.UPLOADING=2]="UPLOADING",u[u.SUCCESS=3]="SUCCESS",u[u.FAILURE=4]="FAILURE"}(e.HubPublishingStatusCode||(e.HubPublishingStatusCode={}))}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(51               );function l(e={},a){switch(a.type){case t.flash.ADD:return Object.assign(Object.assign({},e),{[a.payload.id]:a.payload});case t.flash.REMOVE:let s=Object.assign({},e);return delete s[a.payload.id],s;case t.flash.REMOVE_ALL:return{};default:return e}}a.flashes=l,a.default=l}),
(function(s,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=e(51               ),l=e(1                    );a.flashMiddleware=(s=>a=>(function(e){switch(e.type){case t.flash.INIT:const f=a(e);let r=l.default().flash;return r&&(r.error?s.dispatch(t.flash.error(r.error,t.flash.TIMEOUT_SERVER_SIDE)):r.warn?s.dispatch(t.flash.flash(r.warn,t.flash.TIMEOUT_SERVER_SIDE)):r.success&&s.dispatch(t.flash.flash(r.success,t.flash.TIMEOUT_SERVER_SIDE))),f;case t.flash.ADD:const h=s.getState();for(let a in h.flashes){let l=h.flashes[a];if(l.message===e.payload.message&&l.status===e.payload.status){s.dispatch(t.flash.remove(parseInt(a)));break}}let o=e.payload.id,i=e.payload.timeout>t.flash.TIMEOUT?e.payload.timeout:t.flash.TIMEOUT;return setTimeout(()=>{s.dispatch(t.flash.remove(o))},i),a(e);default:return a(e)}}))}),
(function(s,h,e){s.exports={flashes:"flash_view--flashes--1wuM5",flash:"flash_view--flash--1qTMX text--_whiteText--2PkdM",flashError:"flash_view--flashError--Hen0k flash_view--flash--1qTMX text--_whiteText--2PkdM",flashBig:"flash_view--flashBig--3Qp1S"}}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=a(2,1    ),r=a(50                  ),l=a(74                );class i extends t.PureComponent{render(){let e=Object.keys(this.props.flashes).map(e=>parseInt(e)).sort((e,s)=>e-s);return t.createElement("div",{className:l.flashes},Array.from(e.entries()).map(([e,s])=>{let a=this.props.flashes[s];return t.createElement("div",{key:`flash-${s}`},t.createElement("div",{className:`${a.status===r.FlashStatus.ERROR?l.flashError:l.flash} ${this.props.isApercu?l.flashBig:""}`},a.message))}))}}s.FlashView=i,i.displayName="FlashView"}),
(function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=l(51                        );a.flashActions=s.flash;var r=l(72                        );a.flashReducer=r.flashes;var i=l(73                           );a.flashMiddleware=i.flashMiddleware;var f=l(75                                );a.FlashView=f.FlashView}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(45,1            ),s=i(76                  );let n=0;function c(){return n++}function o(t,e,i){t.catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(s.flashActions.error(t.message))}catch(r){e.dispatch(s.flashActions.error(i||"An error occurred while performing that action."))}})}function a(t,e,i){const s=c();return t.then(()=>{e({type:null,optimist:{type:r.COMMIT,id:s}})}).catch(()=>{e({type:null,optimist:{type:r.REVERT,id:s}})}),e(Object.assign(Object.assign({},i),{optimist:{type:r.BEGIN,id:s}}))}e.getOptimisticTransactionID=c,e.flashOnFailure=o,e.optimisticRequest=a,e.optimisticRequestWithErrorHandling=function(t){const{requestPromise:e,fallbackError:i,store:r,next:s,action:n}=t;return o(e,r,i),a(e,s,n)}}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(19                  ),n=i(77                      ),c=i(45,1            );e.asyncActionCreator=function(t,e,i){const n=o.generateUniqueActionType(t),c=t=>i?i(n,t):n,s=t=>{const i=c(t);return(o,c)=>{const s=e({dispatch:o,getState:c},t,i);return o({type:n,payload:t}),s}};return s.matches=(t=>t.type===n),s.loadingKeyForPayload=c,s},e.optimisticActionCreator=function(t,e,i){const s=o.generateUniqueActionType(t),r=t=>i?i(s,t):s,p=t=>(i,o)=>{const p=n.getOptimisticTransactionID(),a=e({dispatch:i,getState:o},t,p,r(t));return i({type:s,payload:t,optimist:{type:c.BEGIN,id:p}}),a};return p.matches=(t=>t.type===s),p.loadingKeyForPayload=r,p},function(t){t.commit=(t=>({type:null,optimist:{type:c.COMMIT,id:t}})),t.revert=(t=>({type:null,optimist:{type:c.REVERT,id:t}}))}(e.optimistActions||(e.optimistActions={}))}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(19                  ),a=t(13           ),i=t(78                ),n=t(15           );!function(e){e.init=r.actionCreator("INIT"),e.hydrate=r.actionCreator("FILE_BROWSER_HYDRATE"),e.setUserStateLoaded=r.actionCreator("USER_STATE_LOADED"),e.reloadWhenConvenient=r.actionCreator("RELOAD_WHEN_CONVENIENT"),e.handleUrlParamsForCurrentView=r.actionCreator("HANDLE_URL_PARAMS_FOR_CURRENT_VIEW"),e.setTileSortFilterConfigForView=r.actionCreator("BROWSER_SET_TILE_SORT_VIEW"),e.setViewBarViewModeOptionForView=r.actionCreator("BROWSER_SET_VIEW_BAR_VIEW_MODE_OPTIONS"),e.setViewBarSortOptionsForView=r.actionCreator("BROWSER_SET_VIEW_BAR_SORT_OPTIONS"),e.setFileBrowserLoading=r.actionCreator("FILE_BROWSER_SET_LOADING"),e.showDropdown=r.actionCreator("SHOW_DROPDOWN"),e.hideDropdown=r.actionCreator("HIDE_DROPDOWN"),e.showModal=r.actionCreator("SHOW_MODAL"),e.hideModal=r.actionCreator("HIDE_MODAL"),e.popModalStack=r.actionCreator("POP_MODAL_STACK"),e.hideSpecificModal=r.actionCreator("HIDE_SPECIFIC_MODAL"),e.openInNewTab=i.asyncActionCreator("OPEN_IN_NEW_TAB",(e,o)=>{n.redirect(o.url,"_blank")}),e.selectView=r.actionCreator("SELECT_VIEW"),e.selectViewByFolderId=function(o,t={}){return e.selectView(Object.assign({view:"folder",folderId:o},t))},e.selectViewByTeamId=function(o,t={}){return e.selectView(Object.assign({view:"team",teamId:o},t))},e.openNewFolderModal=r.actionCreator("FOLDER_OPEN_NEW_FOLDER_MODAL"),e.beginCreateNewFolder=r.actionCreator("BEGIN_CREATE_NEW_FOLDER"),e.stopCreateNewFolder=r.actionCreator("STOP_CREATE_NEW_FOLDER"),e.beginRenameNavFolder=r.actionCreator("BEGIN_RENAME_NAV_FOLDER"),e.stopRenameNavFolder=r.actionCreator("STOP_RENAME_NAV_FOLDER"),e.beginRenameNavTeam=r.actionCreator("BEGIN_RENAME_NAV_TEAM"),e.stopRenameNavTeam=r.actionCreator("STOP_RENAME_NAV_TEAM"),e.showMobileNav=r.actionCreator("SHOW_MOBILE_NAV"),e.hideMobileNav=r.actionCreator("HIDE_MOBILE_NAV"),e.setLocalFonts=r.actionCreator("SET_LOCAL_FONTS"),e.setFileSearchQuery=r.actionCreator("SET_FILE_SEARCH_QUERY"),e.setFileSearchResults=r.actionCreator("SET_FILE_SEARCH_RESULTS"),e.searchResultClicked=r.actionCreator("SEARCH_RESULT_CLICKED"),e.recentFileClicked=i.asyncActionCreator("RECENT_FILE_CLICKED",(e,{index:o})=>{a.segment.track("Recent File Clicked",{index:o})}),e.downloadFontInstaller=r.actionCreator("DOWNLOAD_FONT_INSTALLER"),e.downloadFontUninstaller=r.actionCreator("DOWNLOAD_FONT_UNINSTALLER"),e.setDeletedFiles=r.actionCreator("SET_DELETED_FILES")}(o.fileBrowser||(o.fileBrowser={}))}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteTokenState={OK:"ok",WARN:"warn",ERROR:"error"}}),
(function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.CANVAS="canvas",e.PROTOTYPE="prototype"}(i.ViewerModeToPublishAs||(i.ViewerModeToPublishAs={})),function(e){e.unverified="unverified",e.verified="verified",e.blocked="blocked"}(i.VerificationStatus||(i.VerificationStatus={}))}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(1                    ),i=a(19                  ),r=a(70             ),o=a(70                         ),s=a(71                               ),u=a(79                                      ),l=a(80                             ),d=a(27       ),c=a(69           ),m=a(81                         );function g(e){return e&&e.status||{code:s.HubPublishingStatusCode.EDIT}}t.mergeVersions=function(e,t){return Object.assign(Object.assign({},e&&e.versions||{}),t&&t.versions||{})},t.getById=function(e,t,a){return e&&t&&t[e]||a},t.trimString=function(e){return e&&e.trim()||""},t.publishingStateActionCreator=function(e){return{updateStatus:i.actionCreator(`${e}_UPDATE_PUBLISH_STATUS`),updateMetadata:i.actionCreator(`${e}_UPDATE_PUBLISH_METADATA`),clearMetadata:i.actionCreator(`${e}_CLEAR_PUBLISH_METADATA`),clearMetadataAndStatus:i.actionCreator(`${e}_CLEAR_PUBLISHING`)}},t.publishingStateReducer=function(e){return(t={},a)=>{if(e.updateMetadata.matches(a))return Object.assign(Object.assign({},t),{[a.payload.id]:{metadata:a.payload.metadata,status:g()}});if(e.clearMetadata.matches(a)){const e=Object.assign({},t);return e[a.payload.id]&&delete e[a.payload.id].metadata,e}if(e.updateStatus.matches(a)){const e=Object.assign({},t);return e[a.payload.id]&&(e[a.payload.id]=Object.assign(Object.assign({},e[a.payload.id]),{status:a.payload.status})),e}if(e.clearMetadataAndStatus.matches(a)){const e=Object.assign({},t);return delete e[a.payload.id],e}return u.fileBrowser.hydrate.matches(a)?{}:t}},t.getPublishingStatus=g,t.validateProfileHandleFormat=(e=>{return e&&0!=e.length?e.length>15?"Your handle can only be up to 15 characters in length":/^[a-zA-Z0-9_]{1,15}$/.test(e)?null:"Your profile handle cannot contain special characters":"Your handle cannot be empty"}),t.profileHandleChanged=((e,t)=>(e=(e||"").toLowerCase())!==(t=(t||"").toLowerCase())),t.withinCommunityProfileScope=function(e,t){return e.user_id?!!t.user&&t.user.id===e.user_id:e.team_id?r.canEditTeam(e.team_id,t)||o.canAdminTeam(e.team_id,t):!!e.org_id&&(o.canMemberOrg(e.org_id,t)||r.canAdminOrg(e.org_id,t))},t.canEditCommunityProfile=function(e,t){return e.user_id?!!t.user&&t.user.id===e.user_id:e.team_id?o.canAdminTeam(e.team_id,t):!!e.org_id&&r.canAdminOrg(e.org_id,t)},t.getPublisherDisplayString=function(e){return e.publisher.name};const _=c.memoizeLast((e,t,a,n,i,o,s,u,l)=>{let d=null;if(e&&t[e]){const c=r.canAdminOrg(e,{currentOrgId:e,user:a,orgById:t,fileByKey:n,folders:i,teams:o,roles:s,orgDraftsOwners:u,orgUsersByOrgId:l}),m=t[e];d={isAdmin:c,id:m.id,name:m.name,publicPluginsAllowed:m.public_plugins_allowed,whitelistEnforced:m.plugins_whitelist_enforced,publicLinksBanned:m.public_links_banned}}return d});t.getOrgPermissionEntity=function(e){return _(e.currentOrgId,e.orgById,e.user,e.fileByKey,e.folders,e.teams,e.roles,e.orgDraftsOwners,e.orgUsersByOrgId)},t.isCommunityHubRealtimeMessage=function(e){return!!(e.plugin_install||e.plugin||e.whitelisted_plugin||e.hub_file||e.community_hub_like)},t.validateProfileCoverImageFile=function(e){if(!e)throw new Error("Cover image not found");if(["image/jpeg","image/png","image/svg+xml"].indexOf(e.type)<0)throw new Error("Cover image must be a jpeg, png, or svg");if(e.size>t.IMAGE_UPLOAD_SIZE_LIMIT)throw new Error(`Cover image exceeds max size of ${Math.floor(t.IMAGE_UPLOAD_SIZE_LIMIT/1e6)}MB`);return e.size};const p=/^[a-zA-Z0-9][a-zA-Z0-9_-]{0,24}$/;t.validateTagToken=function(e){return{email:e.toLowerCase(),state:e.match(p)?l.AutocompleteTokenState.OK:l.AutocompleteTokenState.ERROR,user:null}},t.validateTags=function(e){return e.length>12?"Cannot have more than 12 tags":e.some(e=>!e.match(/^[a-zA-Z0-9_-]*$/))?"Tags can only contain letters, numbers, dashes, or underscores":e.some(e=>!e.charAt(0).match(/^[a-zA-Z0-9]$/))?"Tags must begin with a letter or number":e.some(e=>e.length>25)?"Tags can only have up to 25 characters":null},t.emptyHubFilePublishingMetadata={name:"",description:"",supportContact:"",tags:{inputValue:"",errorMessage:"",tokens:[]},viewerModeToPublishAs:m.ViewerModeToPublishAs.CANVAS,scalingMode:null,author:{user_id:""},thumbnailIsSet:!1},t.autoCompleteInputNewTokenKeyCodes=[d.Key.SPACE,d.Key.TAB,d.Key.ENTER,d.Key.COMMA],t.IMAGE_UPLOAD_SIZE_LIMIT=5242880,t.CODE_UPLOAD_SIZE_LIMIT=15728640,t.PROFILE_COVER_IMAGE_MIN_WIDTH=240,t.PROFILE_COVER_IMAGE_MIN_HEIGHT=240,t.PROFILE_COVER_IMAGE_MAX_WIDTH=4096,t.PROFILE_COVER_IMAGE_MAX_HEIGHT=1024,t.MAX_TAGS_PER_RESOURCE=12,t.isLoggedOutCommunityHubPage=function(){return!n.initialOptions().user_data&&function(){const e=location.pathname;for(const t of["/c","/community","/@","/user","/org","/team"])if(e.startsWith(t))return!0;return!1}()},t.PAGINATION_PAGE_SIZE=50}),
(function(e,l,r){e.exports={brandHandleWrapper:"profile_handle--brandHandleWrapper--17G4I text--fontPos14--3UJ36 text--_fontBase--YWDo0",handleWrapper:"profile_handle--handleWrapper--3zeNa text--fontPos11--RSei3 text--_fontBase--YWDo0",handleContainer:"profile_handle--handleContainer--w8Bq1",handleText:"profile_handle--handleText--E-HGs",handleHelperTextWrapper:"profile_handle--handleHelperTextWrapper--5_gLj",handleInput:"profile_handle--handleInput--DIQ4Y",error:"profile_handle--error--3yR_w auth_form--error--2I51G",handleSuccess:"profile_handle--handleSuccess--3-WFt profile_handle--error--3yR_w auth_form--error--2I51G",handlePlaceholderText:"profile_handle--handlePlaceholderText--c5xyN",handleInputError:"profile_handle--handleInputError--3fT0c profile_handle--handleInput--DIQ4Y",handleInputSuccess:"profile_handle--handleInputSuccess--3-VMi profile_handle--handleInput--DIQ4Y",regularTextInput:"profile_handle--regularTextInput--1NsLY",regularHandlePlaceholderText:"profile_handle--regularHandlePlaceholderText--38ltg profile_handle--handlePlaceholderText--c5xyN"}}),
(function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=l(2,1    ),t=l(11      ),r=l(14            ),s=l(39                                                            ),o=l(37                                             ),d=l(82                           ),i=l(83                    );a.ProfileHandleWithValidation=(e=>{const a=(e.defaultHandleName||"").toLowerCase().replace(/ /g,"_"),[l,c]=n.useState(""),[u,m]=n.useState({}),h=(e=>r.debounce(e=>{e()},500))(),p=a=>{const l=a.target.value;e.saveHandle(l),c(l),h(()=>{const a=d.validateProfileHandleFormat(l);if(a)return e.onProfileHandleValidationFailure&&e.onProfileHandleValidationFailure(),void m({errorMsg:a});l.length>0?t.default.get(`/api/profile/handle/${l}/available`).then(({data:a})=>{a.meta.available?(m({successMsg:`'${l}' is available!`}),e.onProfileHandleValidationSuccess&&e.onProfileHandleValidationSuccess()):(m({errorMsg:`'${l}' is taken. Please choose another.`}),e.onProfileHandleValidationFailure&&e.onProfileHandleValidationFailure())}):m({})})},f=u.errorMsg?i.handleInputError:u.successMsg?i.handleInputSuccess:i.handleInput;return n.createElement("div",{className:e.useBrand?i.brandHandleWrapper:i.handleWrapper},n.createElement("div",{className:i.handleContainer},e.useBrand&&n.createElement(s.AuthInput,{name:"handle",type:"text",id:"handle",autoComplete:"off",value:l||a,onChange:p,placeholder:"handle",className:f,maxLength:20}),!e.useBrand&&n.createElement(o.TextInput,{name:"handle",type:"text",id:"handle",autoComplete:"off",className:i.regularTextInput,value:l||a,onChange:p,autoFocus:!0,placeholder:"handle",maxLength:20}),n.createElement("span",{className:e.useBrand?i.handlePlaceholderText:i.regularHandlePlaceholderText},"figma.com/@")),n.createElement("div",{className:i.handleHelperTextWrapper},u.errorMsg&&n.createElement("div",{className:i.error},u.errorMsg),u.successMsg&&n.createElement("div",{className:i.handleSuccess},u.successMsg),n.createElement("div",{className:i.handleText},"Up to 15 characters (letters, numbers, or _)")))})}),
(function(e,t,n){e.exports={selectFullWidth:"extra_info--selectFullWidth--3NJpV",brand:"extra_info--brand--3IUJs",wideButton:"extra_info--wideButton--2z_Bv auth_view--wideButton--dqVKk auth_view--fullWidth--3ydDr",termsFlattened:"extra_info--termsFlattened--2Whft auth_view--footerText--1PPnJ",termsLink:"extra_info--termsLink--26YZw",centerText:"extra_info--centerText--z1pDP auth_view--centerText--21TLX",signInText:"extra_info--signInText--35rPS auth_view--footerButtonRow--1r5Q6 auth_view--footerText--1PPnJ",signInLink:"extra_info--signInLink--1M1uC blue_link--blueLink--22X56",error:"extra_info--error--2VSg2 auth_form--error--2I51G",invalidInput:"extra_info--invalidInput--1j8xA",checkbox:"extra_info--checkbox--1jBJW",checkboxGroup:"extra_info--checkboxGroup--2AXq9"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(2,1    ),r=a(20                                 ),o=a(39                                                            ),i=a(26                                                        ),s=a(48                                                 ),l=a(84                                               ),p=a(85                ),h=a(21                          ),u=a(8                               ),c=a(37                                             );class m extends n.PureComponent{constructor(){super(...arguments),this.jobTypeOptions=u.shuffle([n.createElement("option",{value:"designer"},"Design"),n.createElement("option",{value:"developer"},"Software Development"),n.createElement("option",{value:"marketer"},"Marketing"),n.createElement("option",{value:"project-manager"},"Product Management")]),this.onChangeName=(e=>{const t=e.target.value;this.props.dispatch(r.auth.changeName({value:t}))}),this.saveHandleToState=(e=>{this.props.dispatch(r.auth.changeHandle({value:e}))}),this.onChangeJobTitle=(e=>{const t=e.target.value;this.props.dispatch(r.auth.changeJob({value:t})),this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE&&t&&this.props.dispatch(r.auth.clearError())}),this.onChangeOptInEmail=(e=>{this.props.dispatch(r.auth.changeOptInEmail({value:e.target.checked}))}),this.toggleOptInEmail=(()=>{this.props.dispatch(r.auth.changeOptInEmail({value:!this.props.auth.optInEmail}))}),this.onClickSignIn=(()=>{this.props.dispatch(r.auth.signUpGoBack())}),this.renderHandleForm=(()=>{var e;return n.createElement(n.Fragment,null,n.createElement(s.BrandSpacer,{multiple:3}),n.createElement(l.ProfileHandleWithValidation,{defaultHandleName:null===(e=this.props.auth)||void 0===e?void 0:e.name,saveHandle:this.saveHandleToState,useBrand:!0}))})}render(){const e=!this.props.auth||!this.props.auth.jobTitle;return n.createElement(i.AuthForm,Object.assign({className:p.centerText,largeHeader:!!this.props.header,header:this.props.header||"Tell us about yourself",hideError:this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE||this.props.auth.invalidInput===h.AuthInputType.PROFILE_HANDLE,onSubmit:t=>{e?this.props.dispatch(r.auth.showError({invalidInput:h.AuthInputType.JOB_TITLE,message:"Please provide your job function"})):this.props.onFormSubmit(this.props.id)(t)}},this.props),n.createElement(o.AuthInput,{onBlur:this.props.onBlur,onChange:this.onChangeName,value:this.props.auth.name||"",name:"name",placeholder:"Your name",autoCorrect:"off"}),this.props.showHandleForm&&this.renderHandleForm(),n.createElement(s.BrandSpacer,{multiple:3}),n.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email||""}),n.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),n.createElement("input",{type:"hidden",name:"googleIdToken",value:this.props.googleIdToken||""}),this.props.auth.emailToken&&n.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),n.createElement("select",{value:this.props.auth.jobTitle,onChange:this.onChangeJobTitle,className:`${p.selectFullWidth} ${p.brand} ${this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE?p.invalidInput:""}`},n.createElement("option",{value:"",disabled:!0},"What kind of work do you do? *"),this.jobTypeOptions,n.createElement("option",{value:"other"},"Other")),this.props.auth.invalidInput===h.AuthInputType.JOB_TITLE&&this.props.auth.error&&n.createElement("div",{className:p.error},this.props.auth.error),n.createElement(s.BrandSpacer,{multiple:3}),n.createElement("div",{className:p.checkboxGroup},n.createElement(c.Checkbox,{id:"box",classOverride:p.checkbox,name:"opt_in_email",onChange:this.onChangeOptInEmail,value:`${this.props.auth.optInEmail}`,checked:this.props.auth.optInEmail}),n.createElement("label",{onClick:this.toggleOptInEmail},"I agree to join Figma's mailing list")),n.createElement(s.BrandSpacer,{multiple:3}),n.createElement(s.BrandButton,{type:"submit",className:p.wideButton,loading:this.props.auth.loading},"Create Account"),n.createElement(s.BrandSpacer,{multiple:4}),n.createElement("div",{className:p.termsFlattened},'By clicking "Create Account" you agree to our '," ",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/summary-of-policy"},"TOS")," and ",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/privacy"},"Privacy Policy"),"."),n.createElement(s.BrandSpacer,{multiple:2}),n.createElement("div",{className:p.signInText},"Already have an account?",n.createElement("a",{tabIndex:-1,className:p.signInLink,onClick:this.onClickSignIn},"Log in")))}}t.SignUpExtraInfoForm=m,m.displayName="SignUpExtraInfoForm"}),
(function(a,e,i){a.exports={link:"validate_email--link--1a7V8 modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttons:"validate_email--buttons--3IWyc",modal:"validate_email--modal--4UBx3",form:"validate_email--form--1qLwT validate_email--modal--4UBx3",innerContainer:"validate_email--innerContainer--3E4u1",back:"validate_email--back--3KxRY",header:"validate_email--header--2KHJ5",description:"validate_email--description--3rpEF",footer:"validate_email--footer--3G88r",error:"validate_email--error--2o7OF",success:"validate_email--success--28l2a"}}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(2,1    ),i=s(37                                             ),r=s(20                                 ),o=s(87                    );class l extends t.PureComponent{constructor(){super(...arguments),this.sendValidationEmail=(()=>{this.props.dispatch(r.auth.sendValidationEmail({email:this.props.auth.email}))})}render(){const e=this.props.modal?o.modal:o.form,a=this.props.auth.email.substring(this.props.auth.email.lastIndexOf("@")+1);return t.createElement("div",{className:e},t.createElement("div",{className:o.innerContainer},t.createElement("div",{className:o.back},t.createElement(i.Link,{href:"/logout",className:o.link},"Logout")),t.createElement("div",{className:o.header},"Welcome to Figma, ",this.props.auth.name,"! Please verify your email to continue."),t.createElement("div",{className:o.description},"Please check your email for a message from Figma, and click the link inside to verify your email address."),t.createElement("div",{className:o.buttons},t.createElement(i.Link,{onClick:this.sendValidationEmail,className:o.link},"Resend Verification Email"),this.props.auth.error&&t.createElement("div",{className:o.error},this.props.auth.error),this.props.auth.success&&t.createElement("div",{className:o.success},this.props.auth.success))),t.createElement("div",{className:o.footer},"When you use a domain like ",a,", we ask that you verify your email. If you’d like to use Figma outside of this organization, sign up with your personal email."))}}a.ValidateEmail=l,l.displayName="ValidateEmail"}),
(function(e,o,r){e.exports={footerRow:"validate_code--footerRow--1WUIC",link:"validate_code--link--2Phzm",error:"validate_code--error--3OIzb auth_form--error--2I51G",header:"validate_code--header--1FM6v",description:"validate_code--description--2n-lr"}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(2,1    ),n=a(20                                 ),r=a(21                       ),i=a(39                             ),o=a(26                         ),h=a(48                                                 ),d=a(89                   );class l extends s.PureComponent{constructor(e){super(e),this.VERIFICATION_CODE_LENGTH=6,this.onResend=(()=>{this.props.dispatch(n.auth.resendCode())}),this.handleCodeChange=(e=>{this.setState({code:e.target.value})}),this.state={code:""}}render(){return s.createElement(o.AuthForm,Object.assign({onSubmit:this.props.onFormSubmit(this.props.id),hideError:this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE},this.props),s.createElement("div",{className:d.header},"Verify your account"),s.createElement("div",{className:d.description},"An email has been sent to ",this.props.auth.email,"."),s.createElement("div",{className:d.description},"Enter the code below to verify."),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(i.AuthInvalidInput,{name:r.AuthInputType.VERIFICATION_CODE,autoComplete:"off",autoCorrect:"off",maxLength:this.VERIFICATION_CODE_LENGTH,value:this.state.code,onChange:this.handleCodeChange,isInvalid:this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE}),this.props.auth.invalidInput===r.AuthInputType.VERIFICATION_CODE&&this.props.auth.error&&s.createElement("div",{className:d.error},this.props.auth.error),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement(h.BrandButton,{loading:this.props.auth.loading,disabled:this.state.code.length!==this.VERIFICATION_CODE_LENGTH},"Submit"),s.createElement(h.BrandSpacer,{multiple:3}),s.createElement("div",{className:d.footerRow},"Didn’t receive the code?  ",s.createElement("a",{className:d.link,onClick:this.onResend},"Resend")))}}t.ValidateCode=l,l.displayName="ValidateEmail"}),
(function(a,e,o){a.exports={modal:"app_auth--modal--21eLL auth_form--modal--2C3yg",header:"app_auth--header--8aJPD auth_form--header--21sqq",formWide:"app_auth--formWide--3-YAo app_auth--modal--21eLL auth_form--modal--2C3yg",form:"app_auth--form--1pJEo app_auth--modal--21eLL auth_form--modal--2C3yg",innerContainer:"app_auth--innerContainer--1V9qb",logo:"app_auth--logo--2YfGb",message:"app_auth--message--OhFO_",subMessage:"app_auth--subMessage--10AT2",link:"app_auth--link--2RA_H",error:"app_auth--error--1AnkH",redeemButton:"app_auth--redeemButton--3zyJD",footerText:"app_auth--footerText--1L71m auth_view--footerText--1PPnJ",signupLink:"app_auth--signupLink--3W95r blue_link--blueLink--22X56"}}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=n(15           );o.reload=function(){r.locationReload("From window_helpers")}}),
(function(l,o,e){l.exports={src:'<svg width="38" height="57" viewBox="0 0 38 57" xmlns="http://www.w3.org/2000/svg"><path d="M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z" fill-rule="nonzero" fill-opacity="1" fill="#1abcfe" stroke="none"/><path d="M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z" fill-rule="nonzero" fill-opacity="1" fill="#0acf83" stroke="none"/><path d="M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z" fill-rule="nonzero" fill-opacity="1" fill="#ff7262" stroke="none"/><path d="M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z" fill-rule="nonzero" fill-opacity="1" fill="#f24e1e" stroke="none"/><path d="M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z" fill-rule="nonzero" fill-opacity="1" fill="#a259ff" stroke="none"/></svg>'}}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(2,1    ),i=a(11      ),n=a(15           ),s=a(18            ),p=a(13           ),o=a(21                       ),l=a(20                                 ),h=a(44                                         ),c=a(36                         ),m=a(91              ),u=a(48                                                 ),d=a(92                            ),g=a(93                             );class A extends r.PureComponent{constructor(e){super(e),this.expirationTimer=null,this.formatGrantUrl=(e=>{if(!this.state.appAuth)return"";let t=`/app_auth/${this.state.appAuth.id}/grant`,a=new URLSearchParams;return e&&a.append("signup","true"),a.toString()&&(t+="?"+a.toString()),t}),this.openGrantUrl=(e=>{const t=this.formatGrantUrl(e);console.log("Opening: "+t),n.unsafeWindowOpen(t)}),this.requestAppAuth=(e=>{i.default.post("/api/session/app_auth",{app_type:this.props.appType}).then(t=>{this.setState({appAuth:t.data.meta},()=>{this.openGrantUrl(e),this.expirationTimer=setTimeout(this.expire,A.EXPIRATION_MS)})}).catch(e=>{console.error(e),this.expire()})}),this.componentWillUnmount=(()=>{this.expirationTimer&&clearTimeout(this.expirationTimer)}),this.expire=(()=>{this.props.dispatch(l.auth.showError({message:"An error has occurred. Please try again."})),this.setState({appAuth:null})}),this.onClickCancel=(()=>{this.expirationTimer&&clearTimeout(this.expirationTimer),this.setState({appAuth:null})}),this.onLoginClick=(()=>{this.requestAppAuth(!1)}),this.onSignupClick=(()=>{this.requestAppAuth(!0)}),this.state={appAuth:null}}render(){return this.state.appAuth?r.createElement("div",{className:m.formWide},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.header},"Go to the browser to complete login"),r.createElement(u.BrandSpacer,{multiple:3}),r.createElement("div",{className:m.footerText},"Not seeing the browser tab?",r.createElement("a",{tabIndex:-1,className:m.signupLink,onClick:this.onClickCancel},"Go back and try again")))):r.createElement("div",{className:m.form},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.header},"Welcome to Figma"),r.createElement(u.BrandSpacer,{multiple:3}),this.props.auth.error&&r.createElement(r.Fragment,null,r.createElement("div",{className:m.error},this.props.auth.error),r.createElement(u.BrandSpacer,{multiple:1})),r.createElement(u.BrandButton,{type:"submit",loading:this.props.auth.loading,onClick:this.onLoginClick},"Log in with browser"),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.footerText},"No account?",r.createElement("a",{tabIndex:-1,className:m.signupLink,onClick:this.onSignupClick},"Create one"))))}}t.AppAuthDesktopRequestForm=A,A.displayName="AppAuthDesktopRequestForm ",A.EXPIRATION_MS=3e5;class S extends r.PureComponent{constructor(e){super(e),this.formatRedeemUrl=(()=>{if(!this.state.gSecret)return"";let e=`${this.props.auth.appAuthDesktopProtocol||"figma"}://app_auth/redeem`,t=new URLSearchParams;return t.append("g_secret",this.state.gSecret),t.toString()&&(e+="?"+t.toString()),e}),this.openAppToRedeem=(()=>{const e=this.formatRedeemUrl();n.unsafeRedirect(e),setTimeout(()=>{window.close()},2e4)}),this.grantAppAuth=(()=>{this.props.auth.appAuthId?i.default.post(`/api/session/app_auth/${this.props.auth.appAuthId}/grant`).then(e=>{this.setState({loading:!1,gSecret:e.data.meta.g_secret})}).catch(e=>{console.error(e),this.setState({loading:!1,gSecret:null})}):this.setState({loading:!1,gSecret:null})}),this.onClickOpenToRedeem=(()=>{p.segmentTrackEvent("AppAuth",{app_auth_id:this.props.auth.appAuthId,app_auth_status:"click_to_redeem"}),this.openAppToRedeem()}),this.openNativeLoginScreen=(()=>{const e=this.props.auth.appAuthAppType===o.AppAuthAppType.MOBILE?"mobile-app":"login";n.unsafeRedirect("figma://"+e)}),this.onClickSignoutAndTryAgain=(()=>{p.segmentTrackEvent("AppAuth",{app_auth_id:this.props.auth.appAuthId,app_auth_status:"signout_try_again"}),this.props.dispatch(l.auth.showForm({formState:o.AuthFormState.SIGN_IN}))}),this.onClickOpenToStartOver=(()=>{this.openNativeLoginScreen()}),this.state={loading:!0,gSecret:null}}componentDidMount(){this.grantAppAuth()}render(){const e=this.props.modal?m.modal:m.formWide,t=this.props.auth.appAuthAppType===o.AppAuthAppType.MOBILE?"Mirror":"Desktop";return this.state.loading?r.createElement(h.LoadingSpinner,null):r.createElement("div",{className:e},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),this.state.gSecret&&r.createElement(r.Fragment,null,r.createElement("div",{className:m.header},"You're logged in as ",this.props.auth.email),r.createElement(u.BrandSpacer,{multiple:3}),r.createElement(u.BrandButton,{className:m.redeemButton,onClick:this.onClickOpenToRedeem},"Open the ",t," App"),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement("div",{className:m.footerText},"Not ",this.props.auth.email,"?",r.createElement("a",{tabIndex:-1,className:m.signupLink,onClick:this.onClickSignoutAndTryAgain},"Log in with another account"))),!this.state.gSecret&&r.createElement(r.Fragment,null,r.createElement("div",{className:m.header},"Your login session has expired.",r.createElement("br",null),"Try again on the ",t," app."),r.createElement(u.BrandSpacer,{multiple:3}),r.createElement(u.BrandButton,{onClick:this.onClickOpenToStartOver},"Open the ",t," App"))))}}t.AppAuthGrantForm=S,S.displayName="AppAuthGrantForm";class E extends r.PureComponent{constructor(e){super(e),this.redeemAppAuth=(()=>{if(!this.props.auth.appAuthId||!this.props.auth.appAuthGSecret)return this.setState({loading:!1}),void this.handleError();i.default.post("/api/session/app_auth/redeem",{g_secret:this.props.auth.appAuthGSecret}).then(e=>{this.setState({loading:!1}),setTimeout(()=>{const e=this.props.auth.redirectUrl||(s.isAndroidMirrorApp()||s.isIosMirrorApp()?"/mobile-app":null);null!=e?(console.log("Opening: "+e),n.redirect(e)):d.reload()},500)}).catch(e=>{console.error(e),this.setState({loading:!1}),this.handleError()})}),this.handleError=(()=>{const e="An error has occurred. Please try again.";if(s.isAndroidMirrorApp()||s.isIosMirrorApp()){let t=new URLSearchParams;t.append("error",e),n.redirect("/mobile-app?"+t.toString())}else this.props.dispatch(l.auth.showError({message:e})),this.props.dispatch(l.auth.redeemReset())}),this.state={loading:!0}}componentDidMount(){this.redeemAppAuth(),n.debouncedHistoryReplaceState({},"","/login")}render(){const e=this.props.modal?m.modal:m.formWide;return this.state.loading?r.createElement(h.LoadingSpinner,null):r.createElement("div",{className:e},r.createElement("div",{className:m.innerContainer},r.createElement(c.Svg,{svg:g,useOriginalSrcFills:!0,autosize:!0,width:"48px",height:"72px"}),r.createElement(u.BrandSpacer,{multiple:4}),r.createElement(r.Fragment,null,r.createElement("div",{className:m.message},"Loading..."),r.createElement(h.LoadingSpinner,null))))}}t.AppAuthRedeemForm=E,E.displayName="AppAuthRedeemForm"}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=e(2,1    ),n=e(15           ),i=e(52              ),a=e(21                       ),r=e(26                                                        ),h=e(48                                                 ),l=e(37                                             ),c=e(20                                 ),p=e(53                                    );class u extends s.PureComponent{constructor(){super(...arguments),this.onAbandonSSO=(()=>{this.props.auth.existingSession?n.redirect("/"):this.props.dispatch(c.auth.showForm({formState:a.AuthFormState.EMAIL_ONLY}))}),this.onGoogleClick=(()=>{i.doGoogleLoginOrSignup(this.props.dispatch).then(this.onGoogleSuccess,o=>{this.handleGoogleError(o)})}),this.onGoogleSuccess=(()=>{this.props.dispatch(c.auth.complete())}),this.handleGoogleError=(o=>{this.props.dispatch(c.auth.showError({message:o}))}),this.onSamlClick=(()=>{this.props.dispatch(c.auth.samlStartFromSession())})}render(){const o=this.props.auth.ssoMethod===a.SSOMethod.GOOGLE?"Google":"SAML SSO",t=`To continue, join ${this.props.auth.orgName} by logging in with ${o}`,e=this.props.auth.existingSession?`Cancel and do not join ${this.props.auth.orgName}`:"Go back to change email";return s.createElement(r.AuthForm,Object.assign({},this.props,{className:p.centerText,header:t,onSubmit:null}),this.props.auth.ssoMethod===a.SSOMethod.GOOGLE&&s.createElement(h.GoogleAuthButton,{text:"Log in with Google",onClick:this.onGoogleClick}),this.props.auth.ssoMethod===a.SSOMethod.SAML&&s.createElement(h.BrandButton,{type:"submit",onClick:this.onSamlClick,loading:this.props.auth.loading},"Log in with SAML"),s.createElement(h.BrandSpacer,{multiple:4}),s.createElement("div",{className:p.footer},s.createElement("div",{className:p.footerButtonRow},s.createElement(l.LinkInline,{onClick:this.onAbandonSSO},e))))}}t.SSOGateForm=u,u.displayName="ForceSamlForm"}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2,1    ),i=n(26                                                        ),s=n(48                                                 ),a=n(53                                    ),o=n(39                             );class m extends r.PureComponent{render(){return r.createElement(i.AuthForm,Object.assign({},this.props,{className:a.centerText,header:"Log in to Figma to continue",onSubmit:this.props.onFormSubmit(this.props.id)}),r.createElement(o.AuthEmailInput,Object.assign({},this.props)),r.createElement(s.BrandSpacer,{multiple:4}),r.createElement(s.BrandButton,{type:"submit",loading:this.props.auth.loading},"Log in"))}}t.EmailOnlyForm=m,m.displayName="EmailOnlyForm"}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(2,1    ),r=s(15           ),o=s(17               ),i=s(18            ),h=s(20                                 ),p=s(21                       ),n=s(49                                                                  ),m=s(54                                                                                 ),u=s(56                                                                         ),S=s(86                                                                         ),c=s(88                                              ),A=s(90                                            ),d=s(94                                  ),l=s(95                                  ),_=s(96                                      );s(65                                );class F extends a.PureComponent{componentWillUnmount(){this.props.dispatch(h.auth.clearError()),this.props.dispatch(h.auth.showForm({formState:p.AuthFormState.SIGN_UP}))}static title(t){switch(t.auth.formState){case p.AuthFormState.SAML_START:return"Log in with SAML SSO";default:return"Figma"}}static headerActionText(t){if(t.auth.formState===p.AuthFormState.APP_AUTH_REDEEM)return"Go back and try again"}static headerAction(t){if(t.auth.formState===p.AuthFormState.APP_AUTH_REDEEM)return()=>{i.isAndroidMirrorApp()||i.isIosMirrorApp()?r.redirect("/mobile-app"):t.dispatch(h.auth.redeemReset())}}render(){switch(this.props.auth.formState){case p.AuthFormState.SIGN_IN:case p.AuthFormState.SIGN_UP:case p.AuthFormState.SIGN_UP_EXTRA_INFO:case p.AuthFormState.RESET_PASSWORD:case p.AuthFormState.VALIDATE_CODE:case p.AuthFormState.SAML_START:case p.AuthFormState.EMAIL_ONLY:return a.createElement(E,Object.assign({},this.props));case p.AuthFormState.FORGOT_PASSWORD:return a.createElement(n.ForgotPasswordForm,Object.assign({},this.props));case p.AuthFormState.SENT_PASSWORD_RESET:return a.createElement(n.SentPasswordReset,Object.assign({},this.props));case p.AuthFormState.VALIDATE_EMAIL:return a.createElement(c.ValidateEmail,Object.assign({},this.props));case p.AuthFormState.APP_AUTH_GRANT:return a.createElement(d.AppAuthGrantForm,Object.assign({},this.props));case p.AuthFormState.APP_AUTH_REDEEM:return a.createElement(d.AppAuthRedeemForm,Object.assign({},this.props));case p.AuthFormState.SSO_GATE:return a.createElement(l.SSOGateForm,Object.assign({},this.props))}}}e.AuthView=F,F.displayName="AuthView";class E extends a.PureComponent{constructor(){super(...arguments),this.state={password:""},this.onFormSubmit=(t=>e=>{let s=document.getElementById(t).elements;switch(s.totp_key&&s.totp_key.select(),s.password&&(s.password.select(),this.setState({password:s.password.value}),this.props.dispatch(h.auth.setGoogleIdToken({googleIdToken:null}))),this.props.auth.formState){case p.AuthFormState.SIGN_IN:this.props.dispatch(h.auth.signIn({formId:t}));break;case p.AuthFormState.RESET_PASSWORD:this.props.dispatch(h.auth.resetPassword({formId:t}));break;case p.AuthFormState.VALIDATE_CODE:this.props.dispatch(h.auth.validateCode({formId:t}));break;case p.AuthFormState.SAML_START:this.props.dispatch(h.auth.sendEmailSamlStart({formId:t}));break;case p.AuthFormState.SIGN_UP_EXTRA_INFO:this.props.dispatch(h.auth.signUp({formId:t}));break;case p.AuthFormState.SIGN_UP:this.props.dispatch(h.auth.signUpExtraInfo({formId:t}));break;case p.AuthFormState.EMAIL_ONLY:this.props.dispatch(h.auth.emailOnly({formId:t}))}this.props.onBlur&&this.props.onBlur(e,!0)}),this.setAuthFormsState=(t=>(t=>{this.setState(t)})(t))}UNSAFE_componentWillMount(){this.props.auth.formState!==p.AuthFormState.SIGN_UP_EXTRA_INFO&&(this.props.dispatch(h.auth.setGoogleIdToken({googleIdToken:null})),this.setState({password:null}))}render(){return o.desktopApp?a.createElement(d.AppAuthDesktopRequestForm,Object.assign({appType:p.AppAuthAppType.DESKTOP},this.props)):this.props.auth.twoFactorRequired?a.createElement(u.TwoFactorForm,Object.assign({password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_IN?a.createElement(m.SignInForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_UP?a.createElement(m.SignUpForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SIGN_UP_EXTRA_INFO?a.createElement(S.SignUpExtraInfoForm,Object.assign({onFormSubmit:this.onFormSubmit,password:this.state.password,googleIdToken:this.props.auth.googleIdToken},this.props)):this.props.auth.formState===p.AuthFormState.RESET_PASSWORD?a.createElement(n.ResetPasswordForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.VALIDATE_CODE?a.createElement(A.ValidateCode,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.SAML_START?a.createElement(m.SamlStartForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===p.AuthFormState.EMAIL_ONLY?a.createElement(_.EmailOnlyForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):void 0}}e.AuthForms=E,E.displayName="AuthForms"}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=e(5            );let r=!1;s.disableIPCForTests=function(){r=!0};const l="ipc:";s.IPC=class{constructor(){this.storage=a.localStorageOrNull,this._onStorageEvent=(t=>{if(r)return;let s=t.key;if(t.storageArea===this.storage&&null!==t.newValue&&(null==s?void 0:s.startsWith(l))){let a=null;try{a=JSON.parse(t.newValue)[0]}catch(e){return}let r=null;for(const t of this.callbacks[s]||[])try{t(a)}catch(e){r=e}if(r)throw r}});const t=this.storage;if(t)for(const s of Object.keys(t))s.startsWith(l)&&delete t[s];this.callbacks={},window.addEventListener("storage",this._onStorageEvent,!1)}_callbacksForMessage(t){let s=l+t;return this.callbacks[s]||(this.callbacks[s]=[]),this.callbacks[s]}sendToOtherTabs(t,s){if(!r&&this.storage)try{this.storage[l+t]=JSON.stringify([s,Math.random()])}catch(e){console.error((e&&e.stack||e)+"")}}sendToAllTabs(t,s){let e=this._callbacksForMessage(t),a=null;for(const l of e)try{l(s)}catch(r){a=r}if(this.sendToOtherTabs(t,s),a)throw a}register(t,s){let e=this._callbacksForMessage(t);e.indexOf(s)<0&&e.push(s)}unregister(t,s){let e=this._callbacksForMessage(t),a=e.indexOf(s);a>=0&&e.splice(a,1)}}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormData=(e=>{const t=e.elements,n={};for(let l=0;l<t.length;l++){let e=t.item(l);e.name&&e.value&&(n[e.name]=e.value)}return n})}),
(function(e,t,r){"use strict";function n(e,t){const r=e.charCodeAt(t);if(Number.isNaN(r))return"";if(r<55296||r>57343)return e.charAt(t);if(55296<=r&&r<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";const r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}throw"Not the start of a single- or multibyte-character"}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t.camelCasedToDashed=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.encodeUTF8=function(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(var n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},t.decodeUTF8=function(e){let t="";const r=e.length;for(var n=0;n<r;n+=1024)t+=String.fromCharCode.apply(String,e.subarray(n,n+1024));return"\0"===t.slice(-1)&&(t=t.slice(0,-1)),decodeURIComponent(escape(t))},t.truncateText=function(e,t){return e.length>t?e.slice(0,t-3)+"...":e},t.stringToArrayOfRealChars=function(e){const t=[];for(let r=0;r<e.length;r++){const o=n(e,r);r+=o.length-1,t.push(o)}return t};const o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function a(e,t,r){return r=r||`${t}s`,1===e?t:r}function u(e){return e<1e3?e.toString():e<1e5?`${Math.floor(e/100)/10}k`:e<1e6?`${Math.floor(e/1e3)}k`:e<1e8?`${Math.floor(e/1e5)/10}m`:e<1e9?`${Math.floor(e/1e6)}m`:e<1e11?`${Math.floor(e/1e8)/10}b`:`${Math.floor(e/1e9)}b`}t.compareStringsNaturally=function(e,t){return e=e||"",t=t||"",o.compare(e,t)},t.joinWordsNaturally=function(e){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length-1).join(", ")} and ${e[e.length-1]}`},t.default=function(e){var t=[];return(e=e.replace(/_|-/g," ")).split(" ").forEach(function(e){t.push(e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}),t.join(" ")},t.getPluralOrSingular=a,t.pluralize=function(e=0,t,r){return`${e} ${a(e,t,r)}`},t.prettyRound=u,t.pluralizeAndRoundCount=function(e=0,t,r){return`${u(e)} ${a(e,t,r)}`},t.URISlug=function(e){return encodeURIComponent(e.replace(/ /g,"-"))},t.parseURIString=function(e){return decodeURIComponent(e)},t.isVowel=(e=>/^[aeiou]$/i.test(e)),t.isUrl=(e=>/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)/.test(e))}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(23         ),n=s(100         ),r=s(21                       );!function(e){e.validateSignInForm=(e=>{const s=e.email&&e.email.trim(),t=e.password&&e.password.trim();return a(t,s)}),e.validateSignUpForm=(e=>{const t=e.email&&e.email.trim(),n=e.password&&e.password.trim(),r=e.name&&e.name.trim();let i=a(n,t);return i.message||(i=s(n,t,r)),i});const a=(e,a)=>a?t.isEmail(a)?e?{message:"",invalidInput:null}:{message:"Please provide your password.",invalidInput:r.AuthInputType.PASSWORD}:{message:"Hmm, that email address doesn't look right.",invalidInput:r.AuthInputType.EMAIL}:{message:"Please provide your email.",invalidInput:r.AuthInputType.EMAIL},s=(e,a,s)=>{let t="";return n.encodeUTF8(e).length>500&&(t="Ok, that password is hilariously long!"),Array.from(e).length<8&&(t="Please set a password longer than eight characters."),e===a&&(t="Your email cannot be the same as your password."),s&&e===s&&(t="Your name cannot be the same as your password."),t?{message:t,invalidInput:r.AuthInputType.PASSWORD}:{message:"",invalidInput:null}}}(a.authHelpers||(a.authHelpers={}))}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(13           ),o=a(20              ),r=a(76                  ),i=a(21              ),n=a(11      ),h=a(15           ),m=a(23         ),u=a(1                    ),d=a(98       ),c=a(99                ),p=a(101                       ),l=a(18            ),_=a(92                            ),g=a(7                ),S=["logged_out_footer","prototype_header_nav","prototype_comment_signed_out"];e.authMiddleware=(t=>e=>(function(a){const f=t.getState(),I=e=>{console.error(e);let a=e.data;if(a&&a.reason&&"two_factor"===a.reason.missing){let e;return t.dispatch(o.auth.toggleSMS(a.reason.sms)),a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(o.auth.requireTwoFactor({required:!0,hint:e}))}let s,r,n=a&&a.message||"An error occurred";a&&401===a.status?s=i.ErrorType.UNAUTHORIZED:a&&400===a.status?s=i.ErrorType.BAD_REQUEST:a&&404===a.status&&"no_saml"===a.reason?s=i.ErrorType.NO_SAML:a&&403===a.status&&"saml_required"===a.reason&&(s=i.ErrorType.SAML_REQUIRED),f.auth.formState===i.AuthFormState.SIGN_IN&&f.auth.twoFactorRequired?r=i.AuthInputType.TOTP_KEY:f.auth.formState===i.AuthFormState.RESET_PASSWORD?r=i.AuthInputType.PASSWORD:a&&a.reason&&("password"===a.reason.missing||"password"===a.reason.invalid)?r=i.AuthInputType.PASSWORD:f.auth.formState===i.AuthFormState.SAML_START&&(r=i.AuthInputType.EMAIL),f.auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO&&(a.reason&&"uniqueness"===a.reason.invalid?t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_IN})):t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP}))),t.dispatch(o.auth.showError({message:n,errorType:s,invalidInput:r}))},A=(t,e={})=>{s.segment.track("Auth Actions",Object.assign({eventSubtype:t,origin:f.auth.origin},e))};if(o.auth.init.matches(a)){a.payload.formState=a.payload.formState||u.initialOptions().form_state||i.AuthFormState.SIGN_UP,s.segment.track("Auth Actions",{eventSubtype:"show_auth_page",formState:a.payload.formState,origin:a.payload.origin});let r=new d.IPC;return u.initialOptions().user_data||(r.sendToAllTabs("logged-out"),r.register("logged-in",()=>{t.dispatch(o.auth.complete())})),t.dispatch(o.auth.realtimeInit({formState:a.payload.formState})),e(a)}if(o.auth.sendSMS.matches(a)){A("sms_recover_attempt");const s=document.getElementById(a.payload.formId),r=c.getFormData(s);return n.default.post("/api/session/sms_recover",r).then(({data:e})=>{A("sms_recover_success"),e&&e.meta&&t.dispatch(o.auth.requireTwoFactor({required:!0,hint:`Code was sent to ${e.meta.phone_number}`}))}).catch(I),e(a)}if(o.auth.signUpExtraInfo.matches(a)){A("sign_up_extra_info_attempt");const e=document.getElementById(a.payload.formId),s=c.getFormData(e),r=p.authHelpers.validateSignUpForm(s);if(r.message)return t.dispatch(o.auth.showError({message:r.message,invalidInput:r.invalidInput}));A("sign_up_extra_info_success"),t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP_EXTRA_INFO}))}else{if(!o.auth.signUpGoBack.matches(a)){if(o.auth.signUp.matches(a)){const s=document.getElementById(a.payload.formId),r=c.getFormData(s),h=!!g.parse(location.search).is_not_gen_0||f.auth.origin&&S.indexOf(f.auth.origin)>-1,m="true"===r.opt_in_email;if(!r.googleIdToken){A("sign_up_attempt");const s=p.authHelpers.validateSignUpForm(r);if(s.message)return t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(o.auth.showError({message:s.message,invalidInput:s.invalidInput}));const u=Object.assign(Object.assign({},r),{opt_in_email:m,job_title:f.auth.jobTitle,is_not_gen_0:h,profile_handle:f.auth.profileHandle||null});return n.default.post("/api/session/auth",u).then(()=>{A("sign_up_success"),t.dispatch(o.auth.complete())}).catch(I),e(a)}{A("google_sso_attempt");let e="web";(l.isIosMirrorApp()||l.isAndroidMirrorApp())&&(e="mobile"),n.default.post("/api/session/google_auth/signup",{name:r.name,id_token:r.googleIdToken,source:e,job_title:f.auth.jobTitle,opt_in_email:m,is_not_gen_0:h}).then(({data:e})=>{A("google_sso_success"),t.dispatch(o.auth.complete())},({data:e})=>(t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(o.auth.showError({message:e.message}))))}return e(a)}if(o.auth.signIn.matches(a)){A("sign_in_attempt");const s=document.getElementById(a.payload.formId),i=c.getFormData(s),h=p.authHelpers.validateSignInForm(i);return h.message?t.dispatch(o.auth.showError({message:h.message,invalidInput:h.invalidInput})):(i.username=i.email.trim(),n.default.post("/api/session/login",i).then(({data:e})=>{A("sign_in_success"),t.dispatch(o.auth.complete()),t.dispatch(r.flashActions.flash("Authenticated as "+e.meta.email))}).catch(I),e(a))}if(o.auth.spellcheckDomain.matches(a)){const s=f.auth.email;if(s&&m.isEmail(s)){const e=s.split("@")[1],a=m.spellcheckDomain(e);t.dispatch(o.auth.setDomainSuggestion({domain:a}))}return e(a)}if(o.auth.sendPasswordReset.matches(a))return A("send_reset_password_email_attempt"),n.default.post("/api/password/forgot",{username:f.auth.email}).then(()=>{A("send_reset_password_email_success"),t.dispatch(o.auth.showForm({formState:i.AuthFormState.SENT_PASSWORD_RESET}))}).catch(I),e(a);if(o.auth.sendEmailSamlStart.matches(a)){A("saml_redirect_to_provider_attempt");const t=document.getElementById(a.payload.formId),s=c.getFormData(t);return s.email=s.email.trim(),m.isEmail(s.email)&&n.default.get("/api/saml",{email:s.email}).then(({data:t})=>{A("saml_redirect_to_provider_success"),h.redirect(t.meta.sp_sso_target_url)}).catch(t=>{I(t)}),e(a)}if(o.auth.samlStartFromSession.matches(a))return A("saml_gate_redirect_attempt"),n.default.get("/api/session/sso_config").then(({data:e})=>{e.meta.org_saml_config?(A("saml_gate_redirect_success"),h.redirect(e.meta.org_saml_config.sp_sso_target_url)):t.dispatch(o.auth.showError({message:"Session expired or invalid"}))}).catch(t=>{I(t)}),e(a);if(o.auth.emailOnly.matches(a)){A("email_only_attempt");const s=document.getElementById(a.payload.formId),r=c.getFormData(s);return n.default.get("/api/session/sso_config",r).then(({data:e})=>{A("email_only_success"),"guest"===e.meta.account_type?t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_UP})):f.auth.ssoMethod===i.SSOMethod.SAML?h.redirect(e.meta.org_saml_config.sp_sso_target_url):t.dispatch(o.auth.showForm({formState:i.AuthFormState.SSO_GATE}))}).catch(t=>{I(t)}),e(a)}if(o.auth.resetPassword.matches(a)){A("reset_password_attempt"),e(a);const s=document.getElementById(a.payload.formId),r=c.getFormData(s);return void(r.password!==r.password_retype?t.dispatch(o.auth.showError({message:"These passwords don't match. Try again?",invalidInput:i.AuthInputType.PASSWORD})):n.default.post("/api/password/recover",r).then(({data:e})=>{const a=e.meta;if("totp_key"==a.required){let e;return a.reason&&a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(o.auth.requireTwoFactor({required:!0,hint:e}))}A("reset_password_success"),t.dispatch(o.auth.complete())}).catch(I))}if(o.auth.validateCode.matches(a)){A("validate_code_attempt"),e(a);const s=document.getElementById(a.payload.formId),r=c.getFormData(s)[i.AuthInputType.VERIFICATION_CODE];return void(r?n.default.post("/api/saml/validate_code",{code:r}).then(t=>{h.redirect(t.data.meta.redirect)}).catch(e=>{let a=e.data,s=a&&a.message||"An error occurred";"invalid_session"===a.reason?h.redirect("/"):t.dispatch(o.auth.showError({message:s,invalidInput:i.AuthInputType.VERIFICATION_CODE}))}):t.dispatch(o.auth.showError({message:"Please enter a code",invalidInput:i.AuthInputType.VERIFICATION_CODE})))}if(o.auth.resendCode.matches(a))return A("resend_code"),e(a),void n.default.post("api/saml/resend_code").then(()=>{t.dispatch(r.flashActions.flash("The code has be resent. Please check your email."))}).catch(e=>{let a=e.data,s=a&&a.message||"An error occurred resending the code";"invalid_session"===a.reason&&h.redirect("/"),t.dispatch(r.flashActions.error(s))});if(o.auth.showError.matches(a)){if(A("error",a.payload),e(a),a.payload.errorType===i.ErrorType.UNAUTHORIZED){if(t.getState().auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO){const e=a.payload.message;t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_IN,errorMessage:e}))}}else if(a.payload.errorType==i.ErrorType.SAML_REQUIRED){const e=a.payload.message;t.dispatch(o.auth.showForm({formState:i.AuthFormState.SAML_START,errorMessage:e}))}return}return o.auth.complete.matches(a)?(f.auth.redirectUrl?h.redirect(f.auth.redirectUrl):_.reload(),e(a)):o.auth.sendValidationEmail.matches(a)?(A("send_validation_email_attempt"),n.default.post("/api/validation/email/send").then(e=>(A("send_validation_email_success"),t.dispatch(o.auth.showSuccess({message:e.data.message})))).catch(e=>{console.error(e);return t.dispatch(o.auth.showError({message:"An error occurred while sending the confirmation email."}))}),e(a)):o.auth.showForm.matches(a)?(A("change_form_state",{oldFormState:f.auth.formState,newFormState:a.payload.formState}),e(a)):e(a)}A("sign_up_go_back"),t.dispatch(o.auth.showForm({formState:i.AuthFormState.SIGN_IN}))}}))}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var u=t(20                       );a.authActions=u.auth;var i=t(102                         );a.authMiddleware=i.authMiddleware;var r=t(97                                    );a.AuthView=r.AuthView;var h=t(101             );a.authHelpers=h.authHelpers}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(1                    ),n=t(20                       ),l=t(21                       );a.defaultState={formState:void 0,email:"",name:"",profileHandle:"",jobTitle:"",accessCode:null,emailToken:null,optInEmail:!1,passwordLength:0,redirectUrl:null,loading:!1,error:null,success:null,domainSuggestion:null,appAuthId:null,appAuthAppType:null,appAuthGSecret:null,appAuthDesktopProtocol:null,googleIdToken:null,ssoMethod:null,orgName:null,existingSession:!1},a.auth=function(e=a.defaultState,t){if(n.auth.init.matches(t)){let a=s.default();return{formState:t.payload.formState,email:a.email||"",name:a.name||"",profileHandle:"",jobTitle:"",accessCode:a.access_code||null,emailToken:a.email_token||null,optInEmail:!1,passwordLength:0,redirectUrl:e.redirectUrl||a.redirect_url||null,loading:!1,error:a.error||null,success:null,domainSuggestion:null,origin:t.payload.origin,appAuthId:a.app_auth_id||null,appAuthAppType:a.app_auth_app_type||null,appAuthGSecret:a.app_auth_g_secret||null,appAuthDesktopProtocol:a.app_auth_desktop_protocol||null,googleIdToken:null,ssoMethod:a.sso_method||null,orgName:a.org_name||null,existingSession:a.existing_session||!1}}if(n.auth.redeemReset.matches(t))return Object.assign(Object.assign({},e),{loading:!1,appAuthId:null,appAuthGSecret:null,redirectUrl:null,formState:l.AuthFormState.SIGN_IN});if(n.auth.setRedirectUrl.matches(t))return Object.assign(Object.assign({},e),{redirectUrl:t.payload.redirectUrl});if(n.auth.setGoogleIdToken.matches(t))return Object.assign(Object.assign({},e),{googleIdToken:t.payload.googleIdToken});if(n.auth.changeEmail.matches(t))return Object.assign(Object.assign({},e),{email:t.payload.value});if(n.auth.changeName.matches(t))return Object.assign(Object.assign({},e),{name:t.payload.value});if(n.auth.changeHandle.matches(t))return Object.assign(Object.assign({},e),{profileHandle:t.payload.value});if(n.auth.changeOptInEmail.matches(t))return Object.assign(Object.assign({},e),{optInEmail:t.payload.value});if(n.auth.toggleSMS.matches(t))return Object.assign(Object.assign({},e),{smsOkay:t.payload});if(n.auth.requireTwoFactor.matches(t))return Object.assign(Object.assign({},e),{loading:!1,twoFactorRequired:t.payload.required,hint:t.payload.hint,error:null,success:null});if(n.auth.changeJob.matches(t))return Object.assign(Object.assign({},e),{jobTitle:t.payload.value});if(n.auth.changePasswordLength.matches(t))return Object.assign(Object.assign({},e),{passwordLength:t.payload.value});if(n.auth.setDomainSuggestion.matches(t))return Object.assign(Object.assign({},e),{domainSuggestion:t.payload.domain});if(n.auth.useDomainSuggestion.matches(t)){const a=`${e.email.split("@")[0]}@${e.domainSuggestion}`;return Object.assign(Object.assign({},e),{email:a,domainSuggestion:null})}return n.auth.showForm.matches(t)?t.payload.formState!==e.formState?Object.assign(Object.assign({},e),{formState:t.payload.formState,loading:!1,error:t.payload.errorMessage||null,success:null,invalidInput:null}):e:n.auth.showError.matches(t)?Object.assign(Object.assign({},e),{loading:!1,error:t.payload.message,errorType:t.payload.errorType,invalidInput:t.payload.invalidInput,success:null}):n.auth.clearError.matches(t)?Object.assign(Object.assign({},e),{error:null,errorType:null,invalidInput:null,success:null}):n.auth.showSuccess.matches(t)?Object.assign(Object.assign({},e),{error:null,errorType:null,invalidInput:null,loading:!1,success:t.payload.message}):n.auth.signIn.matches(t)||n.auth.signUp.matches(t)||n.auth.sendValidationEmail.matches(t)||n.auth.resetPassword.matches(t)||n.auth.validateCode.matches(t)||n.auth.sendPasswordReset.matches(t)||n.auth.sendEmailSamlStart.matches(t)?Object.assign(Object.assign({},e),{loading:!0,error:null,success:null}):e}}),
(function(e,s,u){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=u(9,1    ),h=u(104                        ),t=u(76                  );s.authApp=a.combineReducers({auth:h.auth,flashes:t.flashReducer})}),
(function(a,e,r){a.exports={authViewWrapper:"auth_iframe_app_view--authViewWrapper--30Nza",brand:"auth_iframe_app_view--brand--2xjL6 auth_branding--brand--3FsKf",authViewCenter:"auth_iframe_app_view--authViewCenter--3mYPa"}}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=a(2,1    ),s=a(9,1    ),r=a(0                                    ),n=a(97                                                    ),i=a(21                             ),h=a(75                                                 ),d=a(43,1         ),u=a(103                     ),c=a(105                               ),l=a(76                        ),m=a(106                         ),p=a(1                    );function w({auth:t,flashes:e}){return{auth:t,flashes:e}}const A=d.connect(w)(n.AuthView),_=d.connect(w)(h.FlashView);class f extends o.Component{constructor(t){super(t),this.catchAndForwardEsc=(t=>{t&&27===t.keyCode&&this.sendHideModelToParent()}),this.sendHideModelToParent=(()=>{window.parent&&window.parent.postMessage({keyPress:"esc"},"*")});let e=s.compose(s.applyMiddleware(u.authMiddleware,l.flashMiddleware),t=>t);this.store=s.createStore(c.authApp,e),this.store.dispatch(u.authActions.init({origin:"auth_iframe_app"})),this.setAuthFormStateFromEvent=(t=>{t.data&&i.AuthFormState[t.data.formState]&&(!function(t,e){i.AuthFormState[t]!==i.AuthFormState.SIGN_UP?e(u.authActions.showForm({formState:i.AuthFormState.SIGN_UP})):i.AuthFormState[t]!==i.AuthFormState.SIGN_IN&&e(u.authActions.showForm({formState:i.AuthFormState.SIGN_IN}))}(t.data.formState,this.store.dispatch),this.store.dispatch(u.authActions.showForm({formState:i.AuthFormState[t.data.formState]})))}),window.addEventListener("message",this.setAuthFormStateFromEvent,!1),window.addEventListener("keydown",this.catchAndForwardEsc)}componentWillUnmount(){window.removeEventListener("message",this.setAuthFormStateFromEvent),window.removeEventListener("keydown",this.catchAndForwardEsc)}render(){return o.createElement(d.Provider,{store:this.store},o.createElement("div",{className:`${m.authViewWrapper} ${m.brand}`,onClick:this.sendHideModelToParent},o.createElement("div",{className:m.authViewCenter,onClick:t=>t.stopPropagation()},o.createElement(r.TabLoop,null,o.createElement(A,{id:"auth-view-page",noAutofocus:!p.initialOptions().auth_autofocus}))),o.createElement(_,null)))}}e.AuthApp=f,f.displayName="AuthApp"}),
(function(n,o,t){n.exports={}}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2,1    ),d=n(6,1        ),a=n(107                           );n(108                             ),window.self===window.top&&(window.location.href="/login"),document.addEventListener("DOMContentLoaded",()=>{d.render(o.createElement(a.AuthApp,null),document.getElementById("react-page"))})})]);
